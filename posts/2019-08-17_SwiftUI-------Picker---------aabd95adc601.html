<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SwiftUI 選擇項目的 Picker &amp; 我要選李白</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">SwiftUI 選擇項目的 Picker &amp; 我要選李白</h1>
</header>
<section data-field="subtitle" class="p-summary">
SwiftUI 的 picker 方便我們選擇項目，而且它不只能呈現文字，想以客製的圖文顯示也不是問題，甚至還能變身成 Segmented Control。接下來就讓我們好好認識它跟實現我要選李白的功能吧。
</section>
<section data-field="body" class="e-content">
<section name="78d5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="fdb9" id="fdb9" class="graf graf--h3 graf--leading graf--title">SwiftUI 選擇項目的 Picker &amp; 我要選李白</h3><p name="1303" id="1303" class="graf graf--p graf-after--h3">SwiftUI 的 Picker 方便我們選擇項目，而且它不只能呈現文字，想以客製的圖文顯示也不是問題，甚至還能變身成 Segmented Control。接下來就讓我們好好認識它跟實現我要選李白的功能吧。</p><figure name="6999" id="6999" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*N1eHDA1vLE0QlWSYOkbfMA.png" data-width="1698" data-height="1200" src="https://cdn-images-1.medium.com/max/800/1*N1eHDA1vLE0QlWSYOkbfMA.png"></figure><div name="5ff8" id="5ff8" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/swiftui/picker" data-href="https://developer.apple.com/documentation/swiftui/picker" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/picker"><strong class="markup--strong markup--mixtapeEmbed-strong">Picker | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A control for selecting from a set of mutually exclusive values.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/picker" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e97e04a2e9182b02ebd341c67d7baf23" data-thumbnail-img-id="0*MWj-Kn2xR-YZ93hq" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*MWj-Kn2xR-YZ93hq);"></a></div><figure name="d07b" id="d07b" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*fG40gjpoQgfuUQ8j965CXg.png" data-width="426" data-height="390" src="https://cdn-images-1.medium.com/max/800/1*fG40gjpoQgfuUQ8j965CXg.png"></figure><h3 name="0ec6" id="0ec6" class="graf graf--h3 graf-after--figure">綁定遵從 protocol Hashable 變數的 Picker</h3><p name="f4e3" id="f4e3" class="graf graf--p graf-after--h3">Picker 的 init 接受型別 <strong class="markup--strong markup--p-strong">Binding&lt;SelectionValue&gt;</strong> 的參數，當使用者選擇某個選項時，Picker 綁定的資料會更新。SelectionValue 是 Picker 搭配的 generic type，它必須遵從 protocol Hashable，因此我們必須傳入遵從 protocol Hashable 的變數讓它綁定。</p><figure name="f01c" id="f01c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dLnzmMmYCKlhxfYDhejN_g.png" data-width="2034" data-height="974" src="https://cdn-images-1.medium.com/max/800/1*dLnzmMmYCKlhxfYDhejN_g.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="648a" id="648a" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Picker</span>&lt;<span class="hljs-title class_">Label</span>, <span class="hljs-title class_">SelectionValue</span>, <span class="hljs-title class_">Content</span>&gt; <span class="hljs-title class_">where</span> <span class="hljs-title class_">Label</span> : <span class="hljs-title class_">View</span>, <span class="hljs-title class_">SelectionValue</span> : <span class="hljs-title class_">Hashable</span>, <span class="hljs-title class_">Content</span> : <span class="hljs-title class_">View</span></span></pre><p name="c4b7" id="c4b7" class="graf graf--p graf-after--pre">遵從 Hashable protocol 有什麼用呢 ? 當一個型別遵從 Hashable 時，它的資料可以產生一個叫 hash value 的數字(雜湊值)，到時候可利用 hash value 判斷是否為同一筆資料。關於 Hashable 的更多說明可參考以下連結。</p><div name="5cdc" id="5cdc" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swift-%E7%9A%84-hashable-protocol-6df8adfdcb54" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swift-%E7%9A%84-hashable-protocol-6df8adfdcb54" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swift-%E7%9A%84-hashable-protocol-6df8adfdcb54"><strong class="markup--strong markup--mixtapeEmbed-strong">Swift 的 Hashable protocol</strong><br><em class="markup--em markup--mixtapeEmbed-em">Swift 裡有一個特別的 Hashable protocol，我們在很多地方都可以看到它的蹤跡。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swift-%E7%9A%84-hashable-protocol-6df8adfdcb54" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="be07081914538004cc4ff12ea71af6ad" data-thumbnail-img-id="1*WNs3MCWZIKAas7mWk-hUTQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*WNs3MCWZIKAas7mWk-hUTQ.jpeg);"></a></div><h3 name="92fa" id="92fa" class="graf graf--h3 graf-after--mixtapeEmbed">利用 Picker &amp; tag 做選擇</h3><p name="32e4" id="32e4" class="graf graf--p graf-after--h3">假設 array roles 裡存了 4 個角色，李白，李嘉誠，彼得潘，奇妙仙子，有的帥，有的美，有的有錢，要是能重來，我們要選哪一個呢 ?</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="43e2" id="43e2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">0</span>]).tag(<span class="hljs-number">0</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">1</span>]).tag(<span class="hljs-number">1</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">2</span>]).tag(<span class="hljs-number">2</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">3</span>]).tag(<span class="hljs-number">3</span>)<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><p name="a0f5" id="a0f5" class="graf graf--p graf-after--pre">點選後顯示角色選單。</p><figure name="3646" id="3646" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PvPxqyoD3hV-UYno-SyQwg.jpeg" data-width="2388" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*PvPxqyoD3hV-UYno-SyQwg.jpeg"></figure><p name="5a1e" id="5a1e" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">說明。</strong></p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2029" id="2029" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">0</span>]).tag(<span class="hljs-number">0</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">1</span>]).tag(<span class="hljs-number">1</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">2</span>]).tag(<span class="hljs-number">2</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">3</span>]).tag(<span class="hljs-number">3</span>)<br />}</span></pre><p name="da37" id="da37" class="graf graf--p graf-after--pre">以上產生 Picker 的 init 定義如下。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1684" id="1684" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">init</span>(<br />    <span class="hljs-keyword">_</span> <span class="hljs-params">titleKey</span>: <span class="hljs-type">LocalizedStringKey</span>,<br />    <span class="hljs-params">selection</span>: <span class="hljs-type">Binding</span>&lt;<span class="hljs-type">SelectionValue</span>&gt;,<br />    <span class="hljs-meta">@ViewBuilder</span> <span class="hljs-params">content</span>: () -&gt; <span class="hljs-type">Content</span><br />)</span></pre><p name="a6ea" id="a6ea" class="graf graf--p graf-after--pre">參數說明</p><ul class="postList"><li name="a513" id="a513" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">titleKey</strong></li></ul><p name="b73b" id="b73b" class="graf graf--p graf-after--li">不會顯示，可用於 accessibility 說明元件的目的，比方搭配 VoiceOver 功能。</p><ul class="postList"><li name="3275" id="3275" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">selection</strong></li></ul><p name="5940" id="5940" class="graf graf--p graf-after--li">Picker 綁定的資料。當使用者選取某個項目時，它將更新我們傳入的 selection 參數，因此我們可從 selection 參數判斷使用者選取的項目。</p><ul class="postList"><li name="c3af" id="c3af" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">content</strong></li></ul><p name="3068" id="3068" class="graf graf--p graf-after--li">產生 picker 的選項。</p><p name="1da3" id="1da3" class="graf graf--p graf-after--p">在剛剛的例子裡，我們宣告型別整數的 state property selectedIndex，然後將它的 Binding 傳入 Picker 的 selection 參數。因為整數遵從 protocol Hashable，所以可以被 Picker 綁定。到時候整數的數字將對應選取的項目。比方選擇李白時 selectedIndex 將為 0，選擇李嘉誠時 selectedIndex 將為 1。</p><p name="dda6" id="dda6" class="graf graf--p graf-after--p">不過問題來了，picker 如何知道每個選項對應的數字呢 ? 這其實是由選項的 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">tag</strong></code> 決定的，我們可透過 tag function 設定 tag，當某個選項被選取時，它的 tag 將存入 picker 綁定的資料變數裡。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4499" id="4499" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">0</span>]).tag(<span class="hljs-number">0</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">1</span>]).tag(<span class="hljs-number">1</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">2</span>]).tag(<span class="hljs-number">2</span>)<br />    <span class="hljs-type">Text</span>(roles[<span class="hljs-number">3</span>]).tag(<span class="hljs-number">3</span>)<br />}</span></pre><p name="8f84" id="8f84" class="graf graf--p graf-after--pre">生成 picker 時，參數 content 傳入的 closure 控制 picker 顯示的內容。我們產生 4 個 Text，因此它將顯示 4 個選項。在此我們利用 tag 設定 Text 對應的數字，第一個 Text 設為 0，第二個設為 1，其它以此類推。當使用者選取某個項目時，此項目對應的 tag 內容將存入 Picker 綁定的 Binding 參數，也就是 selectedIndex 裡。</p><figure name="1b02" id="1b02" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PM8a9Rhgl-xxXAUvw1IrpQ.png" data-width="1080" data-height="1454" src="https://cdn-images-1.medium.com/max/800/1*PM8a9Rhgl-xxXAUvw1IrpQ.png"></figure><h3 name="1a07" id="1a07" class="graf graf--h3 graf-after--figure">Picker 的另一種寫法</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="60a6" id="60a6" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">0</span>]).tag(<span class="hljs-number">0</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">1</span>]).tag(<span class="hljs-number">1</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">2</span>]).tag(<span class="hljs-number">2</span>)<br />                <span class="hljs-type">Text</span>(roles[<span class="hljs-number">3</span>]).tag(<span class="hljs-number">3</span>)<br />            } label: {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>)<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><p name="ebd7" id="ebd7" class="graf graf--p graf-after--pre">搭配的 init 如下。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="199c" id="199c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">init</span>(<br />    <span class="hljs-params">selection</span>: <span class="hljs-type">Binding</span>&lt;<span class="hljs-type">SelectionValue</span>&gt;,<br />    <span class="hljs-meta">@ViewBuilder</span> <span class="hljs-params">content</span>: () -&gt; <span class="hljs-type">Content</span>,<br />    <span class="hljs-meta">@ViewBuilder</span> <span class="hljs-params">label</span>: () -&gt; <span class="hljs-type">Label</span><br />)</span></pre><h3 name="91e4" id="91e4" class="graf graf--h3 graf-after--pre">結合 Picker，ForEach &amp; range</h3><p name="b444" id="b444" class="graf graf--p graf-after--h3">剛剛 array roles 裡只有 4 個角色，如果變成 100 個角色，我們豈不是要辛苦地寫 100 行 Text，而且每一個都要分別設定 tag ?</p><p name="b027" id="b027" class="graf graf--p graf-after--p">用不著這麼辛苦，我們可以利用 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">ForEach</strong></code> 將 array 裡的每個字串變成 Text。以下程式將讓 Picker 顯示 4 個選項，而且我們也不用自己設定 tag，因為當 ForEach 搭配參數 range 時，它會自動幫我們加上 tag，讓 picker 裡的第一個元件 tag 為 0，第二個元件 tag 為 1，其它以此類推。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="c177" id="c177" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[index])<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="a64f" id="a64f" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*PM8a9Rhgl-xxXAUvw1IrpQ.png" data-width="1080" data-height="1454" src="https://cdn-images-1.medium.com/max/800/1*PM8a9Rhgl-xxXAUvw1IrpQ.png"></figure><p name="6d04" id="6d04" class="graf graf--p graf-after--figure">以下是另一個複雜一點的例子，array 裡的成員是自訂型別 Role。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="32ef" id="32ef" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李白&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李嘉誠&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;彼得潘&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;奇妙仙子&quot;</span>, gender: <span class="hljs-string">&quot;女&quot;</span>)<br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[index].name)<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex].name)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="ebd4" id="ebd4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*PM8a9Rhgl-xxXAUvw1IrpQ.png" data-width="1080" data-height="1454" src="https://cdn-images-1.medium.com/max/800/1*PM8a9Rhgl-xxXAUvw1IrpQ.png"></figure><p name="d269" id="d269" class="graf graf--p graf-after--figure">ForEach 搭配數字範圍時，tag 的數字將從 0 開始，比方以下程式用 Picker 選擇適合談戀愛的年紀，文字 18 歲的 tag 為 0，19 歲的 tag 為 1。因此當我們將 Picker 綁定變數 loveAge 時，loveAge 等於 2 將讓 Picker 選到 20 歲，而不是 2 歲。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="7494" id="7494" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> loveAge <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;age&quot;</span>, selection: <span class="hljs-variable">$loveAge</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-number">18</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">100</span>) { age <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(age)</span>歲&quot;</span>)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;適合談戀愛的年紀: <span class="hljs-subst">\(<span class="hljs-number">18</span> <span class="hljs-operator">+</span> loveAge)</span> 歲&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="1614" id="1614" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*i8c84cgQu-ua-5xtCJzHxg.png" data-width="1044" data-height="1436" src="https://cdn-images-1.medium.com/max/800/1*i8c84cgQu-ua-5xtCJzHxg.png"></figure><h3 name="2021" id="2021" class="graf graf--h3 graf-after--figure">結合 Picker，ForEach &amp; id</h3><p name="e3dc" id="e3dc" class="graf graf--p graf-after--h3">使用者選取項目的 tag 將存入 Picker 綁定的資料變數，但 tag 其實不見得是整數，比方以下例子的 tag 是字串。(字串遵從 protocol Hashable，所以也可被 Picker 綁定)</p><p name="0dfd" id="0dfd" class="graf graf--p graf-after--p">Picker 綁定的資料是角色的名字，ForEach 的參數則傳入 array，此時 ForEach 的參數 id 將決定 Text 對應的 tag。以下例子我們在參數 id 傳入 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">\.self</strong></code>，array roles 裡區分成員的 id 將是角色的名字，因此第一個 Text 的 tag 為李白，第二個為李嘉誠，其它以此類推。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="cb90" id="cb90" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;李白&quot;</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedName</span>) {<br />                <span class="hljs-type">ForEach</span>(roles, id: \.<span class="hljs-keyword">self</span>) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedName)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="0b07" id="0b07" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*G9Og3bx3h_Iv2yyKSZgS7g.png" data-width="1260" data-height="1440" src="https://cdn-images-1.medium.com/max/800/1*G9Og3bx3h_Iv2yyKSZgS7g.png"></figure><p name="5b26" id="5b26" class="graf graf--p graf-after--figure">學會搭配 id 的寫法後，我們也可以透過 id 修正之前 ForEach 搭配 range 的黃色警告。</p><figure name="2047" id="2047" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9AYBdTZSJ_ibQssrLyosgw.png" data-width="1582" data-height="348" src="https://cdn-images-1.medium.com/max/800/1*9AYBdTZSJ_ibQssrLyosgw.png"></figure><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="d6b4" id="d6b4" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices, id: \.<span class="hljs-keyword">self</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[index])<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><p name="3bc6" id="3bc6" class="graf graf--p graf-after--pre">以下是稍微複雜一點的例子，array 裡的成員型別是 Role，我們在生成 ForEach 時在 id 參數傳入 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">\.name</strong></code>，指定 Role 的 name 為 id。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3a30" id="3a30" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李白&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李嘉誠&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;彼得潘&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;奇妙仙子&quot;</span>, gender: <span class="hljs-string">&quot;女&quot;</span>)<br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;李白&quot;</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedName</span>) {<br />                <span class="hljs-type">ForEach</span>(roles, id: \.name) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role.name)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedName)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="f253" id="f253" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*G9Og3bx3h_Iv2yyKSZgS7g.png" data-width="1260" data-height="1440" src="https://cdn-images-1.medium.com/max/800/1*G9Og3bx3h_Iv2yyKSZgS7g.png"></figure><p name="8bc2" id="8bc2" class="graf graf--p graf-after--figure">我們也可以讓 Role 型別遵從 protocol Hashable，讓 Picker 直接綁定 Role 型別的資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="94fa" id="94fa" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Role</span>: <span class="hljs-title class_">Hashable</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> gender: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李白&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李嘉誠&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;彼得潘&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;奇妙仙子&quot;</span>, gender: <span class="hljs-string">&quot;女&quot;</span>)<br />    ]<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedRole <span class="hljs-operator">=</span> <span class="hljs-type">Role</span>.roles[<span class="hljs-number">0</span>]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedRole</span>) {<br />               <br />                <span class="hljs-type">ForEach</span>(<span class="hljs-type">Role</span>.roles, id: \.<span class="hljs-keyword">self</span>) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role.name)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedRole.name)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="adac" id="adac" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*_I0i-WoDyM08svndYDb9Dg.png" data-width="1410" data-height="1450" src="https://cdn-images-1.medium.com/max/800/1*_I0i-WoDyM08svndYDb9Dg.png"></figure><h3 name="0a21" id="0a21" class="graf graf--h3 graf-after--figure">結合 Picker，ForEach &amp; Identifiable</h3><p name="e4eb" id="e4eb" class="graf graf--p graf-after--h3">生成 ForEach 時除了指定 id，也可以搭配成員遵從 protocol <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">Identifiable</strong></code>的 array，如此成員的 id 即為 picker 選項的 tag。比方以下例子我們利用 extension 讓 String 遵從 protocol Identifiable，讓它的 id 是自己本身的字串內容。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="8986" id="8986" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">String</span>: <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> id: <span class="hljs-type">String</span> { <span class="hljs-keyword">self</span> }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;李白&quot;</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedName</span>) {<br />                <span class="hljs-type">ForEach</span>(roles) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role)<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedName)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="f735" id="f735" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*G9Og3bx3h_Iv2yyKSZgS7g.png" data-width="1260" data-height="1440" src="https://cdn-images-1.medium.com/max/800/1*G9Og3bx3h_Iv2yyKSZgS7g.png"></figure><p name="7d56" id="7d56" class="graf graf--p graf-after--figure">以下是稍微複雜一點的例子，array 裡的成員型別是 Role，Role 遵從 protocol Identifiable，以 name 當 id。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="05a5" id="05a5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Role</span>: <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> gender: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">var</span> id: <span class="hljs-type">String</span> { name }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李白&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李嘉誠&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;彼得潘&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;奇妙仙子&quot;</span>, gender: <span class="hljs-string">&quot;女&quot;</span>)<br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;李白&quot;</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedName</span>) {<br />                <span class="hljs-type">ForEach</span>(roles) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role.name)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedName)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="6022" id="6022" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*G9Og3bx3h_Iv2yyKSZgS7g.png" data-width="1260" data-height="1440" src="https://cdn-images-1.medium.com/max/800/1*G9Og3bx3h_Iv2yyKSZgS7g.png"></figure><p name="4ec7" id="4ec7" class="graf graf--p graf-after--figure">我們也可以讓 Role 型別遵從 protocol Hashable &amp; Identifiable，讓 Picker 直接綁定 Role 型別的資料，並以 Role 自己本身當 id。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1748" id="1748" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Role</span>: <span class="hljs-title class_">Hashable</span>, <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> gender: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">var</span> id: <span class="hljs-type">Role</span> { <span class="hljs-keyword">self</span> }<br />    <br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李白&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;李嘉誠&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;彼得潘&quot;</span>, gender: <span class="hljs-string">&quot;男&quot;</span>),<br />        <span class="hljs-type">Role</span>(name: <span class="hljs-string">&quot;奇妙仙子&quot;</span>, gender: <span class="hljs-string">&quot;女&quot;</span>)<br />    ]<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedRole <span class="hljs-operator">=</span> <span class="hljs-type">Role</span>.roles[<span class="hljs-number">0</span>]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedRole</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-type">Role</span>.roles) { role <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(role.name)<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedRole.name)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="275d" id="275d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*_I0i-WoDyM08svndYDb9Dg.png" data-width="1410" data-height="1450" src="https://cdn-images-1.medium.com/max/800/1*_I0i-WoDyM08svndYDb9Dg.png"></figure><h3 name="d783" id="d783" class="graf graf--h3 graf-after--figure">綁定 enum 資料</h3><p name="50fa" id="50fa" class="graf graf--p graf-after--h3">由於 enum 預設會遵從 protocol Hashable，所以 picker 也可以綁定 enum 資料，例如以下例子。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="56db" id="56db" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Animal</span>: <span class="hljs-title class_">String</span>, <span class="hljs-title class_">CaseIterable</span>, <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">case</span> cat<br />    <span class="hljs-keyword">case</span> dog<br />    <span class="hljs-keyword">case</span> rabbit<br />    <span class="hljs-keyword">var</span> id: <span class="hljs-keyword">Self</span> { <span class="hljs-keyword">self</span> }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectAnimal <span class="hljs-operator">=</span> <span class="hljs-type">Animal</span>.cat<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇動物&quot;</span>, selection: <span class="hljs-variable">$selectAnimal</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-type">Animal</span>.allCases) { animal <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(animal.rawValue)<br />                }<br />            } <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選 <span class="hljs-subst">\(selectAnimal.rawValue)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="de4d" id="de4d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*hJEm00rIy56EYQrPiIOxog.png" data-width="1472" data-height="1424" src="https://cdn-images-1.medium.com/max/800/1*hJEm00rIy56EYQrPiIOxog.png"></figure><p name="5cf0" id="5cf0" class="graf graf--p graf-after--figure">ps: enum 裡若有 associated value，則須另外加入遵從 protocol Hashable 的程式。</p><h3 name="6827" id="6827" class="graf graf--h3 graf-after--p">在 Picker 裡加入 Section</h3><p name="849c" id="849c" class="graf graf--p graf-after--h3">Picker 的內容也可以用 Section 分類。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="c682" id="c682" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> humanRoles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;小王子&quot;</span>, <span class="hljs-string">&quot;飛行員&quot;</span>,]<br />    <span class="hljs-keyword">let</span> nonHumanRoles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;狐狸&quot;</span>, <span class="hljs-string">&quot;玫瑰&quot;</span>, <span class="hljs-string">&quot;蛇&quot;</span>,]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;小王子&quot;</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedName</span>) {<br />                <span class="hljs-type">Section</span>(<span class="hljs-string">&quot;人類&quot;</span>) {<br />                    <span class="hljs-type">ForEach</span>(humanRoles, id: \.<span class="hljs-keyword">self</span>) { role <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Text</span>(role)<br />                    }<br />                }<br />                <span class="hljs-type">Section</span>(<span class="hljs-string">&quot;不是人&quot;</span>) {<br />                    <span class="hljs-type">ForEach</span>(nonHumanRoles, id: \.<span class="hljs-keyword">self</span>) { role <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Text</span>(role)<br />                    }<br />                }<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(selectedName)</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="4957" id="4957" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*lotid0eBBUg4zVgzyCT3hQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*lotid0eBBUg4zVgzyCT3hQ.png"></figure><h3 name="7820" id="7820" class="graf graf--h3 graf-after--figure">設定 picker 的樣式</h3><p name="266b" id="266b" class="graf graf--p graf-after--h3">Picker 預設的樣式是 menu，呼叫 pickerStyle 可設定以下 5 種樣式:</p><ul class="postList"><li name="254a" id="254a" class="graf graf--li graf-after--p">automatic</li><li name="3e87" id="3e87" class="graf graf--li graf-after--li">menu</li><li name="a59a" id="a59a" class="graf graf--li graf-after--li">wheel</li><li name="4627" id="4627" class="graf graf--li graf-after--li">segmented</li><li name="3c6e" id="3c6e" class="graf graf--li graf-after--li">inline</li></ul><p name="3128" id="3128" class="graf graf--p graf-after--li">以下我們試試 wheel &amp; segmented 的樣式。</p><ul class="postList"><li name="8ee7" id="8ee7" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">wheel</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="5688" id="5688" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices, id: \.<span class="hljs-keyword">self</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[index])<br />                }<br />            }<br />            .pickerStyle(.wheel)<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="e639" id="e639" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*tH4pIUKYWLLNBaV4mLHvdA.png" data-width="796" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*tH4pIUKYWLLNBaV4mLHvdA.png"></figure><ul class="postList"><li name="a286" id="a286" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">segmented</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ad71" id="ad71" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">.pickerStyle(.segmented)</span></pre><figure name="0b11" id="0b11" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*rl_qSul0BGPhQd8LwfTNoA.png" data-width="796" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*rl_qSul0BGPhQd8LwfTNoA.png"></figure><h3 name="4fdd" id="4fdd" class="graf graf--h3 graf-after--figure">客製 wheel picker 的樣式</h3><p name="e068" id="e068" class="graf graf--p graf-after--h3">調整大小，文字顏色，背景色，圓角 &amp; 陰影。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4966" id="4966" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices, id: \.<span class="hljs-keyword">self</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[index])<br />                        .foregroundStyle(.red)<br />                }<br />            }<br />            .pickerStyle(.wheel)<br />            .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">200</span>)<br />            .background(.yellow)<br />            .clipShape(<span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">20</span>))<br />            .shadow(radius: <span class="hljs-number">30</span>)<br />            <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="d2b7" id="d2b7" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*DaTu4O_PRWQHIo8Xiqg6bg.png" data-width="796" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*DaTu4O_PRWQHIo8Xiqg6bg.png"></figure><p name="4520" id="4520" class="graf graf--p graf-after--figure">設定圓角邊框。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="1ab4" id="1ab4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices, id: \.<span class="hljs-keyword">self</span>) { inidex <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(roles[inidex])<br />                }<br />            }<br />            .pickerStyle(.wheel)<br />            .overlay {<br />                <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">20</span>)<br />                    .stroke(.blue, lineWidth: <span class="hljs-number">5</span>)<br />            }<br />            .padding()<br />            <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="ee66" id="ee66" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*TV_pGQFgAn6FYSjlRDmajA.png" data-width="796" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*TV_pGQFgAn6FYSjlRDmajA.png"></figure><h3 name="07b1" id="07b1" class="graf graf--h3 graf-after--figure">客製選項的內容，比方結合圖片和文字</h3><p name="bbf0" id="bbf0" class="graf graf--p graf-after--h3">利用 HStack 容納圖片和文字。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="f82d" id="f82d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">`<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> roles <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;李嘉誠&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;奇妙仙子&quot;</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> selectedIndex <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Picker</span>(<span class="hljs-string">&quot;選擇角色&quot;</span>, selection: <span class="hljs-variable">$selectedIndex</span>) {<br />                <span class="hljs-type">ForEach</span>(roles.indices, id: \.<span class="hljs-keyword">self</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">HStack</span> {<br />                        <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;<span class="hljs-subst">\(index<span class="hljs-operator">+</span><span class="hljs-number">1</span>)</span>.circle.fill&quot;</span>)<br />                            .foregroundStyle(.blue)<br />                        <span class="hljs-type">Text</span>(roles[index])<br />                            .foregroundStyle(.blue)<br />                        <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;<span class="hljs-subst">\(index<span class="hljs-operator">+</span><span class="hljs-number">1</span>)</span>.circle.fill&quot;</span>)<br />                            .foregroundStyle(.blue)<br />                    }<br />                }<br />            }<br />            .pickerStyle(.wheel)<br />            <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;要是能重來，我要選<span class="hljs-subst">\(roles[selectedIndex])</span>&quot;</span>)<br />        }<br />    }<br />}</span></pre><figure name="a857" id="a857" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*5Bl83C4vA6peizua0k5mIw.png" data-width="796" data-height="1498" src="https://cdn-images-1.medium.com/max/800/1*5Bl83C4vA6peizua0k5mIw.png"></figure><h3 name="c5e6" id="c5e6" class="graf graf--h3 graf-after--figure">處理綁定 optional 選項的 SwiftUI Picker</h3><div name="ae85" id="ae85" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%99%95%E7%90%86%E7%B6%81%E5%AE%9A-optional-%E9%81%B8%E9%A0%85%E7%9A%84-swiftui-picker-48ae73ef2119" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%99%95%E7%90%86%E7%B6%81%E5%AE%9A-optional-%E9%81%B8%E9%A0%85%E7%9A%84-swiftui-picker-48ae73ef2119" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%99%95%E7%90%86%E7%B6%81%E5%AE%9A-optional-%E9%81%B8%E9%A0%85%E7%9A%84-swiftui-picker-48ae73ef2119"><strong class="markup--strong markup--mixtapeEmbed-strong">處理綁定 optional 選項的 SwiftUI Picker</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時當我們想從多個選項做選擇時，通常會用 Picker 實現，例如以下程式用 Picker 選擇小王子的好朋友。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%99%95%E7%90%86%E7%B6%81%E5%AE%9A-optional-%E9%81%B8%E9%A0%85%E7%9A%84-swiftui-picker-48ae73ef2119" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c616909e2ae658f0c5e9855dd29f04d4" data-thumbnail-img-id="1*xnVNu1JW5f4T02vTSdiR2g.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*xnVNu1JW5f4T02vTSdiR2g.png);"></a></div><h3 name="fb44" id="fb44" class="graf graf--h3 graf-after--mixtapeEmbed">練習</h3><p name="95f3" id="95f3" class="graf graf--p graf-after--h3">用 Picker 選電影，顯示它的圖片跟簡介。</p><h3 name="82d5" id="82d5" class="graf graf--h3 graf-after--p">作品集</h3><div name="b53a" id="b53a" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swiftui-picker-ft-papacode-10013616f553" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swiftui-picker-ft-papacode-10013616f553" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swiftui-picker-ft-papacode-10013616f553"><strong class="markup--strong markup--mixtapeEmbed-strong">SwiftUI Picker ft. PapaCode</strong><br><em class="markup--em markup--mixtapeEmbed-em">最近小人非常迷這套盲爺新買的桌遊，幾乎每晚上都問我可不可以玩?(我已經燒腦一整天了可以放過我嗎?)</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swiftui-picker-ft-papacode-10013616f553" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="79b732acb579fd5854a653d6ef80182b" data-thumbnail-img-id="1*3SMqcQJ1kJr68eS56u7YxQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*3SMqcQJ1kJr68eS56u7YxQ.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/aabd95adc601"><time class="dt-published" datetime="2019-08-17T12:00:45.480Z">August 17, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swiftui-%E9%81%B8%E6%93%87%E9%A0%85%E7%9B%AE%E7%9A%84-picker-%E6%88%91%E8%A6%81%E9%81%B8%E6%9D%8E%E7%99%BD-aabd95adc601" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>