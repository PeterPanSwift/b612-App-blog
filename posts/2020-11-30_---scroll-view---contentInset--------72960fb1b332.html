<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 scroll view &amp; contentInset 縮放置中圖片</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 scroll view &amp; contentInset 縮放置中圖片</h1>
</header>
<section data-field="subtitle" class="p-summary">
利用 scroll view 內建的縮放功能，我們可以快速實現圖片縮放的功能。接下來就讓我們以電影孤味的圖片為例，一步步實現吧。
</section>
<section data-field="body" class="e-content">
<section name="1518" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="57aa" id="57aa" class="graf graf--h3 graf--leading graf--title">利用 scroll view &amp; contentInset 縮放置中圖片</h3><p name="dc20" id="dc20" class="graf graf--p graf-after--h3">利用 scroll view 內建的縮放功能，我們可以快速實現圖片縮放的功能。接下來就讓我們以電影孤味的圖片為例，一步步實現吧。</p><h3 name="4e8a" id="4e8a" class="graf graf--h3 graf-after--p">加入 scroll view</h3><figure name="d162" id="d162" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*DcbCDxTQOQU2C2XI_jVrvA.png" data-width="1218" data-height="1330" src="https://cdn-images-1.medium.com/max/800/1*DcbCDxTQOQU2C2XI_jVrvA.png"></figure><h3 name="c133" id="c133" class="graf graf--h3 graf-after--figure">讓 scroll view 佔滿螢幕</h3><p name="61a2" id="61a2" class="graf graf--p graf-after--h3">選取 view &amp; scroll view，設定上下左右的間距為 0。</p><figure name="8fe2" id="8fe2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*pWWETD4WJvX_CAl884_PYA.png" data-width="546" data-height="406" src="https://cdn-images-1.medium.com/max/800/1*pWWETD4WJvX_CAl884_PYA.png"></figure><figure name="1270" id="1270" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*N-L23pwhyJZs7uOSio4sng.png" data-width="660" data-height="658" src="https://cdn-images-1.medium.com/max/800/1*N-L23pwhyJZs7uOSio4sng.png"></figure><p name="c3d1" id="c3d1" class="graf graf--p graf-after--figure">此時由於 scroll view 還無法推算捲動範圍的大小，因此將出現紅色錯誤。</p><figure name="07a6" id="07a6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cmOXja9c-W3JYRi7pr0I4g.png" data-width="1192" data-height="1146" src="https://cdn-images-1.medium.com/max/800/1*cmOXja9c-W3JYRi7pr0I4g.png"></figure><figure name="df6b" id="df6b" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*QsJ6nzU7pYoiM1iors0n4A.png" data-width="738" data-height="406" src="https://cdn-images-1.medium.com/max/800/1*QsJ6nzU7pYoiM1iors0n4A.png"></figure><h3 name="ef3c" id="ef3c" class="graf graf--h3 graf-after--figure">將 image view 加到 scroll view 上</h3><figure name="ac0d" id="ac0d" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*_Hjn7EXwNbw_oMcByxQQPw.png" data-width="1296" data-height="1158" src="https://cdn-images-1.medium.com/max/800/1*_Hjn7EXwNbw_oMcByxQQPw.png"></figure><figure name="301f" id="301f" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*zeqPx_yWlSYXi4ZnT_F3RQ.png" data-width="524" data-height="692" src="https://cdn-images-1.medium.com/max/800/1*zeqPx_yWlSYXi4ZnT_F3RQ.png"></figure><h3 name="af7d" id="af7d" class="graf graf--h3 graf-after--figure">讓 scroll view 的捲動範圍等於 image view 的大小</h3><p name="d4b9" id="d4b9" class="graf graf--p graf-after--h3">選取 image view &amp; content layout guide，設定上下左右的間距為 0。</p><figure name="168e" id="168e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*stJi558BVePjDPdMp1Vr8A.png" data-width="732" data-height="476" src="https://cdn-images-1.medium.com/max/800/1*stJi558BVePjDPdMp1Vr8A.png"></figure><figure name="86ce" id="86ce" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*N-L23pwhyJZs7uOSio4sng.png" data-width="660" data-height="658" src="https://cdn-images-1.medium.com/max/800/1*N-L23pwhyJZs7uOSio4sng.png"></figure><p name="ea1c" id="ea1c" class="graf graf--p graf-after--figure">content layout guide 可決定 scroll view 的捲動範圍，相關說明可參考以下連結。</p><div name="3978" id="3978" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/scroll-view-%E6%B1%BA%E5%AE%9A%E6%8D%B2%E5%8B%95%E7%AF%84%E5%9C%8D%E7%9A%84-content-layout-guide-6f606740918a" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/scroll-view-%E6%B1%BA%E5%AE%9A%E6%8D%B2%E5%8B%95%E7%AF%84%E5%9C%8D%E7%9A%84-content-layout-guide-6f606740918a" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/scroll-view-%E6%B1%BA%E5%AE%9A%E6%8D%B2%E5%8B%95%E7%AF%84%E5%9C%8D%E7%9A%84-content-layout-guide-6f606740918a"><strong class="markup--strong markup--mixtapeEmbed-strong">scroll view 決定捲動範圍的 Content Layout Guide</strong><br><em class="markup--em markup--mixtapeEmbed-em">使用 scroll view 設計捲動畫面時，我們可以利用 Content Layout Guide 決定它的捲動範圍，接下來就讓我們一步步認識 Content Layout Guide 的特異功能吧。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/scroll-view-%E6%B1%BA%E5%AE%9A%E6%8D%B2%E5%8B%95%E7%AF%84%E5%9C%8D%E7%9A%84-content-layout-guide-6f606740918a" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="10e4cada18a6d2ed4f0da753714370b9" data-thumbnail-img-id="1*k49n9b86Al7nSrCripx2Hw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*k49n9b86Al7nSrCripx2Hw.jpeg);"></a></div><p name="36ce" id="36ce" class="graf graf--p graf-after--mixtapeEmbed">加了條件後，scroll view 可以計算捲動範圍，因此不再有紅色錯誤。如下圖所示，此時捲動範圍等於 image view 的大小。</p><figure name="5072" id="5072" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*m2JksgShVtXQ_RalLttgSA.png" data-width="1470" data-height="970" src="https://cdn-images-1.medium.com/max/800/1*m2JksgShVtXQ_RalLttgSA.png"></figure><p name="cec7" id="cec7" class="graf graf--p graf-after--figure">image view 的大小預設等於圖片的大小，因此 image view 的大小為 1024 * 581 points，形成可以左右捲動的 scroll view。</p><figure name="1de7" id="1de7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*CD8f1O7cGtNijk64ORV9TQ.png" data-width="2284" data-height="788" src="https://cdn-images-1.medium.com/max/800/1*CD8f1O7cGtNijk64ORV9TQ.png"></figure><figure name="3863" id="3863" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*PYY-96DCuBvrVOpePBH6WA.png" data-width="2294" data-height="1000" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*PYY-96DCuBvrVOpePBH6WA.png"></figure><p name="eb58" id="eb58" class="graf graf--p graf-after--figure">大功告成了嗎？ 別急，還有一些小細節要處理。我們希望圖片一開始可以完整在螢幕呈現，而且還能放大縮小，所以請繼續看下去。</p><h3 name="4934" id="4934" class="graf graf--h3 graf-after--p">連結 image view &amp; scroll view 的 outlet</h3><p name="0515" id="0515" class="graf graf--p graf-after--h3">我們待會將從程式存取 image view &amp; scroll view，所以要先拉 outlet。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c714" id="c714" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> scrollView: <span class="hljs-type">UIScrollView</span>!<br /><span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> imageView: <span class="hljs-type">UIImageView</span>!</span></pre><h3 name="6e98" id="6e98" class="graf graf--h3 graf-after--pre">調整 scroll view 縮放的比例，讓圖片完整呈現</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4705" id="4705" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidAppear</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">animated</span>: <span class="hljs-type">Bool</span>) {<br />        <span class="hljs-keyword">super</span>.viewDidAppear(animated)<br />        <br />        updateZoomSizeFor(size: view.bounds.size)<br />}<br /><br /><span class="hljs-keyword">func</span> <span class="hljs-title function_">updateZoomSizeFor</span>(<span class="hljs-params">size</span>: <span class="hljs-type">CGSize</span>) {<br />        <span class="hljs-keyword">let</span> widthScale <span class="hljs-operator">=</span> size.width <span class="hljs-operator">/</span> imageView.bounds.width<br />        <span class="hljs-keyword">let</span> heightScale <span class="hljs-operator">=</span> size.height <span class="hljs-operator">/</span> imageView.bounds.height<br />        <span class="hljs-keyword">let</span> scale <span class="hljs-operator">=</span> <span class="hljs-built_in">min</span>(widthScale, heightScale)<br />        scrollView.minimumZoomScale <span class="hljs-operator">=</span> scale<br />        scrollView.zoomScale <span class="hljs-operator">=</span> scale<br />        <br />}</span></pre><p name="2b6c" id="2b6c" class="graf graf--p graf-after--pre">我們希望原本超出螢幕的大張圖片完整呈現，因此我們需要將圖片縮小。scroll view 內建縮放功能，可以幫我們縮放圖片。在此我們利用 min(widthScale, heightScale) 計算圖片想在螢幕完整呈現須縮放的比例，調整 scroll view 的 minimumZoomScale &amp; zoomScale。</p><h3 name="22e2" id="22e2" class="graf graf--h3 graf-after--p">設定 scroll view 的 delegate 為 view controller</h3><p name="47de" id="47de" class="graf graf--p graf-after--h3">為了告訴 scroll view 縮放的元件是 image view，我們必須透過 scroll view 的 delegate function，因此我們將 controller 設為 scroll view 的 delegate。</p><figure name="c46c" id="c46c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*KqvDOCwqi-U2fMajGIK5EA.png" data-width="582" data-height="371" src="https://cdn-images-1.medium.com/max/800/1*KqvDOCwqi-U2fMajGIK5EA.png"></figure><figure name="dc51" id="dc51" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*SX_qUzyTC3g4_o3obxDvmA.png" data-width="1056" data-height="514" src="https://cdn-images-1.medium.com/max/800/1*SX_qUzyTC3g4_o3obxDvmA.png"></figure><h3 name="a177" id="a177" class="graf graf--h3 graf-after--figure">利用 extension 讓 ViewController 遵從 protocol UIScrollViewDelegate</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0911" id="0911" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIScrollViewDelegate</span> {<br />  <br />}</span></pre><h3 name="c977" id="c977" class="graf graf--h3 graf-after--pre">定義 UIScrollViewDelegate 控制縮放對象的 function viewForZooming(in:)</h3><p name="3e5b" id="3e5b" class="graf graf--p graf-after--h3">回傳 imageView，因此圖片將成為縮放的對象。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8bb7" id="8bb7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIScrollViewDelegate</span> {<br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewForZooming</span>(<span class="hljs-params">in</span> <span class="hljs-params">scrollView</span>: <span class="hljs-type">UIScrollView</span>) -&gt; <span class="hljs-type">UIView</span>? {<br />        imageView<br />    }<br />}</span></pre><h3 name="bb7b" id="bb7b" class="graf graf--h3 graf-after--pre">測試 App</h3><p name="d388" id="d388" class="graf graf--p graf-after--h3">Cool，現在我們可以成功縮放圖片了。不過有個小地方令人不太滿意，我們的圖片一開始會置頂，如果能置中該有多好 ?</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="3"><figure name="7cb1" id="7cb1" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 33.333%;"><img class="graf-image" data-image-id="1*E3yO89FuVEwmgn39aOLp4g.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*E3yO89FuVEwmgn39aOLp4g.png"></figure><figure name="0065" id="0065" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*RRoT1m9W7U4g2J98JKO7zQ.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*RRoT1m9W7U4g2J98JKO7zQ.png"></figure><figure name="7497" id="7497" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*TfKP_qcRdcnNjQtJS0Sulg.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*TfKP_qcRdcnNjQtJS0Sulg.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="d584" id="d584" class="graf graf--p graf-after--figure">模擬器的縮放手勢可參考以下連結。</p><div name="af0c" id="af0c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E5%92%8C%E5%92%8C-playground-%E7%9A%84%E7%B8%AE%E6%94%BE%E6%89%8B%E5%8B%A2-d446732515fc" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E5%92%8C%E5%92%8C-playground-%E7%9A%84%E7%B8%AE%E6%94%BE%E6%89%8B%E5%8B%A2-d446732515fc" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E5%92%8C%E5%92%8C-playground-%E7%9A%84%E7%B8%AE%E6%94%BE%E6%89%8B%E5%8B%A2-d446732515fc"><strong class="markup--strong markup--mixtapeEmbed-strong">模擬器和 playground 的縮放手勢</strong><br><em class="markup--em markup--mixtapeEmbed-em">按住 shift 鍵，從觸控板向上拖曳放大。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E5%92%8C%E5%92%8C-playground-%E7%9A%84%E7%B8%AE%E6%94%BE%E6%89%8B%E5%8B%A2-d446732515fc" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="47ec0d03c4a23c55291130097ee8ea3e" data-thumbnail-img-id="1*WA-t5AgrhnZBzxKU6gat-w.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*WA-t5AgrhnZBzxKU6gat-w.jpeg);"></a></div><h3 name="dfee" id="dfee" class="graf graf--h3 graf-after--mixtapeEmbed">利用 contentInset 置中縮放的圖片</h3><p name="7b9f" id="7b9f" class="graf graf--p graf-after--h3">想置中的話，我們可利用 scroll view 的 contentInset 實現。如下圖所示， 在 scroll view 的上下左右可加入稱為 contentInset 的空白區塊</p><figure name="2d0b" id="2d0b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*lmMrw52DFZUFx6olkfLUDg.png" data-width="878" data-height="862" src="https://cdn-images-1.medium.com/max/800/1*lmMrw52DFZUFx6olkfLUDg.png"></figure><p name="14bf" id="14bf" class="graf graf--p graf-after--figure">在剛剛的例子，我們的圖片頂置。如果我們能在它的上方加入 content inset，即可讓圖片往下移動，變成置中顯示。</p><figure name="fb91" id="fb91" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*E3yO89FuVEwmgn39aOLp4g.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*E3yO89FuVEwmgn39aOLp4g.png"></figure><p name="96d0" id="96d0" class="graf graf--p graf-after--figure">但是要往下移動多少呢 ? 利用 scroll view 的高度減圖片縮放後的高度，然後再除以 2，即為 content inset top 需要的高度。(imageView.frame.height 將是圖片縮放後的高度，它會等於imageView.bounds.height * scrollView.zoomScale ）</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="431d" id="431d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">(scrollView.bounds.height <span class="hljs-operator">-</span> imageView.frame.height) <span class="hljs-operator">/</span> <span class="hljs-number">2</span></span></pre><p name="0821" id="0821" class="graf graf--p graf-after--pre">因此我們在 extension ViewController 定義 UIScrollViewDelegate 的 function scrollViewDidZoom(_:)。此 function 將在 scroll view zoomScale 改變時被觸發，因此我們可在裡面調整 scroll view 的 content inset。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ecc6" id="ecc6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">scrollViewDidZoom</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scrollView</span>: <span class="hljs-type">UIScrollView</span>) {<br />        <span class="hljs-keyword">let</span> inset <span class="hljs-operator">=</span> (scrollView.bounds.height <span class="hljs-operator">-</span> imageView.frame.height) <span class="hljs-operator">/</span> <span class="hljs-number">2</span><br />        scrollView.contentInset <span class="hljs-operator">=</span> .<span class="hljs-keyword">init</span>(top: <span class="hljs-built_in">max</span>(inset, <span class="hljs-number">0</span>), left: <span class="hljs-number">0</span>, bottom: <span class="hljs-number">0</span>, right: <span class="hljs-number">0</span>)<br />       <br />}</span></pre><p name="143b" id="143b" class="graf graf--p graf-after--pre">調整 content inset 後，圖片順利置中了 !</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="3"><figure name="fe17" id="fe17" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 33.333%;"><img class="graf-image" data-image-id="1*S0JPDj0ip5sCM1s_xSN3kw.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*S0JPDj0ip5sCM1s_xSN3kw.png"></figure><figure name="20ef" id="20ef" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*XWS0Y26vnxuTlj2jrWNPlA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*XWS0Y26vnxuTlj2jrWNPlA.png"></figure><figure name="3d12" id="3d12" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*uvF0dmlX1DSbsByuhkGYow.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/400/1*uvF0dmlX1DSbsByuhkGYow.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="e7f2" id="e7f2" class="graf graf--h3 graf-after--figure">若圖片的尺寸小於螢幕尺寸</h3><p name="61e9" id="61e9" class="graf graf--p graf-after--h3">scroll view 預設的 maximumZoomScale 是 1，若圖片的尺寸小於螢幕尺寸，想要它佔滿螢幕時，需將 maximumZoomScale 設為大於 1 才能放大。</p><p name="2cc0" id="2cc0" class="graf graf--p graf-after--p">因此我們可利用 max(widthScale, heightScale) 計算放大的比例，設定 scroll view 的 maximumZoomScale。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e090" id="e090" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">updateZoomSizeFor</span>(<span class="hljs-params">size</span>: <span class="hljs-type">CGSize</span>) {<br />        <span class="hljs-keyword">let</span> widthScale <span class="hljs-operator">=</span> size.width <span class="hljs-operator">/</span> imageView.bounds.width<br />        <span class="hljs-keyword">let</span> heightScale <span class="hljs-operator">=</span> size.height <span class="hljs-operator">/</span> imageView.bounds.height<br />        <span class="hljs-keyword">let</span> scale <span class="hljs-operator">=</span> <span class="hljs-built_in">min</span>(widthScale, heightScale)<br />        scrollView.minimumZoomScale <span class="hljs-operator">=</span> scale<br />        scrollView.maximumZoomScale <span class="hljs-operator">=</span> <span class="hljs-built_in">max</span>(widthScale, heightScale)<br />        scrollView.zoomScale <span class="hljs-operator">=</span> scale<br />}</span></pre><p name="4cc7" id="4cc7" class="graf graf--p graf-after--pre">圖片成功放大到全螢幕。</p><figure name="9ccf" id="9ccf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XeDTYsLGk7MLUDueUwVPTg.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*XeDTYsLGk7MLUDueUwVPTg.png"></figure><h3 name="34f6" id="34f6" class="graf graf--h3 graf-after--figure">範例連結</h3><div name="c2fb" id="c2fb" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://github.com/AppPeterPan/ScrollViewImageZoom-main-2" data-href="https://github.com/AppPeterPan/ScrollViewImageZoom-main-2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/AppPeterPan/ScrollViewImageZoom-main-2"><strong class="markup--strong markup--mixtapeEmbed-strong">AppPeterPan/ScrollViewImageZoom-main-2</strong><br><em class="markup--em markup--mixtapeEmbed-em">GitHub is home to over 50 million developers working together to host and review code, manage projects, and build…</em>github.com</a><a href="https://github.com/AppPeterPan/ScrollViewImageZoom-main-2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b4d7db0785daf6e5608395cef1486f1d" data-thumbnail-img-id="0*xYCKLliDi7m0cnc4" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*xYCKLliDi7m0cnc4);"></a></div><h3 name="9fe0" id="9fe0" class="graf graf--h3 graf-after--mixtapeEmbed">其它圖片縮放的套件參考</h3><div name="2237" id="2237" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://github.com/huynguyencong/ImageScrollView" data-href="https://github.com/huynguyencong/ImageScrollView" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/huynguyencong/ImageScrollView"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - huynguyencong/ImageScrollView: Scrollable and zoomable image view for iOS in Swift</strong><br><em class="markup--em markup--mixtapeEmbed-em">Scrollable and zoomable image view for iOS in Swift - GitHub - huynguyencong/ImageScrollView: Scrollable and zoomable…</em>github.com</a><a href="https://github.com/huynguyencong/ImageScrollView" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="db9dc045d5d91924146c4f200c93031c" data-thumbnail-img-id="0*Lat4PZAh1kxHSVg_" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Lat4PZAh1kxHSVg_);"></a></div><h3 name="ffd8" id="ffd8" class="graf graf--h3 graf-after--mixtapeEmbed">參考連結</h3><p name="1488" id="1488" class="graf graf--p graf-after--h3">Lesson 1.4 Lab I Spy — Develop in Swift Data Collections</p><div name="d53d" id="d53d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id1511183970" data-href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id1511183970" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://books.apple.com/tw/book/develop-in-swift-data-collections/id1511183970"><strong class="markup--strong markup--mixtapeEmbed-strong">‎Develop in Swift Data Collections</strong><br><em class="markup--em markup--mixtapeEmbed-em">‎Students expand on the knowledge and skills they developed in Fundamentals by extending their work in iOS app…</em>books.apple.com</a><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id1511183970" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="49c33da19455e4fd312526045fdbfac7" data-thumbnail-img-id="0*sbEkSR1SVm0q89sA" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*sbEkSR1SVm0q89sA);"></a></div><div name="405c" id="405c" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://swiftmachinations.com/2020/08/02/image-viewer.html" data-href="https://swiftmachinations.com/2020/08/02/image-viewer.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://swiftmachinations.com/2020/08/02/image-viewer.html"><strong class="markup--strong markup--mixtapeEmbed-strong">A simple image viewer</strong><br><em class="markup--em markup--mixtapeEmbed-em">This week I needed to implement full screen image viewing/zooming, Photos.app style. It didn&#39;t need to show a gallery…</em>swiftmachinations.com</a><a href="https://swiftmachinations.com/2020/08/02/image-viewer.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="62588929e9012107aeb73bdfb7fc6d13"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/72960fb1b332"><time class="dt-published" datetime="2020-11-30T13:48:38.631Z">November 30, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-scroll-view-%E7%B8%AE%E6%94%BE%E5%9C%96%E7%89%87-72960fb1b332" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>