<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>將 child view controller 存成方便存取的 property</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">將 child view controller 存成方便存取的 property</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，有些 controller 是 container view controller，它負責控制管理其它的 view controller。這些被它控制的 controller 就像它的小孩，因此又被稱為 child view controller。
</section>
<section data-field="body" class="e-content">
<section name="ae40" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1a47" id="1a47" class="graf graf--h3 graf--leading graf--title">將 child view controller 存成方便存取的 property</h3><p name="99ed" id="99ed" class="graf graf--p graf-after--h3">開發 iOS App 時，有些 controller 是 container view controller，它負責控制管理其它的 view controller。這些被它控制的 controller 就像它的小孩，因此又被稱為 child view controller。</p><p name="a92f" id="a92f" class="graf graf--p graf-after--p">在 container view controller 的程式裡，我們時常會需要存取 child view controller，比方傳資料給 child view controller，或是呼叫 child view controller 的 function。</p><p name="61b8" id="61b8" class="graf graf--p graf-after--p">為了能方便存取 child view controller，以下我們介紹兩種方法:</p><ul class="postList"><li name="a663" id="a663" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">在 viewDidLoad 讀取 property children，將 child view controller 存成方便存取的 property</strong></li><li name="74bb" id="74bb" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">在 prepare 讀取 segue.destination，將 child view controller 存成方便存取的 property</strong></li></ul><p name="382c" id="382c" class="graf graf--p graf-after--li">假設 storyboard 的設計如下，使用者在 ViewController 頁面透過 segmented control 切換顯示小貓列表或小狗列表。ViewController 是 container view controller，它利用兩個 container view 連結 CatTableViewController &amp; DogTableViewController，因此 CatTableViewController &amp; DogTableViewController 是 ViewController 的 child view controller。</p><figure name="cd0c" id="cd0c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*GybaKvXuKmiUEblw8_ZiJQ.png" data-width="1240" data-height="1154" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*GybaKvXuKmiUEblw8_ZiJQ.png"></figure><p name="7778" id="7778" class="graf graf--p graf-after--figure">在 ViewController 的程式裡，我們先宣告 property catTableViewController &amp; dogTableViewController。我們的目標是將 storyboard 連結的 child view controller 存入 catTableViewController &amp; dogTableViewController，之後即可在程式裡方便地存取它們。</p><pre name="aa3b" id="aa3b" class="graf graf--pre graf-after--p">class ViewController: UIViewController {<br>  <strong class="markup--strong markup--pre-strong">  var catTableViewController: CatTableViewController!<br>    var dogTableViewController: DogTableViewController!</strong></pre><h3 name="a68d" id="a68d" class="graf graf--h3 graf-after--pre"><strong class="markup--strong markup--h3-strong">方法 1: 在 viewDidLoad 讀取 property children，將 child view controller 存成方便存取的 property</strong></h3><pre name="1244" id="1244" class="graf graf--pre graf-after--h3">class ViewController: UIViewController {<br>   <strong class="markup--strong markup--pre-strong"> var catTableViewController: CatTableViewController!<br>    var dogTableViewController: DogTableViewController!</strong></pre><pre name="80c1" id="80c1" class="graf graf--pre graf-after--pre">    override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br>       <strong class="markup--strong markup--pre-strong"> children.forEach {<br>            switch $0 {<br>            case let controller as CatTableViewController:<br>                catTableViewController = controller<br>            case let controller as DogTableViewController:<br>                dogTableViewController = controller<br>            default:<br>                break<br>            }<br>        }</strong><br>        print(catTableViewController, dogTableViewController)<br>    }</pre><pre name="7fac" id="7fac" class="graf graf--pre graf-after--pre">}</pre><p name="9e4d" id="9e4d" class="graf graf--p graf-after--pre">UIViewController 的 property <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">children</strong></code> 儲存著 child view controller，它的型別是 [UIViewController]。我們利用 children.forEach 讀出每個 child view controller，判斷型別後分別存入 catTableViewController &amp; dogTableViewController。</p><h3 name="f2f2" id="f2f2" class="graf graf--h3 graf-after--p">方法 2: <strong class="markup--strong markup--h3-strong">在 prepare 讀取 segue.destination，將 child view controller 存成方便存取的 property</strong></h3><pre name="2a39" id="2a39" class="graf graf--pre graf-after--h3">class ViewController: UIViewController {<br>   <strong class="markup--strong markup--pre-strong"> var catTableViewController: CatTableViewController!<br>    var dogTableViewController: DogTableViewController!<br>   </strong> <br>    override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br><strong class="markup--strong markup--pre-strong">        print(catTableViewController, dogTableViewController)<br></strong>    }<br>    <br>    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {<br>       <strong class="markup--strong markup--pre-strong"> switch segue.destination {<br>        case let controller as CatTableViewController:<br>            catTableViewController = controller<br>        case let controller as DogTableViewController:<br>            dogTableViewController = controller<br>        default:<br>            break<br>        }</strong><br>    }</pre><pre name="5bc4" id="5bc4" class="graf graf--pre graf-after--pre">}</pre><p name="793f" id="793f" class="graf graf--p graf-after--pre">當 ViewController 的畫面顯示時，由於它的 2 個 container view 利用 segue 連結 CatTableViewController &amp; DogTableViewController，因此會先觸發 function prepare(for:sender:) 2 次，然後再觸發 viewDidLoad。</p><p name="3c89" id="3c89" class="graf graf--p graf-after--p">我們在 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">prepare(for:sender:)</strong></code> 裡讀取 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">segue.destination</strong></code>，取得 segue 連結 CatTableViewController &amp; DogTableViewController，將它們存入 catTableViewController &amp; dogTableViewController。</p><p name="5c11" id="5c11" class="graf graf--p graf-after--p">由於程式執行的順序是先 prepare(for:sender:) 再 viewDidLoad，因此等到 viewDidLoad 執行時，catTableViewController &amp; dogTableViewController 都會是有值的狀態。</p><h3 name="f0c3" id="f0c3" class="graf graf--h3 graf-after--p">參考連結</h3><p name="37ae" id="37ae" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Apple’s Creating a Custom Container View Controller</strong></p><div name="8381" id="8381" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/view_controllers/creating_a_custom_container_view_controller" data-href="https://developer.apple.com/documentation/uikit/view_controllers/creating_a_custom_container_view_controller" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/view_controllers/creating_a_custom_container_view_controller"><strong class="markup--strong markup--mixtapeEmbed-strong">Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/view_controllers/creating_a_custom_container_view_controller" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="7cd3f78d1b1a42e37ff1ef49badbad91"></a></div><p name="2a4b" id="2a4b" class="graf graf--p graf-after--mixtapeEmbed"><strong class="markup--strong markup--p-strong">Apple’s Explore a location with a highly detailed map and Look Around</strong></p><div name="b5a3" id="b5a3" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://developer.apple.com/documentation/mapkit/explore_a_location_with_a_highly_detailed_map_and_look_around" data-href="https://developer.apple.com/documentation/mapkit/explore_a_location_with_a_highly_detailed_map_and_look_around" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/mapkit/explore_a_location_with_a_highly_detailed_map_and_look_around"><strong class="markup--strong markup--mixtapeEmbed-strong">Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/mapkit/explore_a_location_with_a_highly_detailed_map_and_look_around" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="a2de00d0deaf654de2a01b8a1506cb81"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/d3fa21f7354"><time class="dt-published" datetime="2022-06-21T16:50:43.499Z">June 21, 2022</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%B0%87-child-view-controller-%E5%AD%98%E6%88%90%E6%96%B9%E4%BE%BF%E5%AD%98%E5%8F%96%E7%9A%84-property-d3fa21f7354" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>