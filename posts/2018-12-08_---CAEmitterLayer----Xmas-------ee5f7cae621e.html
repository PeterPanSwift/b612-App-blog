<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 CAEmitterLayer 製作 Xmas 的下雪動畫</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 CAEmitterLayer 製作 Xmas 的下雪動畫</h1>
</header>
<section data-field="subtitle" class="p-summary">
利用 CAEmitterLayer 我們可以發射粒子(particle)，產生常見的下雪，下雨，火焰，煙火等動畫。最近 Christmas 快到了，彼得潘每天都在聽著 Let it snow，期待台灣下雪。可惜台灣能不能下雪不是彼得潘能控制的，不過至少我可以利用…
</section>
<section data-field="body" class="e-content">
<section name="7c8a" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="fc84" id="fc84" class="graf graf--h3 graf--leading graf--title">利用 CAEmitterLayer 製作 Xmas 的下雪動畫</h3><p name="3e9d" id="3e9d" class="graf graf--p graf-after--h3">利用 CAEmitterLayer 我們可以發射粒子(particle)，產生常見的下雪，下雨，火焰，煙火等動畫。最近 Christmas 快到了，彼得潘每天都在聽著 Let it snow，期待台灣下雪。可惜台灣能不能下雪不是彼得潘能控制的，不過至少我可以用 CAEmitterLayer 讓 App 下雪 !</p><p name="e712" id="e712" class="graf graf--p graf-after--p">CAEmitterLayer 的名字明白告訴我們它是很厲害的武器，因為 emitter 是發射的意思。而 CAEmitterLayer 發射的子彈(粒子)是 CAEmitterCell，它可以客製成任何圖案，因此我們可以產生會發射雪花，火焰，煙火的 layer。接下來就我讓我們一步步做出發射雪花的 App 畫面吧。</p><blockquote name="58f7" id="58f7" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">1 從 Flaticon 下載雪花的 icon。</strong></blockquote><div name="9665" id="9665" class="graf graf--mixtapeEmbed graf-after--blockquote"><a href="https://www.flaticon.com" data-href="https://www.flaticon.com" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.flaticon.com"><strong class="markup--strong markup--mixtapeEmbed-strong">Flaticon, the largest database of free vector icons</strong><br><em class="markup--em markup--mixtapeEmbed-em">1,277,500+ Free vector icons in SVG, PSD, PNG, EPS format or as ICON FONT. Thousands of free icons in the largest…</em>www.flaticon.com</a><a href="https://www.flaticon.com" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="5f654c889a12e08b620dad1083997ee0" data-thumbnail-img-id="0*d0RMbGsS9vqf4LQx" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*d0RMbGsS9vqf4LQx);"></a></div><p name="8550" id="8550" class="graf graf--p graf-after--mixtapeEmbed">搜尋 snowflake。</p><figure name="8b65" id="8b65" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TVZdRxZoQHV-FRTM2WuZ6Q.jpeg" data-width="2448" data-height="1112" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*TVZdRxZoQHV-FRTM2WuZ6Q.jpeg"></figure><p name="5b4b" id="5b4b" class="graf graf--p graf-after--figure">就是你了 ! 漂亮的水藍色雪花。</p><figure name="81e1" id="81e1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*458paddiQqhiklbQQ6mHog.jpeg" data-width="1522" data-height="938" src="https://cdn-images-1.medium.com/max/800/1*458paddiQqhiklbQQ6mHog.jpeg"></figure><blockquote name="3ad1" id="3ad1" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">2 將雪花圖片加到 Assets.xcassets。</strong></blockquote><figure name="6299" id="6299" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*Ph7wNrYFsnLF-nmwkm0-OQ.jpeg" data-width="1162" data-height="398" src="https://cdn-images-1.medium.com/max/800/1*Ph7wNrYFsnLF-nmwkm0-OQ.jpeg"></figure><blockquote name="f68b" id="f68b" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">3 在 view controller 的 viewDidLoad 裡加入 CAEmitterLayer 發射雪花的程式。</strong></blockquote><p name="a9ef" id="a9ef" class="graf graf--p graf-after--blockquote">viewDidLoad 將在畫面載入完成時執行，我們在裡面加入下<strong class="markup--strong markup--p-strong">雪的效果。</strong></p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0363" id="0363" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />   <span class="hljs-keyword">super</span>.viewDidLoad()<br />   view.backgroundColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>(red: <span class="hljs-number">1</span>, green: <span class="hljs-number">1</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">0.4</span>)<br /><br />   <span class="hljs-keyword">let</span> snowEmitterCell <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterCell</span>()<br />   snowEmitterCell.contents <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;snowflake&quot;</span>)<span class="hljs-operator">?</span>.cgImage<br />   snowEmitterCell.birthRate <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />   snowEmitterCell.lifetime <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br />   snowEmitterCell.velocity <span class="hljs-operator">=</span> <span class="hljs-number">100</span><br /><br />   <span class="hljs-keyword">let</span> snowEmitterLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterLayer</span>()<br />   snowEmitterLayer.emitterCells <span class="hljs-operator">=</span> [snowEmitterCell]<br />   view.layer.addSublayer(snowEmitterLayer)<br />}</span></pre><p name="dc93" id="dc93" class="graf graf--p graf-after--pre">說明</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e612" id="e612" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> snowEmitterCell <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterCell</span>()</span></pre><p name="9887" id="9887" class="graf graf--p graf-after--pre">CAEmitterLayer 發射的粒子其實是 CAEmitterCell，因此我們需要產生 CAEmitterCell 物件。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="491e" id="491e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.contents <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;snowflake&quot;</span>)<span class="hljs-operator">?</span>.cgImage</span></pre><p name="2acf" id="2acf" class="graf graf--p graf-after--pre">設定粒子顯示的雪花圖片。由於 contents 要求的型別是 CGImage，因此我們產生 UIImage 後要再讀取型別 CGImage 的屬性 cgImage。</p><div name="b2fa" id="b2fa" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/quartzcore/caemittercell/1522109-contents?language=objc" data-href="https://developer.apple.com/documentation/quartzcore/caemittercell/1522109-contents?language=objc" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/quartzcore/caemittercell/1522109-contents?language=objc"><strong class="markup--strong markup--mixtapeEmbed-strong">contents - CAEmitterCell | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/quartzcore/caemittercell/1522109-contents?language=objc" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="a701d7771ebe354dee161dce24bef9c0"></a></div><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c0a8" id="c0a8" class="graf graf--pre graf-after--mixtapeEmbed graf--preV2"><span class="pre--content">snowEmitterCell.birthRate <span class="hljs-operator">=</span> <span class="hljs-number">1</span></span></pre><p name="b291" id="b291" class="graf graf--p graf-after--pre">設定每秒發射幾個雪花，我們指定一秒一個。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1aa7" id="1aa7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.lifetime <span class="hljs-operator">=</span> <span class="hljs-number">2</span></span></pre><p name="0769" id="0769" class="graf graf--p graf-after--pre">雪花維持的秒數，我們讓雪花只停留兩秒鐘。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="610c" id="610c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.velocity <span class="hljs-operator">=</span> <span class="hljs-number">100</span></span></pre><p name="4ba6" id="4ba6" class="graf graf--p graf-after--pre">雪花移動的速度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="fea4" id="fea4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> snowEmitterLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterLayer</span>()<br />snowEmitterLayer.emitterCells <span class="hljs-operator">=</span> [snowEmitterCell]</span></pre><p name="f169" id="f169" class="graf graf--p graf-after--pre">產生 CAEmitterLayer，將它的 emitterCells 指定為剛剛產生的雪花粒子 snowEmitterCell。</p><div name="5456" id="5456" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521923-emittercells" data-href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521923-emittercells" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521923-emittercells"><strong class="markup--strong markup--mixtapeEmbed-strong">emitterCells - CAEmitterLayer | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521923-emittercells" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="50ab5b6e165cdc58a9a3ade491d77a96"></a></div><p name="f42d" id="f42d" class="graf graf--p graf-after--mixtapeEmbed">emitterCells 的型別是 [CAEmitterCell]?，因此我們可傳入多個粒子，比方若想呈現失戀時分不清是雨還是眼淚的效果，可傳入雨滴和淚水的 CAEmitterCell。</p><figure name="70a5" id="70a5" class="graf graf--figure graf--iframe graf-after--p"><iframe src="https://www.youtube.com/embed/7raBoe15I5E?feature=oembed" width="640" height="480" frameborder="0" scrolling="no"></iframe></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="48ad" id="48ad" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content">view.layer.addSublayer(snowEmitterLayer)</span></pre><p name="12d7" id="12d7" class="graf graf--p graf-after--pre">利用 addSublayer 將 snowEmitterLayer 的下雪效果加到畫面上。</p><blockquote name="1809" id="1809" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">結果</strong></blockquote><p name="b415" id="b415" class="graf graf--p graf-after--blockquote">如下圖所示， App 真的下雪了，不過有些不盡人意的地方，比方雪花太大，停留兩秒鐘就消失。而且更慘的是雪花竟然由左向右移動，世界上哪有這樣下的雪啦 !</p><figure name="738a" id="738a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XA24jGIokKzt-qvIhatilQ.jpeg" data-width="858" data-height="1456" src="https://cdn-images-1.medium.com/max/800/1*XA24jGIokKzt-qvIhatilQ.jpeg"></figure><blockquote name="64aa" id="64aa" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">4 雪花的時間和大小。</strong></blockquote><p name="d399" id="d399" class="graf graf--p graf-after--blockquote">我們先調整一下 CAEmitterCell 的 lifetime 和 scale。lifetime 改成 20 秒，讓雪花活得夠久，不會在離開螢幕前消失。scale 則控制雪花的大小，0.5 讓它只有原本圖片一半的大小。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b148" id="b148" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.lifetime <span class="hljs-operator">=</span> <span class="hljs-number">20</span><br />snowEmitterCell.scale <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span></span></pre><figure name="2aa6" id="2aa6" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*jQWr_MazZoXdx3hE2Ps41g.jpeg" data-width="858" data-height="1456" src="https://cdn-images-1.medium.com/max/800/1*jQWr_MazZoXdx3hE2Ps41g.jpeg"></figure><blockquote name="059d" id="059d" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">5 雪花往下落下的加速度。</strong></blockquote><p name="6672" id="6672" class="graf graf--p graf-after--blockquote">接著讓我們解決最大的問題，讓雪花正常地由上而下落下吧。為了讓雪花感受到由上而下的重力，我們利用 yAcceleration 設定向下移動的加速度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ee3d" id="ee3d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.yAcceleration <span class="hljs-operator">=</span> <span class="hljs-number">30</span></span></pre><p name="90d3" id="90d3" class="graf graf--p graf-after--pre">當 yAcceleration &gt; 0 時會向下移動，yAcceleration ＜ 0 時會向上移動。我們也可以設定 xAcceleration，xAcceleration &gt; 0 會向右移動，xAcceleration &lt; 0 會向左移動。</p><p name="d26e" id="d26e" class="graf graf--p graf-after--p">看起來比較好了，雪花現在會往右下的方向移動。</p><figure name="bfd3" id="bfd3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FeT4t5Yok7xtABnMv-2kIw.jpeg" data-width="878" data-height="1496" src="https://cdn-images-1.medium.com/max/800/1*FeT4t5Yok7xtABnMv-2kIw.jpeg"></figure><blockquote name="fd4f" id="fd4f" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">6 雪花發射的路徑。</strong></blockquote><p name="fa97" id="fa97" class="graf graf--p graf-after--blockquote">但我們真正想要的效果是雪花向下移動，希望它降落到畫面的底部。因此我們必須再加入以下程式控制雪花從哪裡發射。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="50b8" id="50b8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterLayer.emitterPosition <span class="hljs-operator">=</span> <span class="hljs-type">CGPoint</span>(x: view.bounds.width <span class="hljs-operator">/</span> <span class="hljs-number">2</span>, y: <span class="hljs-operator">-</span><span class="hljs-number">50</span>)<br />snowEmitterLayer.emitterSize <span class="hljs-operator">=</span> <span class="hljs-type">CGSize</span>(width: view.bounds.width, height: <span class="hljs-number">0</span>)<br />snowEmitterLayer.emitterShape <span class="hljs-operator">=</span> .line</span></pre><p name="4edc" id="4edc" class="graf graf--p graf-after--pre">emitterShape 可控制雪花從哪裡發射，有各種不同的形狀可選擇。</p><div name="5f70" id="5f70" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521919-emittershape" data-href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521919-emittershape" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521919-emittershape"><strong class="markup--strong markup--mixtapeEmbed-strong">emitterShape - CAEmitterLayer | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/quartzcore/caemitterlayer/1521919-emittershape" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="94268179684708cee6df56d4d6a52f8f"></a></div><p name="e8f4" id="e8f4" class="graf graf--p graf-after--mixtapeEmbed">.line 將讓雪花從水平線發射，路徑的公式如下:</p><pre data-code-block-mode="0" spellcheck="false" name="ac56" id="ac56" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">Particles are emitted along a line from (emitterPosition.x - emitterSize.width/2, emitterPosition.y, emitterZPosition) to (emitterPosition.x + emitterSize.width/2, emitterPosition.y, emitterZPosition)</span></pre><p name="1200" id="1200" class="graf graf--p graf-after--pre">公式看來很複雜，其實主要的概念是延 X 軸的水平線發射，水平線的中心點是 emitterPosition.x，長度是 emitterSize.width。</p><p name="2636" id="2636" class="graf graf--p graf-after--p">因此以下兩行程式將讓雪花從畫面上方的水平線發射。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="768f" id="768f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterLayer.emitterPosition <span class="hljs-operator">=</span> <span class="hljs-type">CGPoint</span>(x: view.bounds.width <span class="hljs-operator">/</span> <span class="hljs-number">2</span>, y: <span class="hljs-operator">-</span><span class="hljs-number">50</span>)<br />snowEmitterLayer.emitterSize <span class="hljs-operator">=</span> <span class="hljs-type">CGSize</span>(width: view.bounds.width, height: <span class="hljs-number">0</span>)</span></pre><figure name="ff7d" id="ff7d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*GzbryuRokQC9yWbFOPHIIw.jpeg" data-width="878" data-height="1496" src="https://cdn-images-1.medium.com/max/800/1*GzbryuRokQC9yWbFOPHIIw.jpeg"></figure><blockquote name="c272" id="c272" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">7 控制雪花大小的範圍。</strong></blockquote><p name="a88b" id="a88b" class="graf graf--p graf-after--blockquote">真正的雪花應該要每片不一樣大小，我們可透過 scaleRange 設定大小的範圍，比方以下兩行程式表示雪花的大小範圍為 0.2(0.5- 0.3) ~ 0.8 (0.5+0.3)，如此將產生大小等於圖片尺寸乘上 0.2 ~ 0.8 之間隨機數字的雪花。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f8f7" id="f8f7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.scale <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span><br />snowEmitterCell.scaleRange <span class="hljs-operator">=</span> <span class="hljs-number">0.3</span></span></pre><figure name="6080" id="6080" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*jO1zo-XlGzdxe0zLpxec6g.jpeg" data-width="878" data-height="1496" src="https://cdn-images-1.medium.com/max/800/1*jO1zo-XlGzdxe0zLpxec6g.jpeg"></figure><p name="2497" id="2497" class="graf graf--p graf-after--figure">CAEmitterCell 有設多屬性都像 scaleRange 可以設定範圍，比方 lifetimeRange，velocityRange 等，方便我們製作更生動的動畫效果。</p><blockquote name="341e" id="341e" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">8 雪花大小改變的速度。</strong></blockquote><p name="f5bd" id="f5bd" class="graf graf--p graf-after--blockquote">雪花落下時可能會愈來愈小，因此我們透過 scaleSpeed 設定雪花大小改變的速度，小於 0 會愈來愈小，大於 0 會愈來愈大。(其實彼得潘也不知道雪花落下時會不會愈來愈小，因為台灣很少下雪。)</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="53a8" id="53a8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.scaleSpeed <span class="hljs-operator">=</span> <span class="hljs-operator">-</span><span class="hljs-number">0.02</span></span></pre><figure name="f730" id="f730" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*D9BmKVLprL2d0geOR9vJMQ.jpeg" data-width="878" data-height="1496" src="https://cdn-images-1.medium.com/max/800/1*D9BmKVLprL2d0geOR9vJMQ.jpeg"></figure><p name="1607" id="1607" class="graf graf--p graf-after--figure">同樣的，CAEmitterCell 也有設多屬性像 scaleSpeed 可以設定改變的速度，比方 alphaSpeed，redSpeed 等，方便我們製作更生動的動畫效果。</p><blockquote name="771e" id="771e" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">9 旋轉吧，雪花 !</strong></blockquote><p name="41a3" id="41a3" class="graf graf--p graf-after--blockquote">利用 spin 和 spinRange 設定雪花轉速的範圍為 -0.5(0.5–1) ~ 1.5(0.5+1)，單位為弧度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="a113" id="a113" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.spin <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span><br />snowEmitterCell.spinRange <span class="hljs-operator">=</span> <span class="hljs-number">1</span></span></pre><figure name="07d4" id="07d4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*0A0T4W7iONJrB9YrfrmrXA.jpeg" data-width="878" data-height="1496" src="https://cdn-images-1.medium.com/max/800/1*0A0T4W7iONJrB9YrfrmrXA.jpeg"></figure><blockquote name="8c8a" id="8c8a" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">10 雪花發射的角度範圍。</strong></blockquote><p name="4b17" id="4b17" class="graf graf--p graf-after--blockquote">讓雪花不再是單純的直線落下，讓它們有些往左下，有些往右下。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7c3e" id="7c3e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterCell.emissionRange <span class="hljs-operator">=</span> <span class="hljs-type">CGFloat</span>.pi</span></pre><p name="faab" id="faab" class="graf graf--p graf-after--pre">完整程式</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8b86" id="8b86" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <span class="hljs-keyword">let</span> snowEmitterCell <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterCell</span>()<br />        snowEmitterCell.contents <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;snowflake&quot;</span>)<span class="hljs-operator">?</span>.cgImage<br />        snowEmitterCell.birthRate <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />        snowEmitterCell.lifetime <span class="hljs-operator">=</span> <span class="hljs-number">20</span><br />        snowEmitterCell.scale <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span><br />        snowEmitterCell.velocity <span class="hljs-operator">=</span> <span class="hljs-number">100</span><br />        snowEmitterCell.yAcceleration <span class="hljs-operator">=</span> <span class="hljs-number">30</span><br />        snowEmitterCell.scale <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span><br />        snowEmitterCell.scaleRange <span class="hljs-operator">=</span> <span class="hljs-number">0.3</span><br />        snowEmitterCell.scaleSpeed <span class="hljs-operator">=</span> <span class="hljs-operator">-</span><span class="hljs-number">0.02</span><br />        snowEmitterCell.spin <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span><br />        snowEmitterCell.spinRange <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />        snowEmitterCell.emissionRange <span class="hljs-operator">=</span> .pi<br />        <br />        <span class="hljs-keyword">let</span> snowEmitterLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAEmitterLayer</span>()<br />        snowEmitterLayer.emitterPosition <span class="hljs-operator">=</span> <span class="hljs-type">CGPoint</span>(x: view.bounds.width <span class="hljs-operator">/</span> <span class="hljs-number">2</span>, y: <span class="hljs-operator">-</span><span class="hljs-number">50</span>)<br />        snowEmitterLayer.emitterSize <span class="hljs-operator">=</span> <span class="hljs-type">CGSize</span>(width: view.bounds.width, height: <span class="hljs-number">0</span>)<br />        snowEmitterLayer.emitterShape <span class="hljs-operator">=</span> .line<br />        snowEmitterLayer.emitterCells <span class="hljs-operator">=</span> [snowEmitterCell]<br />        view.layer.addSublayer(snowEmitterLayer)<br />    }<br />    <br />}</span></pre><p name="8de2" id="8de2" class="graf graf--p graf-after--pre">以上為 CAEmitterLayer &amp; CAEmitterCell 常用功能的簡單介紹。另外 CAEmitterLayer 其實還可加強 CAEmitterCell 發射的效果，比方以下程式將讓雪花的大小和產生速度增強一倍，此處設定的數字代表倍率，因此它讓將原本的 CAEmitterCell 的 scale &amp; birthRate 再乘上 2。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1914" id="1914" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">snowEmitterLayer.scale <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br />snowEmitterLayer.birthRate <span class="hljs-operator">=</span> <span class="hljs-number">2</span></span></pre><p name="fe87" id="fe87" class="graf graf--p graf-after--pre">不過想製作生動的下雪效果，往往需要不斷嘗試調整各個屬性的數字。建議可參考以下連結 Satinder 大大的 Smooth Core Animation Snow Effect 設定的數字。</p><div name="f55c" id="f55c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/@satindersingh71/smooth-core-animation-snow-effect-3d93417b96b3" data-href="https://medium.com/@satindersingh71/smooth-core-animation-snow-effect-3d93417b96b3" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@satindersingh71/smooth-core-animation-snow-effect-3d93417b96b3"><strong class="markup--strong markup--mixtapeEmbed-strong">Smooth Core Animation Snow Effect</strong><br><em class="markup--em markup--mixtapeEmbed-em">Recently I decided to create a snow animation in honor of the upcoming holidays! The actual animation is much smoother…</em>medium.com</a><a href="https://medium.com/@satindersingh71/smooth-core-animation-snow-effect-3d93417b96b3" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d39110f9640f1bcf53d73b62853ebe86" data-thumbnail-img-id="1*Kx3mPVXUVD5lgMBGY2KD1g.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Kx3mPVXUVD5lgMBGY2KD1g.gif);"></a></div><p name="b9cf" id="b9cf" class="graf graf--p graf-after--mixtapeEmbed">除了雪花效果， CAEmitterLayer &amp; CAEmitterCell 也很適合製作火焰和煙火的效果，相關的程式可參考以下連結。</p><div name="e876" id="e876" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/@zhenya.peteliev/what-do-you-know-about-caemitterlayer-368378d45c2e" data-href="https://medium.com/@zhenya.peteliev/what-do-you-know-about-caemitterlayer-368378d45c2e" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@zhenya.peteliev/what-do-you-know-about-caemitterlayer-368378d45c2e"><strong class="markup--strong markup--mixtapeEmbed-strong">[Core Animation] What do you know about CAEmitterLayer?</strong><br><em class="markup--em markup--mixtapeEmbed-em">Introduction to CAEmitterLayer</em>medium.com</a><a href="https://medium.com/@zhenya.peteliev/what-do-you-know-about-caemitterlayer-368378d45c2e" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="db7b550deac6e735f37b9fb3630dbbb8" data-thumbnail-img-id="1*L9YkDCByosSczalNVDQRww.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*L9YkDCByosSczalNVDQRww.png);"></a></div><p name="d935" id="d935" class="graf graf--p graf-after--mixtapeEmbed">CAEmitterLayer 發射的粒子不一定要向下，比方也可以製作向上飛的氣球。</p><figure name="78d7" id="78d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*-0D2KxJLwa3xF83R_dc_aw.png" data-width="1354" data-height="752" src="https://cdn-images-1.medium.com/max/800/1*-0D2KxJLwa3xF83R_dc_aw.png"></figure><h3 name="36b0" id="36b0" class="graf graf--h3 graf-after--figure">作品集</h3><div name="f735" id="f735" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/ios-app-%E5%88%A9%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E5%8B%95%E7%95%AB-9272bbbe3b4b" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/ios-app-%E5%88%A9%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E5%8B%95%E7%95%AB-9272bbbe3b4b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/ios-app-%E5%88%A9%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E5%8B%95%E7%95%AB-9272bbbe3b4b"><strong class="markup--strong markup--mixtapeEmbed-strong">【iOS App】利用 CAEmitterLayer 製作動畫</strong><br><em class="markup--em markup--mixtapeEmbed-em">透過 CAEmitterLayer 製造發射類型的動畫：將之前粉紅兔兔加上美美豐富的花花背景、浪漫四射的煙火、夜晚海邊滑落的流星等。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/ios-app-%E5%88%A9%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E5%8B%95%E7%95%AB-9272bbbe3b4b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="11562a29440c1e7827e28afb34f66700" data-thumbnail-img-id="1*X-L7hUrVciqMqw6zm7Baaw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*X-L7hUrVciqMqw6zm7Baaw.png);"></a></div><div name="56f7" id="56f7" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/201205-56090f95cdb0" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/201205-56090f95cdb0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/201205-56090f95cdb0"><strong class="markup--strong markup--mixtapeEmbed-strong">[201205]</strong><br><em class="markup--em markup--mixtapeEmbed-em">Christmas Countdown part — 3</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/201205-56090f95cdb0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="463158151cdbd0aa78648a63b2f0c555" data-thumbnail-img-id="1*Sz_Uv4hVVDaRzOLgjxEw4A.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Sz_Uv4hVVDaRzOLgjxEw4A.gif);"></a></div><div name="94eb" id="94eb" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-daec6f62bb20" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-daec6f62bb20" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-daec6f62bb20"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 viewDidLoad 客製 App 畫面</strong><br><em class="markup--em markup--mixtapeEmbed-em">在 viewDidLoad 裡寫程式</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-daec6f62bb20" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="5f483b4fa9859b6f34cd204219d384e9" data-thumbnail-img-id="1*LHT2R9yUQKRk1uzqsCUluw.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*LHT2R9yUQKRk1uzqsCUluw.gif);"></a></div><div name="efba" id="efba" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/episode-24-%E5%88%A9%E7%94%A8-caemittercell-caemitterlayer-%E7%99%BC%E5%B0%84%E6%86%A4%E6%80%92%E9%B3%A5-bbbd640ac9a7" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/episode-24-%E5%88%A9%E7%94%A8-caemittercell-caemitterlayer-%E7%99%BC%E5%B0%84%E6%86%A4%E6%80%92%E9%B3%A5-bbbd640ac9a7" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/episode-24-%E5%88%A9%E7%94%A8-caemittercell-caemitterlayer-%E7%99%BC%E5%B0%84%E6%86%A4%E6%80%92%E9%B3%A5-bbbd640ac9a7"><strong class="markup--strong markup--mixtapeEmbed-strong">Episode 24 — 利用 CAEmitterCell &amp; CAEmitterLayer 發射憤怒鳥</strong><br><em class="markup--em markup--mixtapeEmbed-em">有沒有玩過憤努鳥，可以調整力道、速度、大小等去擊潰綠豬城堡</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/episode-24-%E5%88%A9%E7%94%A8-caemittercell-caemitterlayer-%E7%99%BC%E5%B0%84%E6%86%A4%E6%80%92%E9%B3%A5-bbbd640ac9a7" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7900164a3fd60f34b92bbd2d6f17841f" data-thumbnail-img-id="1*PrrIl4LRsZJiNInUnufAAw.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*PrrIl4LRsZJiNInUnufAAw.gif);"></a></div><div name="8c29" id="8c29" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8caemitterlayer%E5%81%9A%E5%87%BA%E5%8B%95%E6%85%8B%E6%95%88%E6%9E%9C-76face1be974" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8caemitterlayer%E5%81%9A%E5%87%BA%E5%8B%95%E6%85%8B%E6%95%88%E6%9E%9C-76face1be974" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8caemitterlayer%E5%81%9A%E5%87%BA%E5%8B%95%E6%85%8B%E6%95%88%E6%9E%9C-76face1be974"><strong class="markup--strong markup--mixtapeEmbed-strong">使用CAEmitterLayer做出動態效果</strong><br><em class="markup--em markup--mixtapeEmbed-em">基本跟著彼得的教學可以做出來</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8caemitterlayer%E5%81%9A%E5%87%BA%E5%8B%95%E6%85%8B%E6%95%88%E6%9E%9C-76face1be974" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9f8c7c9c4aae70b9b5879ce2741feb86" data-thumbnail-img-id="1*JDKtEHUyCq7iC856P8Vr3A.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*JDKtEHUyCq7iC856P8Vr3A.gif);"></a></div><div name="9492" id="9492" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%86%8D%E6%AC%A1%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E9%9B%99%E8%89%B2balloon%E9%A3%9B%E4%B8%8A%E5%A4%A9%E5%A4%96%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E6%A8%82-9dd351e73cc2" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%86%8D%E6%AC%A1%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E9%9B%99%E8%89%B2balloon%E9%A3%9B%E4%B8%8A%E5%A4%A9%E5%A4%96%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E6%A8%82-9dd351e73cc2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%86%8D%E6%AC%A1%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E9%9B%99%E8%89%B2balloon%E9%A3%9B%E4%B8%8A%E5%A4%A9%E5%A4%96%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E6%A8%82-9dd351e73cc2"><strong class="markup--strong markup--mixtapeEmbed-strong">再次用 CAEmitterLayer 製作雙色balloon飛上天外加背景音樂</strong><br><em class="markup--em markup--mixtapeEmbed-em">昨天利用 CAEmitterLayer…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%86%8D%E6%AC%A1%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C%E9%9B%99%E8%89%B2balloon%E9%A3%9B%E4%B8%8A%E5%A4%A9%E5%A4%96%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E6%A8%82-9dd351e73cc2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="718fc7202f235f3d999bad6e7d8f7de1" data-thumbnail-img-id="1*2d6eo4SHCzY1a5UoHS1e6w.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*2d6eo4SHCzY1a5UoHS1e6w.png);"></a></div><div name="abbe" id="abbe" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swift-animation-rendered-by-caemitterlayer-with-gif-background-3f16c03f9e62" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swift-animation-rendered-by-caemitterlayer-with-gif-background-3f16c03f9e62" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swift-animation-rendered-by-caemitterlayer-with-gif-background-3f16c03f9e62"><strong class="markup--strong markup--mixtapeEmbed-strong">Swift animation rendered by CAEmitterLayer with GIF background</strong><br><em class="markup--em markup--mixtapeEmbed-em">這個project結合了三種圖層，分別是作為背景的UIImage.animateNamed, CAGradientLayer 以及位於最上層的CAEmitterLayer。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/swift-animation-rendered-by-caemitterlayer-with-gif-background-3f16c03f9e62" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="92688cc5c95e78716a9abb568d3ae6c8" data-thumbnail-img-id="1*IjJ-tNG0l7rPXLWuNdAxlA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*IjJ-tNG0l7rPXLWuNdAxlA.png);"></a></div><div name="e135" id="e135" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/20201210-%E5%88%A9%E7%94%A8-spritekit-particle-file-%E7%85%AE%E9%8D%8B%E5%B7%AB%E5%A9%86%E6%B9%AF-cd72d8430a8b" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/20201210-%E5%88%A9%E7%94%A8-spritekit-particle-file-%E7%85%AE%E9%8D%8B%E5%B7%AB%E5%A9%86%E6%B9%AF-cd72d8430a8b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/20201210-%E5%88%A9%E7%94%A8-spritekit-particle-file-%E7%85%AE%E9%8D%8B%E5%B7%AB%E5%A9%86%E6%B9%AF-cd72d8430a8b"><strong class="markup--strong markup--mixtapeEmbed-strong">[20201210] 利用 SpriteKit Particle File 煮鍋巫婆湯</strong><br><em class="markup--em markup--mixtapeEmbed-em">今日作業：</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/20201210-%E5%88%A9%E7%94%A8-spritekit-particle-file-%E7%85%AE%E9%8D%8B%E5%B7%AB%E5%A9%86%E6%B9%AF-cd72d8430a8b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e298c7e3f3f6143aee02b3fcb7b53f06" data-thumbnail-img-id="1*lkn-CjFwYPR0mX8-AIF-uQ.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*lkn-CjFwYPR0mX8-AIF-uQ.gif);"></a></div><div name="0e4d" id="0e4d" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%B7%B4%E7%BF%92%E8%A3%BD%E4%BD%9C%E4%B8%8B%E9%9B%AA%E5%8B%95%E7%95%AB-%E8%81%96%E8%AA%95%E7%AF%80%E5%BF%AB%E6%A8%82-da46eb735b6d" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%B7%B4%E7%BF%92%E8%A3%BD%E4%BD%9C%E4%B8%8B%E9%9B%AA%E5%8B%95%E7%95%AB-%E8%81%96%E8%AA%95%E7%AF%80%E5%BF%AB%E6%A8%82-da46eb735b6d" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%B7%B4%E7%BF%92%E8%A3%BD%E4%BD%9C%E4%B8%8B%E9%9B%AA%E5%8B%95%E7%95%AB-%E8%81%96%E8%AA%95%E7%AF%80%E5%BF%AB%E6%A8%82-da46eb735b6d"><strong class="markup--strong markup--mixtapeEmbed-strong">練習製作下雪動畫：聖誕節快樂</strong><br><em class="markup--em markup--mixtapeEmbed-em">將下雪動畫搭配漸層與mask遮罩搭配，完成一個聖誕畫面。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%B7%B4%E7%BF%92%E8%A3%BD%E4%BD%9C%E4%B8%8B%E9%9B%AA%E5%8B%95%E7%95%AB-%E8%81%96%E8%AA%95%E7%AF%80%E5%BF%AB%E6%A8%82-da46eb735b6d" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="02a62785de5557af7cf36756220be37f" data-thumbnail-img-id="1*G08A3TRu23kjJ6ieKyj9gw.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*G08A3TRu23kjJ6ieKyj9gw.gif);"></a></div><div name="bb8a" id="bb8a" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-2a7db053d8db" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-2a7db053d8db" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-2a7db053d8db"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 viewDidLoad 客製 App 畫面</strong><br><em class="markup--em markup--mixtapeEmbed-em">在 viewDidLoad 裡寫程式加入有興趣的功能。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-viewdidload-%E5%AE%A2%E8%A3%BD-app-%E7%95%AB%E9%9D%A2-2a7db053d8db" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f6fe9d07f0b254c92c9a3344b7296d52" data-thumbnail-img-id="1*aSk27MV0tWiNKAc0n7gCGQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*aSk27MV0tWiNKAc0n7gCGQ.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/ee5f7cae621e"><time class="dt-published" datetime="2018-12-08T14:16:38.288Z">December 8, 2018</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-caemitterlayer-%E8%A3%BD%E4%BD%9C-xmas-%E7%9A%84%E4%B8%8B%E9%9B%AA%E5%8B%95%E7%95%AB-ee5f7cae621e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>