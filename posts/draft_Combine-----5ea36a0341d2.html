<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Combine 初體驗</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Combine 初體驗</h1>
</header>
<section data-field="subtitle" class="p-summary">
Publisher
</section>
<section data-field="body" class="e-content">
<section name="f12d" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f53e" id="f53e" class="graf graf--h3 graf--leading graf--title">Combine 初體驗</h3><pre name="e171" id="e171" class="graf graf--pre graf-after--h3">A publisher provides data when available and upon request. A publisher that has not had any subscription requests will not provide any data.</pre><figure name="222c" id="222c" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*uiFCppgam_RscAjR62l7Cw.jpeg" data-width="1910" data-height="524" src="https://cdn-images-1.medium.com/max/800/1*uiFCppgam_RscAjR62l7Cw.jpeg"></figure><pre name="a4f8" id="a4f8" class="graf graf--pre graf-after--figure">A subscriber is responsible for requesting data and accepting the data (and possible failures) provided by a publisher. A subscriber is described with two associated types, one for Input and one for Failure. The subscriber initiates the request for data, and controls the amount of data it receives. It can be thought of as &quot;driving the action&quot; within Combine, as without a subscriber, the other components stay idle.</pre><figure name="d0b4" id="d0b4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*tklodLS4JUHYw0mmE5BUgQ.jpeg" data-width="1916" data-height="834" src="https://cdn-images-1.medium.com/max/800/1*tklodLS4JUHYw0mmE5BUgQ.jpeg"></figure><pre name="0d8a" id="0d8a" class="graf graf--pre graf-after--figure">The third core concept is an operator - an object that acts both like a subscriber and a publisher. Operators are classes that adopt both the Subscriber protocol and Publisher protocol. They support subscribing to a publisher, and sending results to any subscribers.</pre><figure name="26d6" id="26d6" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*0yodY2kjriOHXd_Rn1ZrZQ.jpeg" data-width="1914" data-height="734" src="https://cdn-images-1.medium.com/max/800/1*0yodY2kjriOHXd_Rn1ZrZQ.jpeg"></figure><figure name="d86a" id="d86a" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*3kn7mEtqwQ7ncUgSIF8vHg.jpeg" data-width="1884" data-height="940" src="https://cdn-images-1.medium.com/max/800/1*3kn7mEtqwQ7ncUgSIF8vHg.jpeg"></figure><pre name="8411" id="8411" class="graf graf--pre graf-after--figure">With the subscriber driving this process, it allows Combine to support cancellation. Subscribers all conform to the Cancellable protocol. This means they all have a function cancel() that can be invoked to terminate a pipeline and stop all related processing.</pre><figure name="7de1" id="7de1" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*mDGbEjekLWAcpPu1ZjtEew.jpeg" data-width="1910" data-height="752" src="https://cdn-images-1.medium.com/max/800/1*mDGbEjekLWAcpPu1ZjtEew.jpeg"></figure><h3 name="62fc" id="62fc" class="graf graf--h3 graf-after--figure">Publisher</h3><p name="f529" id="f529" class="graf graf--p graf-after--h3">可以發布兩種事件</p><ul class="postList"><li name="8873" id="8873" class="graf graf--li graf-after--p">value</li><li name="4deb" id="4deb" class="graf graf--li graf-after--li">completion event，成功或失敗</li></ul><p name="4b17" id="4b17" class="graf graf--p graf-after--li">A publisher can emit zero or more values but only one completion event, which can either be a normal completion event or an error. Once a publisher emits a completion event, it’s finished and can no longer emit any more events.</p><p name="251b" id="251b" class="graf graf--p graf-after--p">A publisher only emits an event when there’s at least one subscriber.</p><p name="ee5d" id="ee5d" class="graf graf--p graf-after--p">Both system-provided subscribers conform to Cancellable</p><p name="d0cd" id="d0cd" class="graf graf--p graf-after--p">舊寫法</p><pre name="1589" id="1589" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">let</strong> myNotification = Notification.Name(&quot;MyNotification&quot;)</pre><pre name="1fa3" id="1fa3" class="graf graf--pre graf--empty graf-after--pre"><br></pre><pre name="fc5e" id="fc5e" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// 2</em></pre><pre name="903c" id="903c" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">let</strong> publisher = NotificationCenter.default</pre><pre name="7698" id="7698" class="graf graf--pre graf-after--pre">.publisher(for: myNotification, object: <strong class="markup--strong markup--pre-strong">nil</strong>)</pre><pre name="b3a5" id="b3a5" class="graf graf--pre graf--empty graf-after--pre"><br></pre><pre name="231c" id="231c" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// 3</em></pre><pre name="fdbb" id="fdbb" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">let</strong> center = NotificationCenter.default</pre><pre name="952c" id="952c" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// 4</em></pre><pre name="7ac4" id="7ac4" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">let</strong> observer = center.addObserver(</pre><pre name="65f9" id="65f9" class="graf graf--pre graf-after--pre">forName: myNotification,</pre><pre name="436e" id="436e" class="graf graf--pre graf-after--pre">object: <strong class="markup--strong markup--pre-strong">nil</strong>,</pre><pre name="ae63" id="ae63" class="graf graf--pre graf-after--pre">queue: <strong class="markup--strong markup--pre-strong">nil</strong>) { notification <strong class="markup--strong markup--pre-strong">in</strong></pre><pre name="120d" id="120d" class="graf graf--pre graf-after--pre">print(&quot;Notification received!&quot;)</pre><pre name="7280" id="7280" class="graf graf--pre graf-after--pre">}</pre><pre name="aa88" id="aa88" class="graf graf--pre graf--empty graf-after--pre"><br></pre><pre name="a524" id="a524" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// 5</em></pre><pre name="1c52" id="1c52" class="graf graf--pre graf-after--pre">center.post(name: myNotification, object: <strong class="markup--strong markup--pre-strong">nil</strong>)</pre><pre name="46cb" id="46cb" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// 6</em></pre><pre name="77c1" id="77c1" class="graf graf--pre graf-after--pre">center.removeObserver(observer)</pre><pre name="02ec" id="02ec" class="graf graf--pre graf-after--pre">}</pre><p name="00ab" id="00ab" class="graf graf--p graf-after--pre">使用 Combine 的新寫法</p><pre name="4b7c" id="4b7c" class="graf graf--pre graf-after--p">let myNotification = Notification.Name(&quot;MyNotification&quot;)</pre><pre name="d889" id="d889" class="graf graf--pre graf-after--pre">let publisher = NotificationCenter.default<br>    .publisher(for: myNotification, object: nil)</pre><pre name="9f5d" id="9f5d" class="graf graf--pre graf-after--pre">let center = NotificationCenter.default</pre><pre name="bb2c" id="bb2c" class="graf graf--pre graf-after--pre">// 1<br>  let subscription = publisher<br>    .sink { _ in<br>      print(&quot;Notification received from a publisher!&quot;)<br>    }</pre><pre name="6796" id="6796" class="graf graf--pre graf-after--pre">// 2<br>  center.post(name: myNotification, object: nil)<br>  // 3<br>  subscription.cancel()</pre><div name="3b3d" id="3b3d" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://www.vadimbulavin.com/swift-combine-framework-tutorial-getting-started/" data-href="https://www.vadimbulavin.com/swift-combine-framework-tutorial-getting-started/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.vadimbulavin.com/swift-combine-framework-tutorial-getting-started/"><strong class="markup--strong markup--mixtapeEmbed-strong">Swift Combine Framework Tutorial: Getting Started</strong><br><em class="markup--em markup--mixtapeEmbed-em">The goal of this article is to paint the big picture of how to use Combine framework in Swift. Combine is Swift…</em>www.vadimbulavin.com</a><a href="https://www.vadimbulavin.com/swift-combine-framework-tutorial-getting-started/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e69b3ed1097400535e353212d9634e3c" data-thumbnail-img-id="0*vRHmxtNRY7e-u5zR" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*vRHmxtNRY7e-u5zR);"></a></div><p name="e842" id="e842" class="graf graf--p graf--empty graf-after--mixtapeEmbed graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/5ea36a0341d2">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>