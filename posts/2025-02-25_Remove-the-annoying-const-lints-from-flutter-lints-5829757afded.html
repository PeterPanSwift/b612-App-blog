<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Remove the annoying const lints from flutter_lints</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Remove the annoying const lints from flutter_lints</h1>
</header>
<section data-field="subtitle" class="p-summary">
從前開發 Flutter App 時，我們常會看到 const 相關的警告訊息，程式下方常出現惱人的藍色波浪。
</section>
<section data-field="body" class="e-content">
<section name="a797" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6db0" id="6db0" class="graf graf--h3 graf--leading graf--title">Remove the annoying const lints from flutter_lints</h3><p name="a551" id="a551" class="graf graf--p graf-after--h3">從前開發 Flutter App 時，我們常會看到 const 相關的警告訊息，程式下方常出現惱人的藍色波浪。</p><figure name="35cf" id="35cf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Wan7MZ6LW17XvcBbvzHRmQ.png" data-width="1960" data-height="1006" src="https://cdn-images-1.medium.com/max/800/1*Wan7MZ6LW17XvcBbvzHRmQ.png"></figure><p name="a138" id="a138" class="graf graf--p graf-after--figure">警告訊息顯示 <code class="markup--code markup--p-code">Use ‘const’ with the constructor to improve performance</code>。</p><figure name="4550" id="4550" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Jy6r2XyQnb8deJhfqso8fA.png" data-width="2464" data-height="1134" src="https://cdn-images-1.medium.com/max/800/1*Jy6r2XyQnb8deJhfqso8fA.png"></figure><p name="eeba" id="eeba" class="graf graf--p graf-after--figure">警告的目的在提醒我們添加 const 提升效能，不過 const 可不能隨便亂加，為了完美消除警告，我們必須挑選合適的地方添加 const。以剛剛的例子來說，應該加在 Scaffold 之前。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="dart" name="1ebd" id="1ebd" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{<br />  <span class="hljs-keyword">const</span> MyHomePage({<span class="hljs-keyword">super</span>.key});<br /><br />  <span class="hljs-meta">@override</span><br />  Widget build(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Scaffold(<br />      body: Center(<br />        child: Text(<br />          <span class="hljs-string">&#x27;I love SwiftUI&#x27;</span>,<br />          style: TextStyle(fontSize: <span class="hljs-number">30</span>, color: Color(<span class="hljs-number">0xFF40E0D0</span>)),<br />        ),<br />      ),<br />    );<br />  }<br />}</span></pre><p name="e0f5" id="e0f5" class="graf graf--p graf-after--pre">然而 const 提升效能的效果有限，因此檢查程式問題提出警告的 flutter_lints 從 5.0.0 版移除 const 的相關檢查，移除了 prefer_const_constructors、prefer_const_declarations、prefer_const_literals_to_create_immutables 的檢查。</p><figure name="0190" id="0190" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*YHpJ_RWxKmvimQYgQliqsQ.png" data-width="1932" data-height="952" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*YHpJ_RWxKmvimQYgQliqsQ.png"></figure><p name="f1db" id="f1db" class="graf graf--p graf-after--figure">現在開發 Flutter App 時我們可以將 const 拋到九霄雲外，就算沒加 const 也不會出現波浪了。</p><figure name="3d03" id="3d03" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*nCy_sr_F6MtDoSIrbDGeGg.png" data-width="1940" data-height="978" src="https://cdn-images-1.medium.com/max/800/1*nCy_sr_F6MtDoSIrbDGeGg.png"></figure><p name="3dc2" id="3dc2" class="graf graf--p graf-after--figure">ps: 如果還是偏好 const，想要程式提醒我們添加 const，可以自己在 analysis_options.yaml 將 prefer_const_constructors、prefer_const_declarations、prefer_const_literals_to_create_immutables 設為 true。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="yaml" name="2147" id="2147" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-attr">linter:</span><br />  <span class="hljs-comment"># The lint rules applied to this project can be customized in the</span><br />  <span class="hljs-comment"># section below to disable rules from the `package:flutter_lints/flutter.yaml`</span><br />  <span class="hljs-comment"># included above or to enable additional rules. A list of all available lints</span><br />  <span class="hljs-comment"># and their documentation is published at https://dart.dev/lints.</span><br />  <span class="hljs-comment">#</span><br />  <span class="hljs-comment"># Instead of disabling a lint rule for the entire project in the</span><br />  <span class="hljs-comment"># section below, it can also be suppressed for a single line of code</span><br />  <span class="hljs-comment"># or a specific dart file by using the `// ignore: name_of_lint` and</span><br />  <span class="hljs-comment"># `// ignore_for_file: name_of_lint` syntax on the line or in the file</span><br />  <span class="hljs-comment"># producing the lint.</span><br />  <span class="hljs-attr">rules:</span><br />    <span class="hljs-attr">prefer_const_constructors:</span> <span class="hljs-literal">true</span><br />    <span class="hljs-attr">prefer_const_declarations:</span> <span class="hljs-literal">true</span><br />    <span class="hljs-attr">prefer_const_literals_to_create_immutables:</span> <span class="hljs-literal">true</span></span></pre><h3 name="54f0" id="54f0" class="graf graf--h3 graf-after--pre">相關連結</h3><div name="36b4" id="36b4" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/CHANGELOG.md" data-href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/CHANGELOG.md" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/flutter/packages/blob/main/packages/flutter_lints/CHANGELOG.md"><strong class="markup--strong markup--mixtapeEmbed-strong">packages/packages/flutter_lints/CHANGELOG.md at main · flutter/packages</strong><br><em class="markup--em markup--mixtapeEmbed-em">A collection of useful packages maintained by the Flutter team - packages/packages/flutter_lints/CHANGELOG.md at main ·…</em>github.com</a><a href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/CHANGELOG.md" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9685f906990e259c20670c5d0b04ba04" data-thumbnail-img-id="0*tO6PzZTifqkjnQTn" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*tO6PzZTifqkjnQTn);"></a></div><div name="f5cb" id="f5cb" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://github.com/dart-lang/core/issues/833" data-href="https://github.com/dart-lang/core/issues/833" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/dart-lang/core/issues/833"><strong class="markup--strong markup--mixtapeEmbed-strong">Remove the annoying const lints from flutter_lints · Issue #833 · dart-lang/core</strong><br><em class="markup--em markup--mixtapeEmbed-em">In theory, const-ness should give apps a performance boost, but during development the lints enforcing const are…</em>github.com</a><a href="https://github.com/dart-lang/core/issues/833" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0632a9ac499721c958506d0492a82657" data-thumbnail-img-id="0*JGkjHD9cp4GL4j-B" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*JGkjHD9cp4GL4j-B);"></a></div><div name="c25f" id="c25f" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/lib/flutter.yaml" data-href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/lib/flutter.yaml" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/flutter/packages/blob/main/packages/flutter_lints/lib/flutter.yaml"><strong class="markup--strong markup--mixtapeEmbed-strong">packages/packages/flutter_lints/lib/flutter.yaml at main · flutter/packages</strong><br><em class="markup--em markup--mixtapeEmbed-em">A collection of useful packages maintained by the Flutter team - packages/packages/flutter_lints/lib/flutter.yaml at…</em>github.com</a><a href="https://github.com/flutter/packages/blob/main/packages/flutter_lints/lib/flutter.yaml" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="3205b45ee729515d2ffd078cfaeb41de" data-thumbnail-img-id="0*ONLhYp9RRPiWi2bv" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*ONLhYp9RRPiWi2bv);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/5829757afded"><time class="dt-published" datetime="2025-02-25T03:24:59.970Z">February 25, 2025</time></a>.</p><p><a href="https://medium.com/@apppeterpan/remove-the-annoying-const-lints-from-flutter-lints-5829757afded" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>