<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>用 Self.self 定義 controller 的 storyboard id &amp; cell 的 reuse id</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">用 Self.self 定義 controller 的 storyboard id &amp; cell 的 reuse id</h1>
</header>
<section data-field="subtitle" class="p-summary">
從程式生成 storyboard 裡設計的 view controller &amp; cell 時，必須指定 controller 的 storyboard id 和 cell 的 reuse id。
</section>
<section data-field="body" class="e-content">
<section name="e4da" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8f53" id="8f53" class="graf graf--h3 graf--leading graf--title">用 Self.self 定義 controller 的 storyboard id &amp; cell 的 reuse id</h3><figure name="5b50" id="5b50" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*WcLxFtKSIvC9g7c8wW4Pog.png" data-width="1528" data-height="488" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*WcLxFtKSIvC9g7c8wW4Pog.png"></figure><p name="5952" id="5952" class="graf graf--p graf-after--figure">從程式生成 storyboard 裡設計的 view controller &amp; cell 時，必須指定 controller 的 storyboard id 和 cell 的 reuse id。</p><p name="4f45" id="4f45" class="graf graf--p graf-after--p">不過手動輸入 id 的字串容易出錯，如果習慣將 storyboard id 和 reuse id 設為 controller 和 cell 的類別，我們可以在類別的 extension 定義回傳 <code class="markup--code markup--p-code">&quot;\(Self.self)&quot; </code>的型別屬性產生 id，之後在程式裡輸入 id 會更方便，而且也不用再擔心打錯字。</p><p name="1d14" id="1d14" class="graf graf--p graf-after--p">以下我們分別說明定義 storyboard id &amp; reuse id 的方法。</p><h4 name="d7f7" id="d7f7" class="graf graf--h4 graf-after--p">在 extension UIViewController 定義 storyboardIdentifier</h4><p name="0ae8" id="0ae8" class="graf graf--p graf-after--h4">在 extension UIViewController 定義 storyboardIdentifier，回傳 <code class="markup--code markup--p-code">&quot;\(Self.self)&quot;</code>。現在任何的 controller 都可以快速產生同名的字串，比方MovieViewController.storyboardIdentifier 將回傳 <code class="markup--code markup--p-code">&quot;MovieViewController&quot;</code>，SongViewController.storyboardIdentifier 將回傳 <code class="markup--code markup--p-code">&quot;SongViewController&quot;</code>。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="1c62" id="1c62" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">UIViewController</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> storyboardIdentifier: <span class="hljs-type">String</span> { <span class="hljs-string">&quot;<span class="hljs-subst">\(<span class="hljs-keyword">Self</span>.<span class="hljs-keyword">self</span>)</span>&quot;</span> }<br />}</span></pre><p name="e584" id="e584" class="graf graf--p graf-after--pre">有了 storyboardIdentifier，之後用 instantiateViewController 產生 controller 時將可方便地傳入 id，比方傳入 MovieViewController.storyboardIdentifier 將產生 storyboard id 為 <code class="markup--code markup--p-code">&quot;MovieViewController&quot;</code> 的 controller。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="1f57" id="1f57" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> storyboard <span class="hljs-operator">=</span> <span class="hljs-type">UIStoryboard</span>(name: <span class="hljs-string">&quot;Main&quot;</span>, bundle: <span class="hljs-literal">nil</span>)<br /><span class="hljs-keyword">let</span> controller <span class="hljs-operator">=</span> storyboard.instantiateViewController(withIdentifier: <span class="hljs-type">MovieViewController</span>.storyboardIdentifier)</span></pre><h4 name="c38b" id="c38b" class="graf graf--h4 graf-after--pre">在 extension UITableViewCell / UICollectionViewCell 定義 reuseIdentifier</h4><p name="dea2" id="dea2" class="graf graf--p graf-after--h4">跟 storyboardIdentifier 類似，我們可以在 extension UITableViewCell / UICollectionViewCell 定義回傳 <code class="markup--code markup--p-code">&quot;\(Self.self)&quot;</code> 的 reuseIdentifier，之後用 dequeueReusableCell 產生 cell 時將可方便地傳入 id，比方 MovieTableViewCell.reuseIdentifier 將產生 reuse id 為 <code class="markup--code markup--p-code">&quot;MovieTableViewCell&quot; </code>的 cell。</p><ul class="postList"><li name="e19e" id="e19e" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">在 extension UITableViewCell 定義 reuseIdentifier。</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="f02c" id="f02c" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">UITableViewCell</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> reuseIdentifier: <span class="hljs-type">String</span> { <span class="hljs-string">&quot;<span class="hljs-subst">\(<span class="hljs-keyword">Self</span>.<span class="hljs-keyword">self</span>)</span>&quot;</span> }<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="92ed" id="92ed" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> tableView.dequeueReusableCell(withIdentifier: <span class="hljs-type">MovieTableViewCell</span>.reuseIdentifier, for: indexPath) <span class="hljs-keyword">as!</span> <span class="hljs-type">MovieTableViewCell</span></span></pre><ul class="postList"><li name="5afe" id="5afe" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">在 extension UICollectionViewCell 定義 reuseIdentifier。</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="d6eb" id="d6eb" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">UICollectionViewCell</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> reuseIdentifier: <span class="hljs-type">String</span> { <span class="hljs-string">&quot;<span class="hljs-subst">\(<span class="hljs-keyword">Self</span>.<span class="hljs-keyword">self</span>)</span>&quot;</span> }<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="93d3" id="93d3" class="graf graf--pre graf-after--pre graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> collectionView.dequeueReusableCell(withReuseIdentifier: <span class="hljs-type">MovieCollectionViewCell</span>.reuseIdentifier, for: indexPath) <span class="hljs-keyword">as!</span> <span class="hljs-type">MovieCollectionViewCell</span></span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/1e5fc5cf9651"><time class="dt-published" datetime="2024-08-09T03:21:30.898Z">August 9, 2024</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E7%94%A8-self-self-%E5%AE%9A%E7%BE%A9-controller-%E7%9A%84-storyboard-id-cell-%E7%9A%84-reuse-id-1e5fc5cf9651" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>