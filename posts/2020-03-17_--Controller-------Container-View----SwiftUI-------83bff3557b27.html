<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>在 Controller 畫面利用  Container View 加入 SwiftUI 特製的圖片</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">在 Controller 畫面利用  Container View 加入 SwiftUI 特製的圖片</h1>
</header>
<section data-field="subtitle" class="p-summary">
SwiftUI 提供多種圖片效果的 modifier，讓我們用一兩行程式就能做出原本 UIKit 要十幾行才能實現的圖片效果，比方模糊，混合，亮度，顏色反轉，色彩增值，對比，灰階，色相旋轉，遮色片，飽和度等。
</section>
<section data-field="body" class="e-content">
<section name="b6f5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7b61" id="7b61" class="graf graf--h3 graf--leading graf--title">在 Controller 畫面利用 Container View 加入 SwiftUI 特製的圖片</h3><p name="ae10" id="ae10" class="graf graf--p graf-after--h3">SwiftUI 提供多種圖片效果的 modifier，讓我們用一兩行程式就能做出原本 UIKit 要十幾行才能實現的圖片效果，比方模糊，混合，亮度，顏色反轉，色彩增值，對比，灰階，色相旋轉，遮色片，飽和度等。</p><div name="3cf4" id="3cf4" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E7%94%9F%E5%8B%95%E6%9C%89%E8%B6%A3%E7%9A%84%E5%9C%96%E7%89%87%E6%95%88%E6%9E%9C-modifier-80d275c3ec0f" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E7%94%9F%E5%8B%95%E6%9C%89%E8%B6%A3%E7%9A%84%E5%9C%96%E7%89%87%E6%95%88%E6%9E%9C-modifier-80d275c3ec0f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E7%94%9F%E5%8B%95%E6%9C%89%E8%B6%A3%E7%9A%84%E5%9C%96%E7%89%87%E6%95%88%E6%9E%9C-modifier-80d275c3ec0f"><strong class="markup--strong markup--mixtapeEmbed-strong">SwiftUI 生動有趣的圖片效果 modifier</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI 提供多種圖片效果的 modifier，讓我們不用花錢買昂貴的美術軟體，用一兩行程式就能做出常見的圖片效果。接下來就讓我們一一認識調整模糊，混合，亮度，顏色反轉，色彩增值，對比，灰階，色相旋轉，遮色片，飽和度的各式…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E7%94%9F%E5%8B%95%E6%9C%89%E8%B6%A3%E7%9A%84%E5%9C%96%E7%89%87%E6%95%88%E6%9E%9C-modifier-80d275c3ec0f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9d826d26b08b60ee68b31075ed1dc3d5" data-thumbnail-img-id="1*dY1HuchVhHLmMNuK4jUHZQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*dY1HuchVhHLmMNuK4jUHZQ.jpeg);"></a></div><p name="b6ac" id="b6ac" class="graf graf--p graf-after--mixtapeEmbed">接下來我們就以圖片模糊為例，利用 SwiftUI 為圖片增添模糊的美感，然後將它加到 storyboard 設計的 view controller 畫面。</p><h3 name="d0a0" id="d0a0" class="graf graf--h3 graf-after--p">加入容納 SwiftUI view 的 Container View</h3><p name="8f05" id="8f05" class="graf graf--p graf-after--h3">將 container view 加到 controller 的 view 上並設定 auto layout，它將用來容納呈現 SwiftUI view 的 UIHostingController。</p><figure name="c074" id="c074" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*4pMqn65JBzH7ur4sR8Auzw.jpeg" data-width="562" data-height="302" src="https://cdn-images-1.medium.com/max/800/1*4pMqn65JBzH7ur4sR8Auzw.jpeg"></figure><figure name="0644" id="0644" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*j-D2TkCoLyXVWvYzxOolAw.jpeg" data-width="812" data-height="840" src="https://cdn-images-1.medium.com/max/800/1*j-D2TkCoLyXVWvYzxOolAw.jpeg"></figure><h3 name="6e33" id="6e33" class="graf graf--h3 graf-after--figure">移除 container view 預設連結的 segue &amp; controller</h3><figure name="9472" id="9472" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*ji6BRFB-DEPNd3-T06EmnA.jpeg" data-width="468" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*ji6BRFB-DEPNd3-T06EmnA.jpeg"></figure><h3 name="611e" id="611e" class="graf graf--h3 graf-after--figure">加入 UIHostingController</h3><p name="56f4" id="56f4" class="graf graf--p graf-after--h3">加入負責呈現 SwiftUI view 的 UIHostingController。</p><figure name="5cc7" id="5cc7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PWYUJ43UHgquQf0WOUwgzQ.jpeg" data-width="570" data-height="300" src="https://cdn-images-1.medium.com/max/800/1*PWYUJ43UHgquQf0WOUwgzQ.jpeg"></figure><figure name="0a12" id="0a12" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*b-sTxvwr6aYN3blWOrAkiw.jpeg" data-width="1614" data-height="1100" src="https://cdn-images-1.medium.com/max/800/1*b-sTxvwr6aYN3blWOrAkiw.jpeg"></figure><h3 name="b7e2" id="b7e2" class="graf graf--h3 graf-after--figure">從 container view 連 segue 到 UIHostingController</h3><p name="5e89" id="5e89" class="graf graf--p graf-after--h3">連線時選擇 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">embed</strong></code>。</p><figure name="d6ae" id="d6ae" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*oz6kOL_Q9Odrm8ehz7aJrA.jpeg" data-width="1026" data-height="850" src="https://cdn-images-1.medium.com/max/800/1*oz6kOL_Q9Odrm8ehz7aJrA.jpeg"></figure><p name="d5d2" id="d5d2" class="graf graf--p graf-after--figure">如下圖所示，container view 將呈現 UIHostingController 的畫面，而 UIHostingController 顯示的正是 SwiftUI view。</p><figure name="06bf" id="06bf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*92xD0-d6YzfM3FWQxc80Dw.jpeg" data-width="872" data-height="814" src="https://cdn-images-1.medium.com/max/800/1*92xD0-d6YzfM3FWQxc80Dw.jpeg"></figure><h3 name="e201" id="e201" class="graf graf--h3 graf-after--figure">利用 SwiftUI 設計模糊效果的圖片</h3><p name="82ec" id="82ec" class="graf graf--p graf-after--h3">定義 SwiftUI view 的型別 ContentView，在裡面呈現添加模糊效果的圖片。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="54e3" id="54e3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Image</span>(.peter)<br />            .resizable()<br />            .scaledToFill()<br />            .frame(minWidth: <span class="hljs-number">0</span>, maxWidth: .infinity,  minHeight: <span class="hljs-number">0</span>,  maxHeight: .infinity)<br />            .clipped()<br />            .blur(radius: <span class="hljs-number">10</span>)<br />    }<br />}</span></pre><p name="7be6" id="7be6" class="graf graf--p graf-after--pre">圖片加到 Controller 的畫面上時，我們希望它填滿 container view，因此我們利用 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">frame(minWidth: 0, maxWidth: .infinity, minHeight: 0, maxHeight: .infinity) </strong></code>讓它的大小填滿可用空間，然後呼叫 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">clipped</strong></code> 讓圖片以 scaledToFill 縮放時切除超出的地方。</p><p name="6ea5" id="6ea5" class="graf graf--p graf-after--p">加了模糊效果後，圖片果然帥度增加了，覺得帥度不夠的可再增加 blur 的數字。</p><figure name="93ac" id="93ac" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dE7uplpEihsY-d7SWWH_nw.jpeg" data-width="548" data-height="842" src="https://cdn-images-1.medium.com/max/800/1*dE7uplpEihsY-d7SWWH_nw.jpeg"></figure><h3 name="a75a" id="a75a" class="graf graf--h3 graf-after--figure">利用 IBSegueAction 設定 UIHostingController 顯示的 SwiftUI view</h3><p name="e51c" id="e51c" class="graf graf--p graf-after--h3">現在我們剩下最關鍵的一步，設定 UIHostingController 顯示的 SwiftUI view，詳細的說明可參考以下連結。</p><div name="7c8a" id="7c8a" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AE%B9%E7%B4%8D-swiftui-view-%E7%9A%84-uihostingcontroller-4eda5147e55a" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AE%B9%E7%B4%8D-swiftui-view-%E7%9A%84-uihostingcontroller-4eda5147e55a" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AE%B9%E7%B4%8D-swiftui-view-%E7%9A%84-uihostingcontroller-4eda5147e55a"><strong class="markup--strong markup--mixtapeEmbed-strong">容納 SwiftUI view 的 UIHostingController ~ 從 storyboard 畫面切換到 SwiftUI 畫面</strong><br><em class="markup--em markup--mixtapeEmbed-em">Apple 發明了更方便製作 App 畫面的 SwiftUI 後，SwiftUI 將是未來設計 iOS App 畫面的主流，但目前仍然有許多 App 採用傳統的 UIKit view controller 開發，所以我們該如何選擇呢 ?</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AE%B9%E7%B4%8D-swiftui-view-%E7%9A%84-uihostingcontroller-4eda5147e55a" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="831af57b9cd0d74adeb2e920b08721fe" data-thumbnail-img-id="1*BnKhh7-3ryF2_ZTPuN_btA.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*BnKhh7-3ryF2_ZTPuN_btA.jpeg);"></a></div><p name="afd4" id="afd4" class="graf graf--p graf-after--mixtapeEmbed">以下為逐步的示範。</p><ul class="postList"><li name="2a2e" id="2a2e" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">將 segue 起點的 controller 類別設成自訂的類別。</strong></li></ul><p name="4340" id="4340" class="graf graf--p graf-after--li">IBSegueAction function 要定義在 segue 起點的 controller 裡，因此我們要先將 controller 類別設成自訂的類別，在此我們將類別設為 ViewController。</p><figure name="d0ec" id="d0ec" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8nigfJCfN2zYJH4TKhusgQ.png" data-width="528" data-height="258" src="https://cdn-images-1.medium.com/max/800/1*8nigfJCfN2zYJH4TKhusgQ.png"></figure><p name="0017" id="0017" class="graf graf--p graf-after--figure">此步驟不清楚的同學可參考以下連結。</p><div name="0364" id="0364" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A-storyboard-%E8%A3%A1%E5%85%83%E4%BB%B6%E7%9A%84-class-820a0ffd8924" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A-storyboard-%E8%A3%A1%E5%85%83%E4%BB%B6%E7%9A%84-class-820a0ffd8924" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A-storyboard-%E8%A3%A1%E5%85%83%E4%BB%B6%E7%9A%84-class-820a0ffd8924"><strong class="markup--strong markup--mixtapeEmbed-strong">如何設定 storyboard 裡元件的 class</strong><br><em class="markup--em markup--mixtapeEmbed-em">在 storyboard 我們可以設計 iOS App 畫面，加入各式各樣的元件，比方 controller ，image view，label，button 等。這些元件的功能都由它們的 class 決定，因此我們只要將它們的…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A-storyboard-%E8%A3%A1%E5%85%83%E4%BB%B6%E7%9A%84-class-820a0ffd8924" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f18912e26329a8efa5f7c63dc6c34203" data-thumbnail-img-id="1*oYE8U-YTwKMKG_2xngIrsg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*oYE8U-YTwKMKG_2xngIrsg.jpeg);"></a></div><ul class="postList"><li name="65cb" id="65cb" class="graf graf--li graf-after--mixtapeEmbed"><strong class="markup--strong markup--li-strong">顯示 Assistant 頁面</strong></li></ul><p name="cb81" id="cb81" class="graf graf--p graf-after--li">點選下圖右上角紅色圈圈標示的 Adjust Editor Options 按鈕，然後點選 Assistant。</p><figure name="5169" id="5169" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*mcypjE6ONHOzk03eToUUGQ.png" data-width="1138" data-height="236" src="https://cdn-images-1.medium.com/max/800/1*mcypjE6ONHOzk03eToUUGQ.png"></figure><ul class="postList"><li name="be92" id="be92" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">在 Assistant 頁面顯示 segue 起點 controller 的程式</strong></li></ul><p name="fceb" id="fceb" class="graf graf--p graf-after--li">點選 segue，點選 Assistant 頁面的 &lt;&gt; 切換檔案，在 Assistant 頁面顯示 segue 起點 controller 的類別 ViewController。</p><figure name="4e63" id="4e63" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*hqLk4FQ3y2k6m0gqNDLbQQ.jpeg" data-width="1618" data-height="1014" src="https://cdn-images-1.medium.com/max/800/1*hqLk4FQ3y2k6m0gqNDLbQQ.jpeg"></figure><ul class="postList"><li name="f555" id="f555" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">從 segue 連線到 controller 的程式。</strong></li></ul><figure name="903f" id="903f" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*ZblIByIPObpvHqor2vacKQ.jpeg" data-width="1528" data-height="974" src="https://cdn-images-1.medium.com/max/800/1*ZblIByIPObpvHqor2vacKQ.jpeg"></figure><ul class="postList"><li name="8387" id="8387" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">輸入 function 的名字。</strong></li></ul><figure name="f222" id="f222" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*ChE4nozElI8gorvWPYgAHQ.jpeg" data-width="572" data-height="368" src="https://cdn-images-1.medium.com/max/800/1*ChE4nozElI8gorvWPYgAHQ.jpeg"></figure><p name="94b3" id="94b3" class="graf graf--p graf-after--figure">就像我們熟悉的 IBSegue &amp; IBAction，此時 Xcode 將貼心地幫我們輸入 IBSegueAction 的相關程式。</p><figure name="8cfc" id="8cfc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1nM-lwsWQdJuq7SD_stMZg.jpeg" data-width="1394" data-height="324" src="https://cdn-images-1.medium.com/max/800/1*1nM-lwsWQdJuq7SD_stMZg.jpeg"></figure><p name="2734" id="2734" class="graf graf--p graf-after--figure">接著我們要在 function 裡產生回傳的 UIHostingController，UIHostingController 的 init 如下，關鍵在它的第二個參數 rootView，它代表我們想要 UIHostingController 顯示的 SwiftUI view。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="14e2" id="14e2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">init?</span>(<span class="hljs-params">coder</span> <span class="hljs-params">aDecoder</span>: <span class="hljs-type">NSCoder</span>, <span class="hljs-params">rootView</span>: <span class="hljs-type">Content</span>)</span></pre><p name="dd0c" id="dd0c" class="graf graf--p graf-after--pre">請先點選 IBSegueAction function 裡等待我們輸入的灰色框框，讓它變藍色，然後按下 enter。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="2a7d" id="2a7d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBSegueAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">coder</span>: <span class="hljs-type">NSCoder</span>) -&gt; <span class="hljs-type">UIViewController</span>? {<br />    <span class="hljs-keyword">return</span> <span class="hljs-type">UIHostingController</span>(coder: coder, rootView: <span class="hljs-operator">...</span>)<br />}</span></pre><p name="9883" id="9883" class="graf graf--p graf-after--pre">此時 Xcode 將幫我們輸入部分內容，我們只要自己輸入參數 rootView 的內容即可。因此我們輸入想要顯示的 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">ContentView()</strong></code>。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="eac0" id="eac0" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBSegueAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">coder</span>: <span class="hljs-type">NSCoder</span>) -&gt; <span class="hljs-type">UIViewController</span>? {<br />    <span class="hljs-keyword">return</span> <span class="hljs-type">UIHostingController</span>(coder: coder, rootView: <span class="hljs-type">ContentView</span>())<br />}</span></pre><p name="412c" id="412c" class="graf graf--p graf-after--pre">另外在 ViewController 的開頭記得 import SwiftUI，不然會有紅色錯誤，因為 UIHostingController 是 SwiftUI 定義的類別。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="62aa" id="62aa" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI</span></pre><p name="3c78" id="3c78" class="graf graf--p graf-after--pre">如果只有一行程式，我們還可以更精簡，省略 return。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="17ed" id="17ed" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBSegueAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">coder</span>: <span class="hljs-type">NSCoder</span>) -&gt; <span class="hljs-type">UIViewController</span>? {<br />     <span class="hljs-type">UIHostingController</span>(coder: coder, rootView: <span class="hljs-type">ContentView</span>())<br />}</span></pre><p name="855e" id="855e" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">App 執行</strong></p><p name="b08b" id="b08b" class="graf graf--p graf-after--p">Cool，我們成功地在 storyboard 的 controller 畫面顯示添加模糊效果的圖片。</p><figure name="ce34" id="ce34" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8i0wbzy5dabpmUP74Vsd3g.jpeg" data-width="818" data-height="1492" src="https://cdn-images-1.medium.com/max/800/1*8i0wbzy5dabpmUP74Vsd3g.jpeg"></figure><h3 name="813d" id="813d" class="graf graf--h3 graf-after--figure">利用 property 控制 SwiftUI 的圖片效果</h3><p name="bf7b" id="bf7b" class="graf graf--p graf-after--h3">剛剛的例子裡，顯示的圖片和模糊的程度是固定的。我們可以讓它變得更彈性，在 ContentView 裡宣告 property blurRadius &amp; imageName。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="d3df" id="d3df" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {    <br />    <span class="hljs-keyword">let</span> blurRadius: <span class="hljs-type">CGFloat</span><br />    <span class="hljs-keyword">let</span> imageName: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Image</span>(imageName)<br />            .resizable()<br />            .scaledToFill()<br />            .frame(minWidth: <span class="hljs-number">0</span>, maxWidth: .infinity,  minHeight: <span class="hljs-number">0</span>,  maxHeight: .infinity)<br />            .clipped()<br />            .blur(radius: blurRadius)<br />    }<br />}<br /><br />#<span class="hljs-type">Preview</span> {<br />    <span class="hljs-type">ContentView</span>(blurRadius: <span class="hljs-number">10</span>, imageName: <span class="hljs-string">&quot;peter&quot;</span>)<br />}</span></pre><p name="adc3" id="adc3" class="graf graf--p graf-after--pre">然後在 IBSegueAction function 產生 ContentView 時，我們即可自由地指定顯示的圖片和模糊的程度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2769" id="2769" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBSegueAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">coder</span>: <span class="hljs-type">NSCoder</span>) -&gt; <span class="hljs-type">UIViewController</span>? {<br />    <span class="hljs-type">UIHostingController</span>(coder: coder, rootView: <span class="hljs-type">ContentView</span>(blurRadius: <span class="hljs-number">10</span>, imageName: <span class="hljs-string">&quot;peter2&quot;</span>))<br />}</span></pre><p name="f85e" id="f85e" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">App 執行</strong></p><figure name="3985" id="3985" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*B8IpvlEBXrzUV4CtZ2BCtQ.jpeg" data-width="818" data-height="1492" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*B8IpvlEBXrzUV4CtZ2BCtQ.jpeg"></figure><h3 name="b6ee" id="b6ee" class="graf graf--h3 graf-after--figure">其它範例</h3><ul class="postList"><li name="5c92" id="5c92" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">混合效果</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4c66" id="4c66" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">ZStack</span> {<br />            <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;peter&quot;</span>)<br />                .resizable()<br />                .scaledToFill()<br />                .frame(minWidth: <span class="hljs-number">0</span>, maxWidth: .infinity,  minHeight: <span class="hljs-number">0</span>,  maxHeight: .infinity)<br />            <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;sky&quot;</span>)<br />                .resizable()<br />                .scaledToFill()<br />                .frame(minWidth: <span class="hljs-number">0</span>, maxWidth: .infinity,  minHeight: <span class="hljs-number">0</span>,  maxHeight: .infinity)<br />                .blendMode(.darken)<br />        }<br />        .clipped()<br />    }<br />}</span></pre><figure name="f627" id="f627" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*kANxPYClwRnx2RtSkKxXSA.jpeg" data-width="818" data-height="1492" src="https://cdn-images-1.medium.com/max/800/1*kANxPYClwRnx2RtSkKxXSA.jpeg"></figure><ul class="postList"><li name="73bf" id="73bf" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">色相旋轉</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="183e" id="183e" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Image</span>(.peter)<br />            .resizable()<br />            .scaledToFill()<br />            .frame(minWidth: <span class="hljs-number">0</span>, maxWidth: .infinity,  minHeight: <span class="hljs-number">0</span>,  maxHeight: .infinity)<br />            .clipped()<br />            .hueRotation(<span class="hljs-type">Angle</span>(degrees: <span class="hljs-number">300</span>))<br />        <br />    }<br />}</span></pre><figure name="2c66" id="2c66" class="graf graf--figure graf-after--pre graf--trailing"><img class="graf-image" data-image-id="1*7nXZ212Kdddtm1y2OOMbOA.jpeg" data-width="818" data-height="1492" src="https://cdn-images-1.medium.com/max/800/1*7nXZ212Kdddtm1y2OOMbOA.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/83bff3557b27"><time class="dt-published" datetime="2020-03-17T08:20:16.481Z">March 17, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%9C%A8-controller-%E7%95%AB%E9%9D%A2%E5%88%A9%E7%94%A8-container-view-%E5%8A%A0%E5%85%A5-swiftui-%E7%89%B9%E8%A3%BD%E7%9A%84%E5%9C%96%E7%89%87-83bff3557b27" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>