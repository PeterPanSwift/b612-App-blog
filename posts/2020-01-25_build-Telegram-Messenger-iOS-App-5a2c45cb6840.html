<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>build Telegram Messenger iOS App</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">build Telegram Messenger iOS App</h1>
</header>
<section data-field="subtitle" class="p-summary">
最近  Telegram 愈來愈紅，彼得潘的很多朋友，像是溫蒂跟奇妙仙子都跑到 Telegram 聊天了。
</section>
<section data-field="body" class="e-content">
<section name="ea26" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ee0b" id="ee0b" class="graf graf--h3 graf--leading graf--title">build Telegram Messenger iOS App</h3></div><div class="section-inner sectionLayout--outsetColumn"><figure name="3cf7" id="3cf7" class="graf graf--figure graf--layoutOutsetCenter graf-after--h3"><img class="graf-image" data-image-id="1*zz5YrVNfw9jc0To2CWjqtQ.jpeg" data-width="2558" data-height="1504" data-is-featured="true" src="https://cdn-images-1.medium.com/max/1200/1*zz5YrVNfw9jc0To2CWjqtQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="9150" id="9150" class="graf graf--p graf-after--figure">最近 Telegram 愈來愈紅，彼得潘的很多朋友，像是溫蒂跟奇妙仙子都跑到 Telegram 聊天了。</p><figure name="2b21" id="2b21" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*B9CvKT0kB8_ZyBjNANwx2Q.jpeg" data-width="610" data-height="704" src="https://cdn-images-1.medium.com/max/800/1*B9CvKT0kB8_ZyBjNANwx2Q.jpeg"></figure><div name="24c1" id="24c1" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://apps.apple.com/us/app/telegram-messenger/id686449807" data-href="https://apps.apple.com/us/app/telegram-messenger/id686449807" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://apps.apple.com/us/app/telegram-messenger/id686449807"><strong class="markup--strong markup--mixtapeEmbed-strong">‎Telegram Messenger</strong><br><em class="markup--em markup--mixtapeEmbed-em">‎Pure instant messaging - simple, fast, secure, and synced across all your devices. Over 100 million active users in…</em>apps.apple.com</a><a href="https://apps.apple.com/us/app/telegram-messenger/id686449807" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="692553aa23b10a84e0480d5ff03114e4" data-thumbnail-img-id="0*2N2WWW1C4c262BLq" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*2N2WWW1C4c262BLq);"></a></div><p name="1d3a" id="1d3a" class="graf graf--p graf-after--mixtapeEmbed">像 Telegram 這麼厲害的 App，到底程式是怎麼寫的呢 ? 真想看看它的 Swift 程式。這個夢想現在就可以實現，因為 Telegram 將它的 iOS App open source，我們連到 GitHub 就能下載它的完整程式。</p><div name="88eb" id="88eb" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/TelegramMessenger/Telegram-iOS" data-href="https://github.com/TelegramMessenger/Telegram-iOS" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/TelegramMessenger/Telegram-iOS"><strong class="markup--strong markup--mixtapeEmbed-strong">TelegramMessenger/Telegram-iOS</strong><br><em class="markup--em markup--mixtapeEmbed-em">Install the brew package manager, if you haven&#39;t already. Install the packages yasm, cmake: brew install yasm cmake…</em>github.com</a><a href="https://github.com/TelegramMessenger/Telegram-iOS" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="811ad685109906f3653905ce607460a6" data-thumbnail-img-id="0*KSTWXk4-cuOCLmOb" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*KSTWXk4-cuOCLmOb);"></a></div><p name="9ac0" id="9ac0" class="graf graf--p graf-after--mixtapeEmbed">從下圖 Telegram-iOS 的 Tag 記錄，我們看到它的最新版 5.14 完全對應 App Store 目前上架的版本。</p><figure name="b65d" id="b65d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*irjydkod9dvdmfzFZCZEAA.jpeg" data-width="1518" data-height="848" src="https://cdn-images-1.medium.com/max/800/1*irjydkod9dvdmfzFZCZEAA.jpeg"></figure><p name="57a4" id="57a4" class="graf graf--p graf-after--figure">接下來就讓我們開始進行下載和 compile Telegram App 的大工程吧。</p><h3 name="12a0" id="12a0" class="graf graf--h3 graf-after--p">安裝 brew</h3><p name="8faa" id="8faa" class="graf graf--p graf-after--h3">compile Telegram App 需要事先安裝一些套件，因此我們得先安裝 macOS 上知名的套件管理工具 brew。</p><p name="cc0e" id="cc0e" class="graf graf--p graf-after--p">我們可在 Terminal 輸入 brew 測試是否已安裝 brew。</p><figure name="8326" id="8326" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*F9f2qF8vzN-w12RPraEluQ.jpeg" data-width="1344" data-height="526" src="https://cdn-images-1.medium.com/max/800/1*F9f2qF8vzN-w12RPraEluQ.jpeg"></figure><p name="80d2" id="80d2" class="graf graf--p graf-after--figure">若是顯示錯誤訊息 command not found，請參考以下網頁安裝。</p><div name="c0e0" id="c0e0" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://brew.sh" data-href="https://brew.sh" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://brew.sh"><strong class="markup--strong markup--mixtapeEmbed-strong">Homebrew</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Missing Package Manager for macOS (or Linux).</em>brew.sh</a><a href="https://brew.sh" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c540186765a78305247e76f21e1527fc" data-thumbnail-img-id="0*OdMTM-i3Ve8zkvCm" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*OdMTM-i3Ve8zkvCm);"></a></div><h3 name="7687" id="7687" class="graf graf--h3 graf-after--mixtapeEmbed">安裝 yasm &amp; cmake</h3><pre name="0575" id="0575" class="graf graf--pre graf-after--h3"><code class="markup--code markup--pre-code">brew install yasm cmake</code></pre><h3 name="e1ff" id="e1ff" class="graf graf--h3 graf-after--pre"><strong class="markup--strong markup--h3-strong">安裝 buck</strong></h3><p name="de3a" id="de3a" class="graf graf--p graf-after--h3">compile Telegram App 需要透過 buck，因此我們必須先進行安裝 buck 的大工程。為了安裝 buck，請先安裝 java &amp; ant。</p><pre name="cec6" id="cec6" class="graf graf--pre graf-after--p">brew tap AdoptOpenJDK/openjdk</pre><pre name="2882" id="2882" class="graf graf--pre graf-after--pre">brew cask install adoptopenjdk8</pre><pre name="da82" id="da82" class="graf graf--pre graf-after--pre">brew install ant</pre><p name="2228" id="2228" class="graf graf--p graf-after--pre">接著再安裝 buck。</p><pre name="b919" id="b919" class="graf graf--pre graf-after--p">brew tap facebook/fb<br>brew install buck</pre><h3 name="dff3" id="dff3" class="graf graf--h3 graf-after--pre">測試 buck</h3><p name="3675" id="3675" class="graf graf--p graf-after--h3">在 terminal 輸入 buck — help，測試 buck 是否安裝成功。</p><pre name="e31b" id="e31b" class="graf graf--pre graf-after--p">buck --help</pre><p name="87e5" id="87e5" class="graf graf--p graf-after--pre">若出現以下錯誤訊息，表示 java 的版本有問題。</p><pre name="2f52" id="2f52" class="graf graf--pre graf-after--p">You&#39;re using Java 9, but Buck requires Java 8.</pre><p name="7085" id="7085" class="graf graf--p graf-after--pre">buck 必須搭配 java 8，彼得潘的 Mac 剛好同時安裝 java 8 &amp; 9，因此彼得再接著安裝 jenv，然後利用 jenv 設定採用 java 8 的版本。</p><p name="8421" id="8421" class="graf graf--p graf-after--p">安裝 jenv</p><pre name="1f67" id="1f67" class="graf graf--pre graf-after--p">brew install jenv</pre><p name="603e" id="603e" class="graf graf--p graf-after--pre">在 ~/.zshrc 裡輸入</p><pre name="fce5" id="fce5" class="graf graf--pre graf-after--p">export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;<br>eval &quot;$(jenv init -)&quot;</pre><p name="0044" id="0044" class="graf graf--p graf-after--pre">執行以下指令。</p><pre name="6f1a" id="6f1a" class="graf graf--pre graf-after--p">source ~/.zshrc</pre><p name="1235" id="1235" class="graf graf--p graf-after--pre">輸入以下指令加入 java 8。</p><pre name="b010" id="b010" class="graf graf--pre graf-after--p">jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</pre><p name="82a9" id="82a9" class="graf graf--p graf-after--pre">執行以下指令查詢目前有哪些 java 版本。</p><pre name="4050" id="4050" class="graf graf--pre graf-after--p">jenv versions</pre><p name="6a6b" id="6a6b" class="graf graf--p graf-after--pre">結果</p><pre name="500d" id="500d" class="graf graf--pre graf-after--p">* system (set by /Users/shih-yingpan/.jenv/version)</pre><pre name="32f7" id="32f7" class="graf graf--pre graf-after--pre">1.8</pre><pre name="50e2" id="50e2" class="graf graf--pre graf-after--pre">1.8.0.242</pre><pre name="ca70" id="ca70" class="graf graf--pre graf-after--pre">openjdk64-1.8.0.242</pre><p name="7adb" id="7adb" class="graf graf--p graf-after--pre">輸入以下指令，設定採用 openjdk64–1.8.0.242</p><pre name="1c3e" id="1c3e" class="graf graf--pre graf-after--p">jenv global openjdk64-1.8.0.242</pre><h3 name="b0b1" id="b0b1" class="graf graf--h3 graf-after--pre">下載 Telegram Messenger iOS App 的 source code</h3><pre name="f3b7" id="f3b7" class="graf graf--pre graf-after--h3"><code class="markup--code markup--pre-code">git clone --recursive https://github.com/TelegramMessenger/Telegram-iOS.git</code></pre><figure name="910b" id="910b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*qYtIMfdT6soWxos3m-LfgQ.jpeg" data-width="2098" data-height="892" src="https://cdn-images-1.medium.com/max/800/1*qYtIMfdT6soWxos3m-LfgQ.jpeg"></figure><h3 name="ef7e" id="ef7e" class="graf graf--h3 graf-after--figure">產生 Telegram_Buck.xcworkspace</h3><p name="9dab" id="9dab" class="graf graf--p graf-after--h3">用 Xcode 打開 Telegram 專案前，我們必須先產生它的 xcworkspace 檔。這部分同樣有點麻煩，必須經過以下步驟:</p><ul class="postList"><li name="a6f9" id="a6f9" class="graf graf--li graf-after--p">切換到 Telegram-iOS 資料夾下。</li></ul><pre name="d1a0" id="d1a0" class="graf graf--pre graf-after--li">cd Telegram-iOS</pre><ul class="postList"><li name="afef" id="afef" class="graf graf--li graf-after--pre">參考以下連結 klaus01 大大提供的解法設定 Telegram-iOS 下的 Makefile &amp; Config/utils.bzl。</li></ul><div name="eb34" id="eb34" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://github.com/TelegramMessenger/Telegram-iOS/issues/219" data-href="https://github.com/TelegramMessenger/Telegram-iOS/issues/219" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/TelegramMessenger/Telegram-iOS/issues/219"><strong class="markup--strong markup--mixtapeEmbed-strong">Compile issues of release-5.13 · Issue #219 · TelegramMessenger/Telegram-iOS</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can&#39;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or…</em>github.com</a><a href="https://github.com/TelegramMessenger/Telegram-iOS/issues/219" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="27e877bf96379120cd5f19eaba95fdac" data-thumbnail-img-id="0*k2KGI8j8INOZxKYw" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*k2KGI8j8INOZxKYw);"></a></div><figure name="ba06" id="ba06" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*tGFXi6is4XrzTzk47CI0gQ.jpeg" data-width="872" data-height="594" src="https://cdn-images-1.medium.com/max/800/1*tGFXi6is4XrzTzk47CI0gQ.jpeg"></figure><ul class="postList"><li name="6c53" id="6c53" class="graf graf--li graf-after--figure">輸入以下指令，產生 Telegram_Buck.xcworkspace。</li></ul><pre name="f1bc" id="f1bc" class="graf graf--pre graf-after--li">make project</pre><p name="bb85" id="bb85" class="graf graf--p graf-after--pre">此步驟會等很久，建議先出門吃個牛排補充一下體力。</p><figure name="e4e0" id="e4e0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*hAailK1Mahqy7C1pnQorjQ.jpeg" data-width="1994" data-height="856" src="https://cdn-images-1.medium.com/max/800/1*hAailK1Mahqy7C1pnQorjQ.jpeg"></figure><p name="8cbe" id="8cbe" class="graf graf--p graf-after--figure">成功產生 Telegram_Buck.xcworkspace 後，它會自動從 Xcode 打開，我們終於看到 Telegram 程式碼的廬山真面目了，果然很壯觀 !</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="f69e" id="f69e" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><img class="graf-image" data-image-id="1*zz5YrVNfw9jc0To2CWjqtQ.jpeg" data-width="2558" data-height="1504" data-is-featured="true" src="https://cdn-images-1.medium.com/max/1200/1*zz5YrVNfw9jc0To2CWjqtQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="4f9e" id="4f9e" class="graf graf--h3 graf-after--figure">從模擬器啟動 Telegram Messenger App</h3></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="de1e" id="de1e" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--h3" style="width: 50%;"><img class="graf-image" data-image-id="1*w976lIUiGLe29NWOmjphGQ.jpeg" data-width="890" data-height="1546" src="https://cdn-images-1.medium.com/max/600/1*w976lIUiGLe29NWOmjphGQ.jpeg"></figure><figure name="b22e" id="b22e" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*e73zFwCXwkOwFoiIG6m_iQ.jpeg" data-width="890" data-height="1546" src="https://cdn-images-1.medium.com/max/600/1*e73zFwCXwkOwFoiIG6m_iQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="d8dc" id="d8dc" class="graf graf--p graf-after--figure">點選 Start Messaging，然後輸入自己的手機號碼。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="d45e" id="d45e" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*vp1ELsoV9i69-j5CFQxB-A.jpeg" data-width="890" data-height="1546" src="https://cdn-images-1.medium.com/max/600/1*vp1ELsoV9i69-j5CFQxB-A.jpeg"></figure><figure name="e0b6" id="e0b6" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*wBJfKq_OwAqLi-ow-MOocQ.jpeg" data-width="890" data-height="1546" src="https://cdn-images-1.medium.com/max/600/1*wBJfKq_OwAqLi-ow-MOocQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="2cef" id="2cef" class="graf graf--p graf-after--figure">此時 Telegram 將傳 code 到我們 iPhone 上的 Telegram App，請從 iPhone 查看 code 數字後，再從模擬器的 Telegram App 輸入 code，開始享用原汁原味的 Telegram。</p><figure name="9be3" id="9be3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*AL3NaHGOSf0aUuOxKv5c9g.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/800/1*AL3NaHGOSf0aUuOxKv5c9g.png"></figure><p name="db0c" id="db0c" class="graf graf--p graf-after--figure">Cool，看到和 iPhone 上 Telegram 一模一樣的聊天頁面了 ~</p><figure name="a2a5" id="a2a5" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*94MZ8k7XpYfrQvjNzZAytg.jpeg" data-width="890" data-height="1546" src="https://cdn-images-1.medium.com/max/800/1*94MZ8k7XpYfrQvjNzZAytg.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/5a2c45cb6840"><time class="dt-published" datetime="2020-01-25T16:14:46.750Z">January 25, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/build-telegram-messenger-ios-app-5a2c45cb6840" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>