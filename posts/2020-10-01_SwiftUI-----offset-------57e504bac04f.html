<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SwiftUI 元件的 offset 跟點擊問題</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">SwiftUI 元件的 offset 跟點擊問題</h1>
</header>
<section data-field="subtitle" class="p-summary">
利用 modifier offset 我們可以移動 SwiftUI 元件的位置，不過呼叫 offset 卻有一些要注意的陷阱，比方以下程式將讓 button 無法點擊。
</section>
<section data-field="body" class="e-content">
<section name="43d7" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8a05" id="8a05" class="graf graf--h3 graf--leading graf--title">SwiftUI 元件的 offset 跟點擊問題</h3><p name="1679" id="1679" class="graf graf--p graf-after--h3">利用 modifier offset 我們可以移動 SwiftUI 元件的位置，不過呼叫 offset 卻有一些要注意的陷阱，比方以下程式將讓 button 無法點擊。</p><pre name="bc60" id="bc60" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            print(&quot;tap&quot;)<br>        }, label: {<br>            Text(&quot;我是可以按的按鈕，騙你的&quot;)<br><strong class="markup--strong markup--pre-strong">                .offset(x: 100, y: 100)<br></strong>        })<br>    }<br>}</pre><figure name="bd1e" id="bd1e" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*WBzHv5AEEjHbYtILngWpdw.jpeg" data-width="510" data-height="1058" src="https://cdn-images-1.medium.com/max/800/1*WBzHv5AEEjHbYtILngWpdw.jpeg"></figure><p name="f55f" id="f55f" class="graf graf--p graf-after--figure">其實此時 button 還是可以點擊的，只是點擊的位置令人難以想像。從下圖的預覽畫面可看到雖然 button 的文字移動了，它的框框還是在中間，因此可點擊的地方將是框框的區塊，而非button 的文字。</p><figure name="9a00" id="9a00" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RNcY_KFWr5CN1NPZ0piDsw.jpeg" data-width="2218" data-height="1096" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*RNcY_KFWr5CN1NPZ0piDsw.jpeg"></figure><h3 name="3502" id="3502" class="graf graf--h3 graf-after--figure">從 Button 呼叫 offset</h3><p name="ed62" id="ed62" class="graf graf--p graf-after--h3">解決問題的方法很簡單，我們只要改從 Button 呼叫 offset，即可成功點擊 button 的文字。</p><pre name="ef8a" id="ef8a" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            print(&quot;tap&quot;)<br>        }, label: {<br>            Text(&quot;我是可以按的按鈕，騙你的&quot;)<br>        })<br>        .offset(x: 100, y: 100)</pre><pre name="a107" id="a107" class="graf graf--pre graf-after--pre">    }<br>}</pre><p name="d480" id="d480" class="graf graf--p graf-after--pre">不過有些情況剛剛的解法也沒用，比方以下例子 button 的內容由 ZStack 組成，ZStack 裡的某個 Text 呼叫 offset，但 ZStack 本身的大小並不會改變，因此 button 無法點擊文字騙你的。</p><pre name="bed5" id="bed5" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            print(&quot;tap&quot;)<br>        }, label: {<br>            ZStack {<br>                Text(&quot;我是可以按的按鈕&quot;)<br>                Text(&quot;騙你的&quot;)<br>                    .offset(y: 100)<br>            }<br>        })<br>    }<br>}</pre><figure name="ca62" id="ca62" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*p5IvZrZFF1mf0ZeIFVe9wg.jpeg" data-width="530" data-height="1076" src="https://cdn-images-1.medium.com/max/800/1*p5IvZrZFF1mf0ZeIFVe9wg.jpeg"></figure><p name="9585" id="9585" class="graf graf--p graf-after--figure">此問題可用以下兩種解法克服。</p><h3 name="973b" id="973b" class="graf graf--h3 graf-after--p">利用 padding</h3><p name="1d90" id="1d90" class="graf graf--p graf-after--h3">offset 100 將增加高度 100，因此我們可以在 ZStack 加上 padding 100，讓它多出 100 的高度。</p><pre name="009c" id="009c" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            print(&quot;tap&quot;)<br>        }, label: {<br>            ZStack {<br>                Text(&quot;我是可以按的按鈕&quot;)<br>                Text(&quot;騙你的&quot;)<br>                    .offset(y: 100)<br>            }<br><strong class="markup--strong markup--pre-strong">            .padding(.bottom, 100)</strong></pre><pre name="107f" id="107f" class="graf graf--pre graf-after--pre">        })<br>    }<br>}</pre><figure name="8c6d" id="8c6d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*1jVzMrM1JJlW6SFXXEjlbA.jpeg" data-width="850" data-height="1206" src="https://cdn-images-1.medium.com/max/800/1*1jVzMrM1JJlW6SFXXEjlbA.jpeg"></figure><h3 name="06b1" id="06b1" class="graf graf--h3 graf-after--figure">利用 onTapGesture</h3><p name="b31a" id="b31a" class="graf graf--p graf-after--h3">onTapGesture 十分厲害，它可以不受 offset 的影響，因此以下利用 offset 移動的 text 也可以點選。</p><pre name="6f88" id="6f88" class="graf graf--pre graf-after--p graf--trailing">struct ContentView: View {<br>    var body: some View {<br>        ZStack {<br>            Text(&quot;我是可以按的按鈕&quot;)<br>            Text(&quot;真心不騙&quot;)<br>                .offset(x: 100, y: 100)<br>        }<br>        .<strong class="markup--strong markup--pre-strong">onTapGesture</strong> {<br>            print(&quot;tap&quot;)<br>        }<br>        <br>    }<br>}</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/57e504bac04f"><time class="dt-published" datetime="2020-10-01T15:59:58.014Z">October 1, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swiftui-%E5%85%83%E4%BB%B6%E7%9A%84-offset-%E8%B7%9F%E9%BB%9E%E6%93%8A%E5%95%8F%E9%A1%8C-57e504bac04f" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>