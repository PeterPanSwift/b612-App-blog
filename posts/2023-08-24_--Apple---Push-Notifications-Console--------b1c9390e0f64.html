<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>從 Apple 的 Push Notifications Console 測試推播功能</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">從 Apple 的 Push Notifications Console 測試推播功能</h1>
</header>
<section data-field="subtitle" class="p-summary">
Apple 在 2023 推出了 Push Notifications Console，現在我們有更方便的方法測試實機是否能收到推播了。
</section>
<section data-field="body" class="e-content">
<section name="5266" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="91c9" id="91c9" class="graf graf--h3 graf--leading graf--title">從 Apple 的 Push Notifications Console 測試推播功能</h3><p name="4082" id="4082" class="graf graf--p graf-after--h3">Apple 在 2023 推出了 Push Notifications Console，現在我們有更方便的方法測試實機是否能收到推播了。</p><h3 name="e640" id="e640" class="graf graf--h3 graf-after--p">製作能接收推播的 App</h3><p name="bf0c" id="bf0c" class="graf graf--p graf-after--h3">參考以下文章的說明，完成到<code class="markup--code markup--p-code">使用模擬器測試推播</code>。</p><div name="9474" id="9474" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebase-cloud-messaging-fcm-%E7%99%BC%E9%80%81%E6%8E%A8%E6%92%AD-b4a9bd4f89d6" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebase-cloud-messaging-fcm-%E7%99%BC%E9%80%81%E6%8E%A8%E6%92%AD-b4a9bd4f89d6" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebase-cloud-messaging-fcm-%E7%99%BC%E9%80%81%E6%8E%A8%E6%92%AD-b4a9bd4f89d6"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 Firebase Cloud Messaging(FCM) 發送推播</strong><br><em class="markup--em markup--mixtapeEmbed-em">在 iOS App 開發推播功能時，我們必須搭配一個負責發送推播的 provider(後台)，由它通知 Apple 的 APNs server 發送推播。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebase-cloud-messaging-fcm-%E7%99%BC%E9%80%81%E6%8E%A8%E6%92%AD-b4a9bd4f89d6" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8ff2db497dc152acb208e4d588b96af7" data-thumbnail-img-id="1*e6q6yWWxbcHI0XaVMsdDxQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*e6q6yWWxbcHI0XaVMsdDxQ.png);"></a></div><p name="a936" id="a936" class="graf graf--p graf-after--mixtapeEmbed">確認裝到模擬器的 App 能收到推播後，接下來我們再進一步測試， 從 Push Notifications Console 發送推播到實機上。</p><h3 name="07b0" id="07b0" class="graf graf--h3 graf-after--p">連到 Push Notifications Console</h3><p name="43af" id="43af" class="graf graf--p graf-after--h3"><a href="https://icloud.developer.apple.com/dashboard/notifications" data-href="https://icloud.developer.apple.com/dashboard/notifications" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://icloud.developer.apple.com/dashboard/notifications</a></p><h3 name="14dd" id="14dd" class="graf graf--h3 graf-after--p">選擇 App</h3><p name="44c7" id="44c7" class="graf graf--p graf-after--h3">點選上方的 App ID，從 App ID 選單選擇想要接收推播的 App。</p><figure name="4560" id="4560" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*zbWXtYP8D-WaZg_xk3ynzw.png" data-width="1573" data-height="644" src="https://cdn-images-1.medium.com/max/800/1*zbWXtYP8D-WaZg_xk3ynzw.png"></figure><p name="80ef" id="80ef" class="graf graf--p graf-after--figure">上方的搜尋框可輸入文字，快速找到目標的 App ID。以下彼得潘輸入 push，找到目標 <code class="markup--code markup--p-code">com.peter.DemoPeterPush</code>。</p><figure name="57bf" id="57bf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*qaDEQuDhlu4XOfCSQmOoAw.png" data-width="416" data-height="249" src="https://cdn-images-1.medium.com/max/800/1*qaDEQuDhlu4XOfCSQmOoAw.png"></figure><figure name="8ac1" id="8ac1" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*ohmZffdi6VJkoX8nMX15ig.png" data-width="1395" data-height="693" src="https://cdn-images-1.medium.com/max/800/1*ohmZffdi6VJkoX8nMX15ig.png"></figure><h3 name="2a6a" id="2a6a" class="graf graf--h3 graf-after--figure">設定推播內容和發送推播</h3><p name="6e59" id="6e59" class="graf graf--p graf-after--h3">切換到 Send 分頁，點選編輯按鈕或 Create New Notification。</p><figure name="2203" id="2203" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*MorUQQ5Tjtk81iXjo9qCcQ.png" data-width="568" data-height="339" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*MorUQQ5Tjtk81iXjo9qCcQ.png"></figure><p name="9a6c" id="9a6c" class="graf graf--p graf-after--figure">從以下畫面設定推播內容。</p><figure name="03a5" id="03a5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*VY6zfUcWFKxKLozM1YifUQ.png" data-width="1629" data-height="814" src="https://cdn-images-1.medium.com/max/800/1*VY6zfUcWFKxKLozM1YifUQ.png"></figure><p name="b561" id="b561" class="graf graf--p graf-after--figure">設定推播的名字，環境和 Device Token。</p><figure name="dae0" id="dae0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*fDyHXDV-ZkIUsPmjH-yb8g.png" data-width="1019" data-height="316" src="https://cdn-images-1.medium.com/max/800/1*fDyHXDV-ZkIUsPmjH-yb8g.png"></figure><p name="cf5c" id="cf5c" class="graf graf--p graf-after--figure">Environment 可選擇 Development 或 Production，從 Xcode 裝到實機的 App 請用 Development 測試，從 TestFlight，Ad Hoc 或 App Store 裝到實機的 App 請用 Production 測試。</p><figure name="fa53" id="fa53" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*YjQp_avX9j5-pOYtVRxsSQ.png" data-width="796" data-height="142" src="https://cdn-images-1.medium.com/max/800/1*YjQp_avX9j5-pOYtVRxsSQ.png"></figure><p name="d7db" id="d7db" class="graf graf--p graf-after--figure">Device Token 請貼上 application(_:didRegisterForRemoteNotificationsWithDeviceToken:) 印出的 deviceTokenString。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="49d0" id="49d0" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">application</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">application</span>: <span class="hljs-type">UIApplication</span>, <span class="hljs-params">didRegisterForRemoteNotificationsWithDeviceToken</span> <span class="hljs-params">deviceToken</span>: <span class="hljs-type">Data</span>) {<br />        <br />    <span class="hljs-keyword">let</span> deviceTokenString <span class="hljs-operator">=</span> deviceToken.reduce(<span class="hljs-string">&quot;&quot;</span>) {<br />        <span class="hljs-variable">$0</span> <span class="hljs-operator">+</span> <span class="hljs-type">String</span>(format: <span class="hljs-string">&quot;%02x&quot;</span>, <span class="hljs-variable">$1</span>)<br />    }<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;deviceToken&quot;</span>, deviceTokenString)<br />}</span></pre><p name="6bae" id="6bae" class="graf graf--p graf-after--pre">ps: production device token 無法用 print 取得，可參考以下方法上傳到 server。</p><div name="1c9e" id="1c9e" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-requestbin-%E6%AA%A2%E6%9F%A5-request-%E7%9A%84%E5%85%A7%E5%AE%B9-%E6%9F%A5%E7%9C%8B-app-%E4%B8%8A%E5%82%B3%E7%9A%84-device-token-f104c58c0612" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-requestbin-%E6%AA%A2%E6%9F%A5-request-%E7%9A%84%E5%85%A7%E5%AE%B9-%E6%9F%A5%E7%9C%8B-app-%E4%B8%8A%E5%82%B3%E7%9A%84-device-token-f104c58c0612" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-requestbin-%E6%AA%A2%E6%9F%A5-request-%E7%9A%84%E5%85%A7%E5%AE%B9-%E6%9F%A5%E7%9C%8B-app-%E4%B8%8A%E5%82%B3%E7%9A%84-device-token-f104c58c0612"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 RequestBin 檢查 request 的內容 — 查看 App 上傳的 device token</strong><br><em class="markup--em markup--mixtapeEmbed-em">最近同學在開發 iOS App 的推播功能，問彼得潘有沒有方法方便查看 iPhone 的 device token。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-requestbin-%E6%AA%A2%E6%9F%A5-request-%E7%9A%84%E5%85%A7%E5%AE%B9-%E6%9F%A5%E7%9C%8B-app-%E4%B8%8A%E5%82%B3%E7%9A%84-device-token-f104c58c0612" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="783d2d60954a34e5e3ce80c4a43d7e50" data-thumbnail-img-id="1*AVdYLSPwTUnNpbfzk6y7Kg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*AVdYLSPwTUnNpbfzk6y7Kg.png);"></a></div><p name="d3f2" id="d3f2" class="graf graf--p graf-after--mixtapeEmbed">Request Headers 可調整推播的相關設定，以下我們採用預設的設定。</p><figure name="cf3d" id="cf3d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*fHDnarR5busaT9vw_TXv4w.png" data-width="2050" data-height="704" src="https://cdn-images-1.medium.com/max/800/1*fHDnarR5busaT9vw_TXv4w.png"></figure><p name="7f50" id="7f50" class="graf graf--p graf-after--figure">Payload 區塊是最重要的，我們在此填寫推播的內容。</p><figure name="f0e9" id="f0e9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*o-WRfO3AM64sI47csM1Hpw.png" data-width="1062" data-height="447" src="https://cdn-images-1.medium.com/max/800/1*o-WRfO3AM64sI47csM1Hpw.png"></figure><p name="bda7" id="bda7" class="graf graf--p graf-after--figure">最近七夕剛過，彼得潘輸入情人節快樂的推播祝福。</p><figure name="c620" id="c620" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_nyJxi9xqPUgvZ5N8Rkayw.png" data-width="1225" data-height="406" src="https://cdn-images-1.medium.com/max/800/1*_nyJxi9xqPUgvZ5N8Rkayw.png"></figure><p name="4d68" id="4d68" class="graf graf--p graf-after--figure">推播內容是 JSON 格式，如果習慣編輯 JSON，也可點選右上的 JSON View 開關切換成 JSON 格式。</p><figure name="38c7" id="38c7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WzQaTreLiJu_ne7QrZc9Ig.png" data-width="1234" data-height="324" src="https://cdn-images-1.medium.com/max/800/1*WzQaTreLiJu_ne7QrZc9Ig.png"></figure><p name="c575" id="c575" class="graf graf--p graf-after--figure">點選右上的 Send 發送推播。</p><figure name="6d43" id="6d43" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*A_1onrGlr3ZIqL-0lm6BJw.png" data-width="1228" data-height="206" src="https://cdn-images-1.medium.com/max/800/1*A_1onrGlr3ZIqL-0lm6BJw.png"></figure><p name="7893" id="7893" class="graf graf--p graf-after--figure">推播送出後，從下圖可看到推播的相關資訊和發送結果，<code class="markup--code markup--p-code">successfully delivered to the target device</code> 表示發送成功。</p><figure name="5edc" id="5edc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*418qYEojH1tC6tjtvk_YSA.png" data-width="1628" data-height="807" src="https://cdn-images-1.medium.com/max/800/1*418qYEojH1tC6tjtvk_YSA.png"></figure><p name="453b" id="453b" class="graf graf--p graf-after--figure">彼得潘的 iPhone 成功收到剛剛發送的推播。</p><figure name="19bd" id="19bd" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*aTCJ4lESb0Xvow84TVw9Vw.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/800/1*aTCJ4lESb0Xvow84TVw9Vw.png"></figure><h3 name="a7ca" id="a7ca" class="graf graf--h3 graf-after--figure">推播的歷史記錄和其它工具</h3><p name="ae6b" id="ae6b" class="graf graf--p graf-after--h3">除了發送推播，Push Notifications Console 還提供一些方便的功能，比方從 Delivery Log 可查看過去發送的推播記錄。</p><figure name="fb17" id="fb17" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*UMA3wY5p7gc0ct7GuZJvOQ.png" data-width="3286" data-height="824" src="https://cdn-images-1.medium.com/max/800/1*UMA3wY5p7gc0ct7GuZJvOQ.png"></figure><p name="3926" id="3926" class="graf graf--p graf-after--figure">從 Tools 頁面則可測試 JWT Validator，JWT Generator &amp; Device Token Validator。</p><figure name="5f66" id="5f66" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*-OP5gZbbKHBPyfzYUY00hw.png" data-width="3074" data-height="1004" src="https://cdn-images-1.medium.com/max/800/1*-OP5gZbbKHBPyfzYUY00hw.png"></figure><h3 name="b990" id="b990" class="graf graf--h3 graf-after--figure">參考連結</h3><div name="3787" id="3787" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://developer.apple.com/notifications/push-notifications-console/" data-href="https://developer.apple.com/notifications/push-notifications-console/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/notifications/push-notifications-console/"><strong class="markup--strong markup--mixtapeEmbed-strong">Push Notifications Console - Notifications - Apple Developer</strong><br><em class="markup--em markup--mixtapeEmbed-em">The new Push Notifications Console makes it easy to send test notifications to Apple devices through the Apple Push…</em>developer.apple.com</a><a href="https://developer.apple.com/notifications/push-notifications-console/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="2c81f6479f42a6b5b3b0f6c364648dcd"></a></div><div name="0ec8" id="0ec8" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://developer.apple.com/videos/play/wwdc2023/10025/" data-href="https://developer.apple.com/videos/play/wwdc2023/10025/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/videos/play/wwdc2023/10025/"><strong class="markup--strong markup--mixtapeEmbed-strong">Meet Push Notifications Console - WWDC23 - Videos - Apple Developer</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Push Notifications Console is the best way to quickly test user notifications in your app. Learn how you can…</em>developer.apple.com</a><a href="https://developer.apple.com/videos/play/wwdc2023/10025/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="cf78cbfb29cc490060b08b565af1c3d5"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/b1c9390e0f64"><time class="dt-published" datetime="2023-08-24T08:07:01.327Z">August 24, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%BE%9E-apple-%E7%9A%84-push-notifications-console-%E6%B8%AC%E8%A9%A6%E6%8E%A8%E6%92%AD%E5%8A%9F%E8%83%BD-b1c9390e0f64" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>