<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>請 AI 寫出 MVVM 和非 MVVM 的 SwiftUI App 遊戲範例 —骰子比大小，剪刀石頭布，撲克牌比大小， Tic-Tac-Toe</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">請 AI 寫出 MVVM 和非 MVVM 的 SwiftUI App 遊戲範例 —骰子比大小，剪刀石頭布，撲克牌比大小， Tic-Tac-Toe</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 SwiftUI App 時，我們常看到以下兩種寫法。
</section>
<section data-field="body" class="e-content">
<section name="4393" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4e60" id="4e60" class="graf graf--h3 graf--leading graf--title">請 AI 寫出 MVVM 和非 MVVM 的 SwiftUI App 遊戲範例 —骰子比大小，剪刀石頭布，撲克牌比大小， Tic-Tac-Toe</h3><p name="2984" id="2984" class="graf graf--p graf-after--h3">開發 SwiftUI App 時，我們常看到以下兩種寫法。</p><ul class="postList"><li name="d5ec" id="d5ec" class="graf graf--li graf-after--p">寫法 1: 使用 MVVM 架構，將邏輯和畫面的程式分開。view model 可用 class 或 struct 實作，class 的做法較常見。</li></ul><ol class="postList"><li name="60aa" id="60aa" class="graf graf--li graf-after--li">以 ObservableObject 的 class 和 @Published property 實作 view model。</li><li name="6e47" id="6e47" class="graf graf--li graf-after--li">以 struct 定義 view model。</li></ol><ul class="postList"><li name="eac8" id="eac8" class="graf graf--li graf-after--li">寫法 2: 邏輯與 view 緊密結合，將邏輯的程式寫在 view 的 struct 定義裡，搭配大量的 @State property。</li></ul><p name="28c4" id="28c4" class="graf graf--p graf-after--li">通常開發較複雜的 App 時，寫法 1 比較好，因為程式會較容易維護和擴展，寫法 2 通常只在開發較簡單的畫面功能時使用。</p><p name="d544" id="d544" class="graf graf--p graf-after--p">以下我們請 GPT 4 分別寫出 MVVM 和非 MVVM 的遊戲範例，幫助我們比較兩種寫法的差異。</p><ul class="postList"><li name="1c48" id="1c48" class="graf graf--li graf-after--p">骰子比大小。</li><li name="087d" id="087d" class="graf graf--li graf-after--li">剪刀石頭布。</li><li name="665b" id="665b" class="graf graf--li graf-after--li">撲克牌比大小。</li><li name="8dbf" id="8dbf" class="graf graf--li graf-after--li">Tic-Tac-Toe。</li></ul><p name="4acd" id="4acd" class="graf graf--p graf-after--li">ps: 沒有指定做法時，GPT 4 通常會採用 MVVM 的架構。</p><h3 name="476e" id="476e" class="graf graf--h3 graf-after--p">骰子比大小</h3><figure name="ec81" id="ec81" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*O8kZ1AAwFn_DbkAYE6FG7g.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*O8kZ1AAwFn_DbkAYE6FG7g.png"></figure><ul class="postList"><li name="2843" id="2843" class="graf graf--li graf-after--figure">使用 MVVM</li></ul><p name="7604" id="7604" class="graf graf--p graf-after--li">DiceGameViewModel.swift</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="2372" id="2372" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">DiceGameViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> dices: [<span class="hljs-type">Int</span>] <span class="hljs-operator">=</span> [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> playerMoney: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> message: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">rollDices</span>() {<br />        dices <span class="hljs-operator">=</span> dices.map { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">6</span>) }<br />    }<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkResult</span>(<span class="hljs-params">guess</span>: <span class="hljs-type">String</span>) {<br />        <span class="hljs-keyword">let</span> sum <span class="hljs-operator">=</span> dices.reduce(<span class="hljs-number">0</span>, <span class="hljs-operator">+</span>)<br />        <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> sum <span class="hljs-operator">&gt;=</span> <span class="hljs-number">10</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;大&quot;</span> : <span class="hljs-string">&quot;小&quot;</span><br />        <span class="hljs-keyword">if</span> guess <span class="hljs-operator">==</span> result {<br />            playerMoney <span class="hljs-operator">+=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你猜對了！&quot;</span><br />        } <span class="hljs-keyword">else</span> {<br />            playerMoney <span class="hljs-operator">-=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;猜錯了，答案是：<span class="hljs-subst">\(result)</span>&quot;</span><br />        }<br />        <span class="hljs-keyword">if</span> playerMoney <span class="hljs-operator">&lt;=</span> <span class="hljs-number">0</span> {<br />            message <span class="hljs-operator">+=</span> <span class="hljs-string">&quot; 你已經破產了，重新開始遊戲。&quot;</span><br />            playerMoney <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />        }<br />    }<br />}</span></pre><p name="9918" id="9918" class="graf graf--p graf-after--pre">DiceGameView.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="d29d" id="d29d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DiceGameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@StateObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> viewModel <span class="hljs-operator">=</span> <span class="hljs-type">DiceGameViewModel</span>()<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;骰子比大小遊戲&quot;</span>)<br />                .font(.largeTitle)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">ForEach</span>(viewModel.dices, id: \.<span class="hljs-keyword">self</span>) { value <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(value)</span>&quot;</span>)<br />                        .font(.system(size: <span class="hljs-number">50</span>))<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.blue)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                }<br />            }<br /><br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;餘額：<span class="hljs-subst">\(viewModel.playerMoney)</span>元&quot;</span>)<br />                .font(.title2)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">Button</span>(action: {<br />                    viewModel.rollDices()<br />                    viewModel.checkResult(guess: <span class="hljs-string">&quot;大&quot;</span>)<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜大&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.green)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />                <span class="hljs-type">Spacer</span>()<br />                <span class="hljs-type">Button</span>(action: {<br />                    viewModel.rollDices()<br />                    viewModel.checkResult(guess: <span class="hljs-string">&quot;小&quot;</span>)<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜小&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.red)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />            }.padding(.horizontal, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">Text</span>(viewModel.message)<br />                .font(.headline)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />        }.padding()<br />    }<br />}</span></pre><p name="0328" id="0328" class="graf graf--p graf-after--pre">MVVM 的寫法通常會用 class 定義 view model。不過我們也可以用 struct 定義 view model，例如以下例子。</p><p name="a2bc" id="a2bc" class="graf graf--p graf-after--p">DiceGameViewModel.swift</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="9c3b" id="9c3b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DiceGameViewModel</span> {<br />    <span class="hljs-keyword">var</span> dices: [<span class="hljs-type">Int</span>] <span class="hljs-operator">=</span> [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]<br />    <span class="hljs-keyword">var</span> playerMoney: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />    <span class="hljs-keyword">var</span> message: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">rollDices</span>() {<br />        dices <span class="hljs-operator">=</span> dices.map { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">6</span>) }<br />    }<br /><br />    <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkResult</span>(<span class="hljs-params">guess</span>: <span class="hljs-type">String</span>) {<br />        <span class="hljs-keyword">let</span> sum <span class="hljs-operator">=</span> dices.reduce(<span class="hljs-number">0</span>, <span class="hljs-operator">+</span>)<br />        <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> sum <span class="hljs-operator">&gt;=</span> <span class="hljs-number">10</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;大&quot;</span> : <span class="hljs-string">&quot;小&quot;</span><br />        <span class="hljs-keyword">if</span> guess <span class="hljs-operator">==</span> result {<br />            playerMoney <span class="hljs-operator">+=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你猜對了！&quot;</span><br />        } <span class="hljs-keyword">else</span> {<br />            playerMoney <span class="hljs-operator">-=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;猜錯了，答案是：<span class="hljs-subst">\(result)</span>&quot;</span><br />        }<br />        <span class="hljs-keyword">if</span> playerMoney <span class="hljs-operator">&lt;=</span> <span class="hljs-number">0</span> {<br />            message <span class="hljs-operator">+=</span> <span class="hljs-string">&quot; 你已經破產了，重新開始遊戲。&quot;</span><br />            playerMoney <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />        }<br />    }<br />}<br /><br /><br /></span></pre><p name="e77d" id="e77d" class="graf graf--p graf-after--pre">DiceGameView.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="343b" id="343b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DiceGameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> viewModel <span class="hljs-operator">=</span> <span class="hljs-type">DiceGameViewModel</span>()<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;骰子比大小遊戲&quot;</span>)<br />                .font(.largeTitle)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">ForEach</span>(viewModel.dices, id: \.<span class="hljs-keyword">self</span>) { value <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(value)</span>&quot;</span>)<br />                        .font(.system(size: <span class="hljs-number">50</span>))<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.blue)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                }<br />            }<br /><br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;餘額：<span class="hljs-subst">\(viewModel.playerMoney)</span>元&quot;</span>)<br />                .font(.title2)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">Button</span>(action: {<br />                    viewModel.rollDices()<br />                    viewModel.checkResult(guess: <span class="hljs-string">&quot;大&quot;</span>)<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜大&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.green)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />                <span class="hljs-type">Spacer</span>()<br />                <span class="hljs-type">Button</span>(action: {<br />                    viewModel.rollDices()<br />                    viewModel.checkResult(guess: <span class="hljs-string">&quot;小&quot;</span>)<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜小&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.red)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />            }.padding(.horizontal, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">Text</span>(viewModel.message)<br />                .font(.headline)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />        }.padding()<br />    }<br />}</span></pre><ul class="postList"><li name="64e9" id="64e9" class="graf graf--li graf-after--pre">沒有使用 MVVM</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="d015" id="d015" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DiceGameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> dices: [<span class="hljs-type">Int</span>] <span class="hljs-operator">=</span> [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> playerMoney: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> guess: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> message: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">rollDices</span>() {<br />        dices <span class="hljs-operator">=</span> dices.map { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">6</span>) }<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkResult</span>() {<br />        <span class="hljs-keyword">let</span> sum <span class="hljs-operator">=</span> dices.reduce(<span class="hljs-number">0</span>, <span class="hljs-operator">+</span>)<br />        <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> sum <span class="hljs-operator">&gt;=</span> <span class="hljs-number">10</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;大&quot;</span> : <span class="hljs-string">&quot;小&quot;</span><br />        <span class="hljs-keyword">if</span> guess <span class="hljs-operator">==</span> result {<br />            playerMoney <span class="hljs-operator">+=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你猜對了！&quot;</span><br />        } <span class="hljs-keyword">else</span> {<br />            playerMoney <span class="hljs-operator">-=</span> <span class="hljs-number">100</span><br />            message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;猜錯了，答案是：<span class="hljs-subst">\(result)</span>&quot;</span><br />        }<br />        <span class="hljs-keyword">if</span> playerMoney <span class="hljs-operator">&lt;=</span> <span class="hljs-number">0</span> {<br />            message <span class="hljs-operator">+=</span> <span class="hljs-string">&quot; 你已經破產了，重新開始遊戲。&quot;</span><br />            playerMoney <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />        }<br />    }<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;骰子比大小遊戲&quot;</span>)<br />                .font(.largeTitle)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">ForEach</span>(dices, id: \.<span class="hljs-keyword">self</span>) { value <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(value)</span>&quot;</span>)<br />                        .font(.system(size: <span class="hljs-number">50</span>))<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.blue)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                }<br />            }<br /><br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;餘額：<span class="hljs-subst">\(playerMoney)</span>元&quot;</span>)<br />                .font(.title2)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">Button</span>(action: {<br />                    guess <span class="hljs-operator">=</span> <span class="hljs-string">&quot;大&quot;</span><br />                    rollDices()<br />                    checkResult()<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜大&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.green)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />                <span class="hljs-type">Spacer</span>()<br />                <span class="hljs-type">Button</span>(action: {<br />                    guess <span class="hljs-operator">=</span> <span class="hljs-string">&quot;小&quot;</span><br />                    rollDices()<br />                    checkResult()<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;猜小&quot;</span>)<br />                        .font(.title)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.red)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />            }.padding(.horizontal, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">Text</span>(message)<br />                .font(.headline)<br />                .padding(.top, <span class="hljs-number">20</span>)<br /><br />        }.padding()<br />    }<br />}</span></pre><h3 name="aba6" id="aba6" class="graf graf--h3 graf-after--pre">剪刀石頭布</h3><figure name="422c" id="422c" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*b25K8W38xYhkRfynhVweGQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*b25K8W38xYhkRfynhVweGQ.png"></figure><p name="687b" id="687b" class="graf graf--p graf-after--figure">RPS.swift</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="e065" id="e065" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">enum</span> <span class="hljs-title class_">RPS</span>: <span class="hljs-title class_">String</span>, <span class="hljs-title class_">CaseIterable</span> {<br />    <span class="hljs-keyword">case</span> rock <span class="hljs-operator">=</span> <span class="hljs-string">&quot;石頭&quot;</span><br />    <span class="hljs-keyword">case</span> paper <span class="hljs-operator">=</span> <span class="hljs-string">&quot;布&quot;</span><br />    <span class="hljs-keyword">case</span> scissors <span class="hljs-operator">=</span> <span class="hljs-string">&quot;剪刀&quot;</span><br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">to</span> <span class="hljs-params">other</span>: <span class="hljs-type">RPS</span>) -&gt; <span class="hljs-type">GameResult</span> {<br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span> <span class="hljs-operator">==</span> other {<br />            <span class="hljs-keyword">return</span> .tie<br />        }<br /><br />        <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">self</span>, other) {<br />        <span class="hljs-keyword">case</span> (.rock, .scissors), (.scissors, .paper), (.paper, .rock):<br />            <span class="hljs-keyword">return</span> .win<br />        <span class="hljs-keyword">default</span>:<br />            <span class="hljs-keyword">return</span> .lose<br />        }<br />    }<br />}</span></pre><p name="fcac" id="fcac" class="graf graf--p graf-after--pre">GameResult.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="12e5" id="12e5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">enum</span> <span class="hljs-title class_">GameResult</span>: <span class="hljs-title class_">String</span> {<br />    <span class="hljs-keyword">case</span> start <span class="hljs-operator">=</span> <span class="hljs-string">&quot;遊戲開始&quot;</span><br />    <span class="hljs-keyword">case</span> win <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你獲勝！&quot;</span><br />    <span class="hljs-keyword">case</span> lose <span class="hljs-operator">=</span> <span class="hljs-string">&quot;很可惜，你輸了。&quot;</span><br />    <span class="hljs-keyword">case</span> tie <span class="hljs-operator">=</span> <span class="hljs-string">&quot;平手！&quot;</span><br />}</span></pre><ul class="postList"><li name="0391" id="0391" class="graf graf--li graf-after--pre">使用 MVVM</li></ul><p name="33c9" id="33c9" class="graf graf--p graf-after--li">RPSGameViewModel.swift</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="d751" id="d751" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">RPSGameViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> playerChoice: <span class="hljs-type">RPS</span> <span class="hljs-operator">=</span> .rock<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> computerChoice: <span class="hljs-type">RPS</span> <span class="hljs-operator">=</span> .rock<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> result: <span class="hljs-type">GameResult</span> <span class="hljs-operator">=</span> .start<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">play</span>(<span class="hljs-params">choice</span>: <span class="hljs-type">RPS</span>) {<br />        playerChoice <span class="hljs-operator">=</span> choice<br />        computerChoice <span class="hljs-operator">=</span> <span class="hljs-type">RPS</span>.allCases.randomElement()<span class="hljs-operator">!</span><br /><br />        result <span class="hljs-operator">=</span> playerChoice.compare(to: computerChoice)<br />    }<br />}</span></pre><p name="ddbf" id="ddbf" class="graf graf--p graf-after--pre">RPSGameView.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="edf6" id="edf6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RPSGameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@StateObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> viewModel <span class="hljs-operator">=</span> <span class="hljs-type">RPSGameViewModel</span>()<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;剪刀石頭布&quot;</span>)<br />                .font(.largeTitle)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;電腦選擇&quot;</span>)<br />                    .font(.title2)<br />                <span class="hljs-type">Text</span>(viewModel.computerChoice.rawValue)<br />                    .font(.system(size: <span class="hljs-number">50</span>))<br />                    .padding()<br />                    .background(<span class="hljs-type">Color</span>.red)<br />                    .foregroundColor(.white)<br />                    .cornerRadius(<span class="hljs-number">10</span>)<br />            }<br />            .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">Text</span>(viewModel.result.rawValue)<br />                .font(.headline)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;你的選擇&quot;</span>)<br />                    .font(.title2)<br />                <span class="hljs-type">HStack</span> {<br />                    <span class="hljs-type">ForEach</span>(<span class="hljs-type">RPS</span>.allCases, id: \.<span class="hljs-keyword">self</span>) { choice <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Button</span>(action: {<br />                            viewModel.play(choice: choice)<br />                        }, label: {<br />                            <span class="hljs-type">Text</span>(choice.rawValue)<br />                                .font(.system(size: <span class="hljs-number">20</span>))<br />                                .padding()<br />                                .background(<span class="hljs-type">Color</span>.blue)<br />                                .foregroundColor(.white)<br />                                .cornerRadius(<span class="hljs-number">10</span>)<br />                        })<br />                    }<br />                }<br />            }<br />        }.padding()<br />    }<br />}</span></pre><ul class="postList"><li name="2133" id="2133" class="graf graf--li graf-after--pre">沒有使用 MVVM</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e400" id="e400" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RPSGameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> playerChoice: <span class="hljs-type">RPS</span> <span class="hljs-operator">=</span> .rock<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> computerChoice: <span class="hljs-type">RPS</span> <span class="hljs-operator">=</span> .rock<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> result: <span class="hljs-type">GameResult</span> <span class="hljs-operator">=</span> .start<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;剪刀石頭布&quot;</span>)<br />                .font(.largeTitle)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;電腦選擇&quot;</span>)<br />                    .font(.title2)<br />                <span class="hljs-type">Text</span>(computerChoice.rawValue)<br />                    .font(.system(size: <span class="hljs-number">50</span>))<br />                    .padding()<br />                    .background(<span class="hljs-type">Color</span>.red)<br />                    .foregroundColor(.white)<br />                    .cornerRadius(<span class="hljs-number">10</span>)<br />            }<br />            .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">Text</span>(result.rawValue)<br />                .font(.headline)<br />                .padding(.bottom, <span class="hljs-number">30</span>)<br /><br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;你的選擇&quot;</span>)<br />                    .font(.title2)<br />                <span class="hljs-type">HStack</span> {<br />                    <span class="hljs-type">ForEach</span>(<span class="hljs-type">RPS</span>.allCases, id: \.<span class="hljs-keyword">self</span>) { choice <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Button</span>(action: {<br />                            playerChoice <span class="hljs-operator">=</span> choice<br />                            computerChoice <span class="hljs-operator">=</span> <span class="hljs-type">RPS</span>.allCases.randomElement()<span class="hljs-operator">!</span><br />                            result <span class="hljs-operator">=</span> playerChoice.compare(to: computerChoice)<br />                        }, label: {<br />                            <span class="hljs-type">Text</span>(choice.rawValue)<br />                                .font(.system(size: <span class="hljs-number">20</span>))<br />                                .padding()<br />                                .background(<span class="hljs-type">Color</span>.blue)<br />                                .foregroundColor(.white)<br />                                .cornerRadius(<span class="hljs-number">10</span>)<br />                        })<br />                    }<br />                }<br />            }<br />        }.padding()<br />    }<br />}</span></pre><h3 name="b874" id="b874" class="graf graf--h3 graf-after--pre">撲克牌比大小</h3><figure name="a04b" id="a04b" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*Ew4sPErRIeK590vvG4ugUA.png" data-width="1398" data-height="1398" src="https://cdn-images-1.medium.com/max/800/1*Ew4sPErRIeK590vvG4ugUA.png"></figure><p name="2f1c" id="2f1c" class="graf graf--p graf-after--figure">Card.swift</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="3876" id="3876" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Card</span>: <span class="hljs-title class_">Comparable</span> {<br />    <span class="hljs-keyword">let</span> suit: <span class="hljs-type">Suit</span><br />    <span class="hljs-keyword">let</span> rank: <span class="hljs-type">Rank</span><br /><br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">&lt;</span> (<span class="hljs-params">lhs</span>: <span class="hljs-type">Card</span>, <span class="hljs-params">rhs</span>: <span class="hljs-type">Card</span>) -&gt; <span class="hljs-type">Bool</span> {<br />        <span class="hljs-keyword">if</span> lhs.rank <span class="hljs-operator">==</span> rhs.rank {<br />            <span class="hljs-keyword">return</span> lhs.suit.rawValue <span class="hljs-operator">&lt;</span> rhs.suit.rawValue<br />        }<br />        <span class="hljs-keyword">return</span> lhs.rank.rawValue <span class="hljs-operator">&lt;</span> rhs.rank.rawValue<br />    }<br /><br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">==</span> (<span class="hljs-params">lhs</span>: <span class="hljs-type">Card</span>, <span class="hljs-params">rhs</span>: <span class="hljs-type">Card</span>) -&gt; <span class="hljs-type">Bool</span> {<br />        <span class="hljs-keyword">return</span> lhs.rank <span class="hljs-operator">==</span> rhs.rank <span class="hljs-operator">&amp;&amp;</span> lhs.suit <span class="hljs-operator">==</span> rhs.suit<br />    }<br /><br />    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Suit</span>: <span class="hljs-title class_">Int</span>, <span class="hljs-title class_">CaseIterable</span> {<br />        <span class="hljs-keyword">case</span> clubs <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />        <span class="hljs-keyword">case</span> diamonds<br />        <span class="hljs-keyword">case</span> hearts<br />        <span class="hljs-keyword">case</span> spades<br />    }<br /><br />    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Rank</span>: <span class="hljs-title class_">Int</span>, <span class="hljs-title class_">CaseIterable</span> {<br />        <span class="hljs-keyword">case</span> two <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br />        <span class="hljs-keyword">case</span> three<br />        <span class="hljs-keyword">case</span> four<br />        <span class="hljs-keyword">case</span> five<br />        <span class="hljs-keyword">case</span> six<br />        <span class="hljs-keyword">case</span> seven<br />        <span class="hljs-keyword">case</span> eight<br />        <span class="hljs-keyword">case</span> nine<br />        <span class="hljs-keyword">case</span> ten<br />        <span class="hljs-keyword">case</span> jack<br />        <span class="hljs-keyword">case</span> queen<br />        <span class="hljs-keyword">case</span> king<br />        <span class="hljs-keyword">case</span> ace<br />    }<br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Card</span>.<span class="hljs-title class_">Rank</span>: <span class="hljs-title class_">CustomStringConvertible</span> {<br />    <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {<br />        <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {<br />        <span class="hljs-keyword">case</span> .ace:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;A&quot;</span><br />        <span class="hljs-keyword">case</span> .king:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;K&quot;</span><br />        <span class="hljs-keyword">case</span> .queen:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Q&quot;</span><br />        <span class="hljs-keyword">case</span> .jack:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;J&quot;</span><br />        <span class="hljs-keyword">default</span>:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;<span class="hljs-subst">\(rawValue)</span>&quot;</span><br />        }<br />    }<br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Card</span>.<span class="hljs-title class_">Suit</span>: <span class="hljs-title class_">CustomStringConvertible</span> {<br />    <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {<br />        <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {<br />        <span class="hljs-keyword">case</span> .clubs:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;♣️&quot;</span><br />        <span class="hljs-keyword">case</span> .diamonds:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;♦️&quot;</span><br />        <span class="hljs-keyword">case</span> .hearts:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;♥️&quot;</span><br />        <span class="hljs-keyword">case</span> .spades:<br />            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;♠️&quot;</span><br />        }<br />    }<br />}</span></pre><ul class="postList"><li name="bbe6" id="bbe6" class="graf graf--li graf-after--pre">使用 MVVM</li></ul><p name="7107" id="7107" class="graf graf--p graf-after--li">GameViewModel.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5262" id="5262" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">GameViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> playerCard: <span class="hljs-type">Card</span>?<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> computerCard: <span class="hljs-type">Card</span>?<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> playerMoney: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> showAlert: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> alertTitle: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> deck: [<span class="hljs-type">Card</span>] {<br />        <span class="hljs-keyword">var</span> deck <span class="hljs-operator">=</span> [<span class="hljs-type">Card</span>]()<br />        <span class="hljs-keyword">for</span> suit <span class="hljs-keyword">in</span> <span class="hljs-type">Card</span>.<span class="hljs-type">Suit</span>.allCases {<br />            <span class="hljs-keyword">for</span> rank <span class="hljs-keyword">in</span> <span class="hljs-type">Card</span>.<span class="hljs-type">Rank</span>.allCases {<br />                deck.append(<span class="hljs-type">Card</span>(suit: suit, rank: rank))<br />            }<br />        }<br />        <span class="hljs-keyword">return</span> deck.shuffled()<br />    }<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">drawCards</span>() {<br />        <span class="hljs-keyword">let</span> shuffledDeck <span class="hljs-operator">=</span> deck<br />        playerCard <span class="hljs-operator">=</span> shuffledDeck.first<br />        computerCard <span class="hljs-operator">=</span> shuffledDeck.last<br /><br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> playerCard <span class="hljs-operator">=</span> playerCard, <span class="hljs-keyword">let</span> computerCard <span class="hljs-operator">=</span> computerCard {<br />            <span class="hljs-keyword">if</span> playerCard <span class="hljs-operator">&gt;</span> computerCard {<br />                playerMoney <span class="hljs-operator">+=</span> <span class="hljs-number">100</span><br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你，獲勝了！&quot;</span><br />            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> playerCard <span class="hljs-operator">&lt;</span> computerCard {<br />                playerMoney <span class="hljs-operator">-=</span> <span class="hljs-number">100</span><br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;很可惜，你輸了。&quot;</span><br />            } <span class="hljs-keyword">else</span> {<br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;平手！&quot;</span><br />            }<br /><br />            <span class="hljs-keyword">if</span> playerMoney <span class="hljs-operator">&lt;=</span> <span class="hljs-number">0</span> {<br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;破產了！重新開始。&quot;</span><br />                playerMoney <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />            }<br /><br />            showAlert <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        }<br />    }<br />}</span></pre><p name="af27" id="af27" class="graf graf--p graf-after--pre">GameView.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9444" id="9444" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@StateObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> gameViewModel <span class="hljs-operator">=</span> <span class="hljs-type">GameViewModel</span>()<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">CardView</span>(card: gameViewModel.playerCard, title: <span class="hljs-string">&quot;玩家&quot;</span>)<br />                <span class="hljs-type">CardView</span>(card: gameViewModel.computerCard, title: <span class="hljs-string">&quot;電腦&quot;</span>)<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;玩家金額：<span class="hljs-subst">\(gameViewModel.playerMoney)</span>&quot;</span>)<br />                .font(.title)<br />                .padding()<br />            <br />            <span class="hljs-type">Button</span>(action: {<br />                gameViewModel.drawCards()<br />            }) {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;抽牌比大小&quot;</span>)<br />                    .font(.title)<br />                    .padding()<br />                    .background(<span class="hljs-type">Color</span>.blue)<br />                    .foregroundColor(.white)<br />                    .cornerRadius(<span class="hljs-number">10</span>)<br />            }<br />            .alert(isPresented: <span class="hljs-variable">$gameViewModel</span>.showAlert) {<br />                <span class="hljs-type">Alert</span>(title: <span class="hljs-type">Text</span>(gameViewModel.alertTitle), message: <span class="hljs-literal">nil</span>, dismissButton: .default(<span class="hljs-type">Text</span>(<span class="hljs-string">&quot;確定&quot;</span>)))<br />            }<br />        }<br />        .padding()<br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CardView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> card: <span class="hljs-type">Card</span>?<br />    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(title)<br />                .font(.title2)<br />                .padding(.bottom)<br />            <br />            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> card <span class="hljs-operator">=</span> card {<br />                <span class="hljs-type">VStack</span> {<br />                    <span class="hljs-type">Text</span>(card.rank.description)<br />                        .font(.largeTitle)<br />                    <br />                    <span class="hljs-type">Text</span>(card.suit.description)<br />                        .font(.title)<br />                }<br />                .padding()<br />                .background(<span class="hljs-type">Color</span>.white)<br />                .cornerRadius(<span class="hljs-number">10</span>)<br />                .shadow(radius: <span class="hljs-number">5</span>)<br />            } <span class="hljs-keyword">else</span> {<br />                <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">10</span>)<br />                    .frame(width: <span class="hljs-number">100</span>, height: <span class="hljs-number">150</span>)<br />                    .foregroundColor(.gray)<br />            }<br />        }<br />    }<br />}</span></pre><ul class="postList"><li name="f49c" id="f49c" class="graf graf--li graf-after--pre">沒有使用 MVVM</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="7727" id="7727" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> playerCard: <span class="hljs-type">Card</span>?<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> computerCard: <span class="hljs-type">Card</span>?<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> playerMoney: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> showAlert: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> alertTitle: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> deck: [<span class="hljs-type">Card</span>] {<br />        <span class="hljs-keyword">var</span> deck <span class="hljs-operator">=</span> [<span class="hljs-type">Card</span>]()<br />        <span class="hljs-keyword">for</span> suit <span class="hljs-keyword">in</span> <span class="hljs-type">Card</span>.<span class="hljs-type">Suit</span>.allCases {<br />            <span class="hljs-keyword">for</span> rank <span class="hljs-keyword">in</span> <span class="hljs-type">Card</span>.<span class="hljs-type">Rank</span>.allCases {<br />                deck.append(<span class="hljs-type">Card</span>(suit: suit, rank: rank))<br />            }<br />        }<br />        <span class="hljs-keyword">return</span> deck.shuffled()<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">drawCards</span>() {<br />        <span class="hljs-keyword">let</span> shuffledDeck <span class="hljs-operator">=</span> deck<br />        playerCard <span class="hljs-operator">=</span> shuffledDeck.first<br />        computerCard <span class="hljs-operator">=</span> shuffledDeck.last<br /><br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> playerCard <span class="hljs-operator">=</span> playerCard, <span class="hljs-keyword">let</span> computerCard <span class="hljs-operator">=</span> computerCard {<br />            <span class="hljs-keyword">if</span> playerCard <span class="hljs-operator">&gt;</span> computerCard {<br />                playerMoney <span class="hljs-operator">+=</span> <span class="hljs-number">100</span><br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;恭喜你，獲勝了！&quot;</span><br />            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> playerCard <span class="hljs-operator">&lt;</span> computerCard {<br />                playerMoney <span class="hljs-operator">-=</span> <span class="hljs-number">100</span><br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;很可惜，你輸了。&quot;</span><br />            } <span class="hljs-keyword">else</span> {<br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;平手！&quot;</span><br />            }<br /><br />            <span class="hljs-keyword">if</span> playerMoney <span class="hljs-operator">&lt;=</span> <span class="hljs-number">0</span> {<br />                alertTitle <span class="hljs-operator">=</span> <span class="hljs-string">&quot;破產了！重新開始。&quot;</span><br />                playerMoney <span class="hljs-operator">=</span> <span class="hljs-number">1000</span><br />            }<br /><br />            showAlert <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        }<br />    }<br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">CardView</span>(card: playerCard, title: <span class="hljs-string">&quot;玩家&quot;</span>)<br />                <span class="hljs-type">CardView</span>(card: computerCard, title: <span class="hljs-string">&quot;電腦&quot;</span>)<br />            }<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;玩家金額：<span class="hljs-subst">\(playerMoney)</span>&quot;</span>)<br />                .font(.title3)<br />                .padding()<br /><br />            <span class="hljs-type">Button</span>(action: {<br />                drawCards()<br />            }) {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;抽牌比大小&quot;</span>)<br />                    .font(.title)<br />                    .padding()<br />                    .background(<span class="hljs-type">Color</span>.blue)<br />                    .foregroundColor(.white)<br />                    .cornerRadius(<span class="hljs-number">10</span>)<br />            }<br />            .alert(isPresented: <span class="hljs-variable">$showAlert</span>) {<br />                <span class="hljs-type">Alert</span>(title: <span class="hljs-type">Text</span>(alertTitle), message: <span class="hljs-literal">nil</span>, dismissButton: .default(<span class="hljs-type">Text</span>(<span class="hljs-string">&quot;確定&quot;</span>)))<br />            }<br />        }<br />        .padding()<br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CardView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> card: <span class="hljs-type">Card</span>?<br />    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(title)<br />                .font(.title2)<br />                .padding(.bottom)<br />            <br />            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> card <span class="hljs-operator">=</span> card {<br />                <span class="hljs-type">VStack</span> {<br />                    <span class="hljs-type">Text</span>(card.rank.description)<br />                        .font(.largeTitle)<br />                    <br />                    <span class="hljs-type">Text</span>(card.suit.description)<br />                        .font(.title)<br />                }<br />                .padding()<br />                .background(<span class="hljs-type">Color</span>.white)<br />                .cornerRadius(<span class="hljs-number">10</span>)<br />                .shadow(radius: <span class="hljs-number">5</span>)<br />            } <span class="hljs-keyword">else</span> {<br />                <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">10</span>)<br />                    .frame(width: <span class="hljs-number">100</span>, height: <span class="hljs-number">150</span>)<br />                    .foregroundColor(.gray)<br />            }<br />        }<br />    }<br />}</span></pre><h3 name="0315" id="0315" class="graf graf--h3 graf-after--pre">Tic-Tac-Toe App(井字遊戲、圈圈叉叉)</h3><figure name="1414" id="1414" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*vl8K9z9iTHaAWypbVfxlzA.png" data-width="1396" data-height="1378" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*vl8K9z9iTHaAWypbVfxlzA.png"></figure><ul class="postList"><li name="b044" id="b044" class="graf graf--li graf-after--figure">使用 MVVM</li></ul><p name="b84e" id="b84e" class="graf graf--p graf-after--li">TicTacToeViewModel.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="885e" id="885e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">TicTacToeViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> board: [[<span class="hljs-type">String</span>]] <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(repeating: <span class="hljs-type">Array</span>(repeating: <span class="hljs-string">&quot;&quot;</span>, count: <span class="hljs-number">3</span>), count: <span class="hljs-number">3</span>)<br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> currentPlayer: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;X&quot;</span><br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> gameOver: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> winner: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">resetGame</span>() {<br />        board <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(repeating: <span class="hljs-type">Array</span>(repeating: <span class="hljs-string">&quot;&quot;</span>, count: <span class="hljs-number">3</span>), count: <span class="hljs-number">3</span>)<br />        currentPlayer <span class="hljs-operator">=</span> <span class="hljs-string">&quot;X&quot;</span><br />        gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />        winner <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br />    }<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMove</span>(<span class="hljs-params">x</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">y</span>: <span class="hljs-type">Int</span>) {<br />        <span class="hljs-keyword">if</span> board[y][x] <span class="hljs-operator">==</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-operator">&amp;&amp;</span> <span class="hljs-operator">!</span>gameOver {<br />            board[y][x] <span class="hljs-operator">=</span> currentPlayer<br />            checkForWinner()<br />            currentPlayer <span class="hljs-operator">=</span> currentPlayer <span class="hljs-operator">==</span> <span class="hljs-string">&quot;X&quot;</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span><br />        }<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkForWinner</span>() {<br />        <span class="hljs-keyword">let</span> winningCombinations <span class="hljs-operator">=</span> [<br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], <span class="hljs-comment">// Rows</span><br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], <span class="hljs-comment">// Columns</span><br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>)] <span class="hljs-comment">// Diagonals</span><br />        ]<br /><br />        <span class="hljs-keyword">for</span> combination <span class="hljs-keyword">in</span> winningCombinations {<br />            <span class="hljs-keyword">if</span> board[combination[<span class="hljs-number">0</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">0</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer <span class="hljs-operator">&amp;&amp;</span><br />                board[combination[<span class="hljs-number">1</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">1</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer <span class="hljs-operator">&amp;&amp;</span><br />                board[combination[<span class="hljs-number">2</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">2</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer {<br />                gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />                winner <span class="hljs-operator">=</span> currentPlayer<br />                <span class="hljs-keyword">return</span><br />            }<br />        }<br /><br />        <span class="hljs-keyword">if</span> board.joined().contains(<span class="hljs-string">&quot;&quot;</span>) <span class="hljs-operator">==</span> <span class="hljs-literal">false</span> {<br />            gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />            winner <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Draw&quot;</span><br />        }<br />    }<br />}</span></pre><p name="36a5" id="36a5" class="graf graf--p graf-after--pre">TicTacToeView.swift</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c842" id="c842" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TicTacToeView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@StateObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> viewModel <span class="hljs-operator">=</span> <span class="hljs-type">TicTacToeViewModel</span>()<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">10</span>) {<br />            <span class="hljs-type">ForEach</span>(<span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">3</span>) { y <span class="hljs-keyword">in</span><br />                <span class="hljs-type">HStack</span>(spacing: <span class="hljs-number">10</span>) {<br />                    <span class="hljs-type">ForEach</span>(<span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">3</span>) { x <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Button</span>(action: {<br />                            viewModel.makeMove(x: x, y: y)<br />                        }, label: {<br />                            <span class="hljs-type">Text</span>(viewModel.board[y][x])<br />                                .frame(width: <span class="hljs-number">50</span>, height: <span class="hljs-number">50</span>)<br />                                .background(<span class="hljs-type">Color</span>.white)<br />                                .cornerRadius(<span class="hljs-number">5</span>)<br />                                .shadow(color:<span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">1</span>, x: <span class="hljs-number">1</span>, y: <span class="hljs-number">1</span>)<br />                        })<br />                    }<br />                }<br />            }<br />            <span class="hljs-keyword">if</span> viewModel.gameOver {<br />                <span class="hljs-type">Text</span>(viewModel.winner <span class="hljs-operator">==</span> <span class="hljs-string">&quot;Draw&quot;</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;It&#x27;s a Draw!&quot;</span> : <span class="hljs-string">&quot;Player <span class="hljs-subst">\(viewModel.winner)</span> wins!&quot;</span>)<br />                    .font(.title)<br />                    .padding(.top, <span class="hljs-number">20</span>)<br />                <span class="hljs-type">Button</span>(action: {<br />                    viewModel.resetGame()<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;Restart Game&quot;</span>)<br />                        .font(.title2)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.blue)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />            }<br />        }<br />        .padding()<br />        .background(<span class="hljs-type">Color</span>(.systemGroupedBackground))<br />        .edgesIgnoringSafeArea(.bottom)<br />    }<br />}</span></pre><ul class="postList"><li name="fe38" id="fe38" class="graf graf--li graf-after--pre">沒有使用 MVVM</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="12ee" id="12ee" class="graf graf--pre graf-after--li graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TicTacToeView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> board: [[<span class="hljs-type">String</span>]] <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(repeating: <span class="hljs-type">Array</span>(repeating: <span class="hljs-string">&quot;&quot;</span>, count: <span class="hljs-number">3</span>), count: <span class="hljs-number">3</span>)<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentPlayer: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;X&quot;</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> gameOver: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> winner: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">resetGame</span>() {<br />        board <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(repeating: <span class="hljs-type">Array</span>(repeating: <span class="hljs-string">&quot;&quot;</span>, count: <span class="hljs-number">3</span>), count: <span class="hljs-number">3</span>)<br />        currentPlayer <span class="hljs-operator">=</span> <span class="hljs-string">&quot;X&quot;</span><br />        gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />        winner <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span><br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMove</span>(<span class="hljs-params">x</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">y</span>: <span class="hljs-type">Int</span>) {<br />        <span class="hljs-keyword">if</span> board[y][x] <span class="hljs-operator">==</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-operator">&amp;&amp;</span> <span class="hljs-operator">!</span>gameOver {<br />            board[y][x] <span class="hljs-operator">=</span> currentPlayer<br />            checkForWinner()<br />            currentPlayer <span class="hljs-operator">=</span> currentPlayer <span class="hljs-operator">==</span> <span class="hljs-string">&quot;X&quot;</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span><br />        }<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkForWinner</span>() {<br />        <span class="hljs-keyword">let</span> winningCombinations <span class="hljs-operator">=</span> [<br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], <span class="hljs-comment">// Rows</span><br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], <span class="hljs-comment">// Columns</span><br />            [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>)] <span class="hljs-comment">// Diagonals</span><br />        ]<br />        <br />        <span class="hljs-keyword">for</span> combination <span class="hljs-keyword">in</span> winningCombinations {<br />            <span class="hljs-keyword">if</span> board[combination[<span class="hljs-number">0</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">0</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer <span class="hljs-operator">&amp;&amp;</span><br />                board[combination[<span class="hljs-number">1</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">1</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer <span class="hljs-operator">&amp;&amp;</span><br />                board[combination[<span class="hljs-number">2</span>].<span class="hljs-number">1</span>][combination[<span class="hljs-number">2</span>].<span class="hljs-number">0</span>] <span class="hljs-operator">==</span> currentPlayer {<br />                gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />                winner <span class="hljs-operator">=</span> currentPlayer<br />                <span class="hljs-keyword">return</span><br />            }<br />        }<br />        <br />        <span class="hljs-keyword">if</span> board.joined().contains(<span class="hljs-string">&quot;&quot;</span>) <span class="hljs-operator">==</span> <span class="hljs-literal">false</span> {<br />            gameOver <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />            winner <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Draw&quot;</span><br />        }<br />    }<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">10</span>) {<br />            <span class="hljs-type">ForEach</span>(<span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">3</span>) { y <span class="hljs-keyword">in</span><br />                <span class="hljs-type">HStack</span>(spacing: <span class="hljs-number">10</span>) {<br />                    <span class="hljs-type">ForEach</span>(<span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">3</span>) { x <span class="hljs-keyword">in</span><br />                        <span class="hljs-type">Button</span>(action: {<br />                            makeMove(x: x, y: y)<br />                        }, label: {<br />                            <span class="hljs-type">Text</span>(board[y][x])<br />                                .frame(width: <span class="hljs-number">50</span>, height: <span class="hljs-number">50</span>)<br />                                .background(<span class="hljs-type">Color</span>.white)<br />                                .cornerRadius(<span class="hljs-number">5</span>)<br />                                .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">1</span>, x: <span class="hljs-number">1</span>, y: <span class="hljs-number">1</span>)<br />                        })<br />                    }<br />                }<br />            }<br />            <span class="hljs-keyword">if</span> gameOver {<br />                <span class="hljs-type">Text</span>(winner <span class="hljs-operator">==</span> <span class="hljs-string">&quot;Draw&quot;</span> <span class="hljs-operator">?</span> <span class="hljs-string">&quot;It&#x27;s a Draw!&quot;</span> : <span class="hljs-string">&quot;Player <span class="hljs-subst">\(winner)</span> wins!&quot;</span>)<br />                    .font(.title)<br />                    .padding(.top, <span class="hljs-number">20</span>)<br />                <span class="hljs-type">Button</span>(action: {<br />                    resetGame()<br />                }, label: {<br />                    <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;Restart Game&quot;</span>)<br />                        .font(.title2)<br />                        .padding()<br />                        .background(<span class="hljs-type">Color</span>.blue)<br />                        .foregroundColor(.white)<br />                        .cornerRadius(<span class="hljs-number">10</span>)<br />                })<br />            }<br />        }<br />        .padding()<br />        .background(<span class="hljs-type">Color</span>(.systemGroupedBackground))<br />        .edgesIgnoringSafeArea(.bottom)<br />    }<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/b2f5b8545b69"><time class="dt-published" datetime="2023-05-01T03:15:52.124Z">May 1, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%AB%8B-ai-%E5%AF%AB%E5%87%BA-mvvm-%E5%92%8C%E9%9D%9E-mvvm-%E7%9A%84-swiftui-app-%E9%81%8A%E6%88%B2%E7%AF%84%E4%BE%8B-%E9%AA%B0%E5%AD%90%E6%AF%94%E5%A4%A7%E5%B0%8F-%E5%89%AA%E5%88%80%E7%9F%B3%E9%A0%AD%E5%B8%83-%E6%92%B2%E5%85%8B%E7%89%8C%E6%AF%94%E5%A4%A7%E5%B0%8F-tic-tac-toe-b2f5b8545b69" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>