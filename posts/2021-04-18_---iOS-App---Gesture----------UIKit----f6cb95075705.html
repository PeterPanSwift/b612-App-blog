<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>開發 iOS App 的 Gesture (手勢)功能 — UIKit 版本</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">開發 iOS App 的 Gesture (手勢)功能 — UIKit 版本</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們可以加入一些手勢操作帶給使用者更好的體驗，比方拖曳，縮放，旋轉，swipe 或長按的手勢。
</section>
<section data-field="body" class="e-content">
<section name="f5c7" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b556" id="b556" class="graf graf--h3 graf--leading graf--title">開發 iOS App 的 Gesture (手勢)功能 — UIKit 版本</h3><p name="c76e" id="c76e" class="graf graf--p graf-after--h3">開發 iOS App 時，我們可以加入一些手勢操作帶給使用者更好的體驗，比方拖曳，縮放，旋轉，swipe 或長按的手勢。</p><p name="a2b1" id="a2b1" class="graf graf--p graf-after--p">但要怎麼寫程式辨識手勢呢? 別擔心，Apple 早為我們準備好了，iOS SDK 的 UIKit 提供多種辨識手勢的 Gesture Recognizer，如下圖所示，在 storyboard 的 Library 視窗輸入 gesture，即可看到多種常見手勢的 gesture recognizer。</p><figure name="0abc" id="0abc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*YzPbaYcCPsZeoXey-zq_XA.png" data-width="1364" data-height="988" src="https://cdn-images-1.medium.com/max/800/1*YzPbaYcCPsZeoXey-zq_XA.png"></figure><div name="a8a9" id="a8a9" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/uikit/uigesturerecognizer" data-href="https://developer.apple.com/documentation/uikit/uigesturerecognizer" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uigesturerecognizer"><strong class="markup--strong markup--mixtapeEmbed-strong">UIGestureRecognizer | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">The base class for concrete gesture recognizers.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uigesturerecognizer" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1e717c4337fd3d212fc68784046ed192" data-thumbnail-img-id="0*Nc5UIkp8qdzGMYws" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Nc5UIkp8qdzGMYws);"></a></div><p name="3270" id="3270" class="graf graf--p graf-after--mixtapeEmbed">接下來我們將以在圖片上左滑為例，利用 Swipe Gesture Recognizer 辨識左滑的手勢，</p><h3 name="9a86" id="9a86" class="graf graf--h3 graf-after--p">將 Swipe Gesture Recognizer 加到元件上</h3><p name="32f2" id="32f2" class="graf graf--p graf-after--h3">為了辨識手勢，第一步是將 Gesture Recognizer 加到想辨識手勢的元件上。</p><figure name="63bc" id="63bc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ekAvXMkf2S-lCxFudnn8RQ.png" data-width="1370" data-height="994" src="https://cdn-images-1.medium.com/max/800/1*ekAvXMkf2S-lCxFudnn8RQ.png"></figure><p name="5ea8" id="5ea8" class="graf graf--p graf-after--figure">在此我們將 Swipe Gesture Recognizer 拖曳到 storyboard 畫面上的 image view。</p><figure name="4754" id="4754" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*K7gSkxV0gOMUNcDon_7PSg.png" data-width="426" data-height="862" src="https://cdn-images-1.medium.com/max/800/1*K7gSkxV0gOMUNcDon_7PSg.png"></figure><p name="bcf8" id="bcf8" class="graf graf--p graf-after--figure">如下圖所示，此時元件列表裡將長出 Swipe Gesture Recognizer。</p><figure name="a025" id="a025" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*CpIwiZf_jFRwqsx2PR6T-Q.png" data-width="576" data-height="366" src="https://cdn-images-1.medium.com/max/800/1*CpIwiZf_jFRwqsx2PR6T-Q.png"></figure><p name="3250" id="3250" class="graf graf--p graf-after--figure">從 gesture 元件上按右鍵選單，也可從 Referencing Outlet Collections 看到它連到了 image view 小小夜曲的 gestureRecognizers。</p><figure name="e0e6" id="e0e6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*mQCxUOhBrFF-caaiX7roYQ.png" data-width="1114" data-height="890" src="https://cdn-images-1.medium.com/max/800/1*mQCxUOhBrFF-caaiX7roYQ.png"></figure><p name="551c" id="551c" class="graf graf--p graf-after--figure">ps: 如果發現 gesture 的 Referencing Outlet Collections 沒有連到任何東西，表示手勢目前沒有作用在任何 view 上。</p><figure name="8ecb" id="8ecb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*IHl2ZL-Zt7-3e2zukq92eQ.png" data-width="1088" data-height="872" src="https://cdn-images-1.medium.com/max/800/1*IHl2ZL-Zt7-3e2zukq92eQ.png"></figure><p name="4d5a" id="4d5a" class="graf graf--p graf-after--figure">此時我們可手動將手勢加到 view 上，比方從下圖的 image view 連線到 gesture recognizer，然後點選 Outlet Collections 下的 gestureRecognizers。</p><figure name="95fe" id="95fe" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WZeac8s2IBkPnJ8u9JDM1A.png" data-width="522" data-height="310" src="https://cdn-images-1.medium.com/max/800/1*WZeac8s2IBkPnJ8u9JDM1A.png"></figure><figure name="a941" id="a941" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*b-7bK-V6yVUivMKZ3ymouw.png" data-width="346" data-height="114" src="https://cdn-images-1.medium.com/max/800/1*b-7bK-V6yVUivMKZ3ymouw.png"></figure><h3 name="e39e" id="e39e" class="graf graf--h3 graf-after--figure">將 image view 的 User Interaction Enabled 勾選</h3><p name="e03b" id="e03b" class="graf graf--p graf-after--h3">有些元件預設是不能操作的，就像 image view &amp; label，他們預設都是只能顯示內容，觸碰時將毫無反應，就像冰山美人一樣。</p><p name="d98f" id="d98f" class="graf graf--p graf-after--p">不過冰山美人也有融化的一天，想讓 image view 觸碰有反應，能辨識到 swipe 手勢也是可以，只要我們要將它的 User Interaction Enabled 勾選。</p><figure name="d3a6" id="d3a6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*GePMHsWz44wu6dtrqOXVRQ.png" data-width="544" data-height="822" src="https://cdn-images-1.medium.com/max/800/1*GePMHsWz44wu6dtrqOXVRQ.png"></figure><h3 name="a48b" id="a48b" class="graf graf--h3 graf-after--figure">設定手勢的相關欄位</h3><p name="062f" id="062f" class="graf graf--p graf-after--h3">每種 Gesture Recognizer 偵測不同的手勢，有著不同的設定，比方 swipe 手勢和方向有關，因此我們可指定辨識的方向。</p><figure name="38bb" id="38bb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*SN9ltTXLjUIwNTwI5hPZRA.png" data-width="528" data-height="514" src="https://cdn-images-1.medium.com/max/800/1*SN9ltTXLjUIwNTwI5hPZRA.png"></figure><p name="f66d" id="f66d" class="graf graf--p graf-after--figure">有 Up，Down，Left，Right 四種方向可選擇。在此我們選擇 Left，表示要辨識向左滑動的手勢。</p><figure name="1ae4" id="1ae4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*vkezZ4GOuVvYfhygtf4Fww.png" data-width="458" data-height="280" src="https://cdn-images-1.medium.com/max/800/1*vkezZ4GOuVvYfhygtf4Fww.png"></figure><p name="c826" id="c826" class="graf graf--p graf-after--figure">值得注意的，一個 Swipe Gesture Recognizer 只能辦識一個方向，因此若想辨識多個方向，必須使用多個 Swipe Gesture Recognizer。</p><h3 name="30f0" id="30f0" class="graf graf--h3 graf-after--p">連結手勢的 IBAction</h3><p name="7644" id="7644" class="graf graf--p graf-after--h3">從 storyboard 的 gesture recognizer 元件可以直接拉 IBAction，設定手勢辨識到時執行的 function。比方我們想要偵測到左滑時顯示下一頁的內容，因此連結 IBAction function showNextPage。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="31e8" id="31e8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showNextPage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />    <br />}</span></pre><h3 name="5492" id="5492" class="graf graf--h3 graf-after--pre">辨識兩種 swipe 方向的方法</h3><p name="d832" id="d832" class="graf graf--p graf-after--h3">方法 1: 加入兩個 Swipe Gesture Recognizer，分別連結不同的 IBAction function。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="daeb" id="daeb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showNextPage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <br />}<br />    <br /><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showPrevPage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <br />}</span></pre><p name="dacf" id="dacf" class="graf graf--p graf-after--pre">方法 2: 加入兩個 Swipe Gesture Recognizer，連結到同一個 IBAction function。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="eb8f" id="eb8f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">changePage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>) {<br />    <span class="hljs-keyword">if</span> sender.direction <span class="hljs-operator">==</span> .left {<br />            <br />    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.direction <span class="hljs-operator">==</span> .right {<br />            <br />    }<br />}</span></pre><h3 name="a0e2" id="a0e2" class="graf graf--h3 graf-after--pre">如果 gesture recognizer 沒有連結到元件</h3><p name="7c8f" id="7c8f" class="graf graf--p graf-after--h3">如下圖所示，如果 gesture recognizer 因為一些原因沒有連結到元件，我們也可以另外拉線連結。</p><figure name="4510" id="4510" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*7jyLdQjner6o5uXVlMTTpw.png" data-width="1294" data-height="524" src="https://cdn-images-1.medium.com/max/800/1*7jyLdQjner6o5uXVlMTTpw.png"></figure><p name="400f" id="400f" class="graf graf--p graf-after--figure">我們可從 image view 拉線到 gesture recognizer。</p><figure name="77a1" id="77a1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*z27LhjKCZeANQorLVNTG1A.png" data-width="522" data-height="298" src="https://cdn-images-1.medium.com/max/800/1*z27LhjKCZeANQorLVNTG1A.png"></figure><p name="b44a" id="b44a" class="graf graf--p graf-after--figure">然後選擇 gestureRecognizers。</p><figure name="327c" id="327c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*APgKLQjt_-z-F8iWbCqWjw.png" data-width="544" data-height="310" src="https://cdn-images-1.medium.com/max/800/1*APgKLQjt_-z-F8iWbCqWjw.png"></figure><h3 name="7b5e" id="7b5e" class="graf graf--h3 graf-after--figure">從程式加入 gesture recognizer</h3><p name="2185" id="2185" class="graf graf--p graf-after--h3">除了從 storyboard 加入 gesture recognizer，我們也可以從程式加入，範例如下。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9bf7" id="9bf7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />   <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> imageView: <span class="hljs-type">UIImageView</span>!<br />   <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">changePage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>) {<br />        <br />   }<br />    <br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <br />        <span class="hljs-keyword">let</span> swipeGestureRecognizer <span class="hljs-operator">=</span> <span class="hljs-type">UISwipeGestureRecognizer</span>(target: <span class="hljs-keyword">self</span>, action: <span class="hljs-keyword">#selector</span>(changePage(<span class="hljs-keyword">_</span>:)))<br />        swipeGestureRecognizer.direction <span class="hljs-operator">=</span> .left<br />        imageView.isUserInteractionEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>           <br />        imageView.addGestureRecognizer(swipeGestureRecognizer)<br />   }<br />}</span></pre><p name="4b14" id="4b14" class="graf graf--p graf-after--pre graf--trailing">呼叫 function addGestureRecognizer(_:) 加入手勢。值得注意的，設定手勢觸發的 function 時必須使用 #selector( ) 的寫法，因為它跟 Objective-C 有關，因此觸發的 function 前要加上 @objc 。</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/f6cb95075705"><time class="dt-published" datetime="2021-04-18T14:08:59.575Z">April 18, 2021</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E9%96%8B%E7%99%BC-ios-app-%E7%9A%84-gesture-%E6%89%8B%E5%8B%A2%E5%8A%9F%E8%83%BD-uikit-%E7%89%88%E6%9C%AC-f6cb95075705" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>