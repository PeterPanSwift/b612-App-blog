<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>讓 view controller &amp; UIKit view 也能享用 SwiftUI 方便的 preview</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">讓 view controller &amp; UIKit view 也能享用 SwiftUI 方便的 preview</h1>
</header>
<section data-field="subtitle" class="p-summary">
SwiftUI 提供方便的 preview 功能，讓我們不用啟動模擬器就能預覽和操作 App 畫面，而且還能在修改程式時立即更新 preview。preview 如此先進的功能，看來我們用 storyboard &amp; view controller 設計的 App…
</section>
<section data-field="body" class="e-content">
<section name="2573" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="2ab2" id="2ab2" class="graf graf--h3 graf--leading graf--title">讓 view controller &amp; UIKit view 也能享用 SwiftUI 方便的 preview</h3><p name="c8a5" id="c8a5" class="graf graf--p graf-after--h3">SwiftUI 提供方便的 preview 功能，讓我們不用啟動模擬器就能預覽和操作 App 畫面，而且還能在修改程式時立即更新 preview。preview 如此先進的功能，看來我們用 storyboard，xib &amp; view controller 設計的 App 畫面應該就無福享有吧 ?</p><p name="df6e" id="df6e" class="graf graf--p graf-after--p">其實是可以的，方法有兩種。</p><ul class="postList"><li name="0da4" id="0da4" class="graf graf--li graf-after--p">新版做法: 使用 #Preview，Xcode 15 以上。</li></ul><div name="77d3" id="77d3" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-preview-macro-%E5%AE%9A%E7%BE%A9%E9%A0%90%E8%A6%BD%E7%95%AB%E9%9D%A2-ios-17-%E6%96%B0%E5%8A%9F%E8%83%BD-bc850b2c11fc" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-preview-macro-%E5%AE%9A%E7%BE%A9%E9%A0%90%E8%A6%BD%E7%95%AB%E9%9D%A2-ios-17-%E6%96%B0%E5%8A%9F%E8%83%BD-bc850b2c11fc" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-preview-macro-%E5%AE%9A%E7%BE%A9%E9%A0%90%E8%A6%BD%E7%95%AB%E9%9D%A2-ios-17-%E6%96%B0%E5%8A%9F%E8%83%BD-bc850b2c11fc"><strong class="markup--strong markup--mixtapeEmbed-strong">使用 #Preview macro 定義預覽畫面</strong><br><em class="markup--em markup--mixtapeEmbed-em">透過 Xcode 的 preview 功能，我們可以方便地從 preview 預覽和操作畫面，不用啟動模擬器，而且修改程式後 preview 也會立即更新，馬上就能測試畫面和功能是否正確。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-preview-macro-%E5%AE%9A%E7%BE%A9%E9%A0%90%E8%A6%BD%E7%95%AB%E9%9D%A2-ios-17-%E6%96%B0%E5%8A%9F%E8%83%BD-bc850b2c11fc" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8c14ba8f6f874b34dda8abcb55925477" data-thumbnail-img-id="1*sI6IolUEuWaKh4y9kk1EqQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*sI6IolUEuWaKh4y9kk1EqQ.png);"></a></div><ul class="postList"><li name="16f7" id="16f7" class="graf graf--li graf-after--mixtapeEmbed">舊版做法: 利用 UIViewControllerRepresentable &amp; UIViewRepresentable。</li></ul><p name="0733" id="0733" class="graf graf--p graf-after--li">利用 UIViewControllerRepresentable 將 view controller 的畫面變成 SwiftUI 的 view，利用 UIViewRepresentable<strong class="markup--strong markup--p-strong"> </strong>將 UIKit view 變成 SwiftUI 的 view，一樣可享用 preview 功能。詳細的說明可參考以下連結。</p><div name="e52f" id="e52f" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa"><strong class="markup--strong markup--mixtapeEmbed-strong">在 SwiftUI App 加入 view controller</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI 有很多很棒很炫的功能，幫助我們更容易地開發 iOS App，不過因為它才剛出生，所以一些傳統 iOS App 常用的 UI 元件還不支援，比方它缺少以下這些元件:</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="cfdaac549d2461b213660ffbfed46d11" data-thumbnail-img-id="1*oVbI6wkohs-pYRxwK7__7A.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*oVbI6wkohs-pYRxwK7__7A.jpeg);"></a></div><div name="51c1" id="51c1" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487"><strong class="markup--strong markup--mixtapeEmbed-strong">在 SwiftUI App 加入 UIKit View，比方網頁和地圖</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI 有很多很棒很炫的功能，幫助我們更容易地開發 iOS App，不過因為它才剛出生，所以一些傳統 iOS App 常用的 UI 元件還不支援，比方它缺少以下這些元件:</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="77a1e88573456859783eb5c1720418f5" data-thumbnail-img-id="1*C9PSbuuuX71WyI3f9jpQGg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*C9PSbuuuX71WyI3f9jpQGg.jpeg);"></a></div><p name="f693" id="f693" class="graf graf--p graf-after--mixtapeEmbed">接下來我們就以阿丁同學的七彩彼得潘 App 為例示範。</p><div name="2b83" id="2b83" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/13-%E8%AA%BF%E8%89%B2%E5%A4%A7%E5%B8%AB-%E4%B8%83%E5%BD%A9%E5%BD%BC%E5%BE%97%E6%BD%98-681bbddbaed5" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/13-%E8%AA%BF%E8%89%B2%E5%A4%A7%E5%B8%AB-%E4%B8%83%E5%BD%A9%E5%BD%BC%E5%BE%97%E6%BD%98-681bbddbaed5" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/13-%E8%AA%BF%E8%89%B2%E5%A4%A7%E5%B8%AB-%E4%B8%83%E5%BD%A9%E5%BD%BC%E5%BE%97%E6%BD%98-681bbddbaed5"><strong class="markup--strong markup--mixtapeEmbed-strong">#13 — 調色大師：七彩彼得潘</strong><br><em class="markup--em markup--mixtapeEmbed-em">\\\\\\\\\\\\\\\\\\\\\彼得潘不上課跑去夜店啦!!!//////////////////<br> （造謠）</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/13-%E8%AA%BF%E8%89%B2%E5%A4%A7%E5%B8%AB-%E4%B8%83%E5%BD%A9%E5%BD%BC%E5%BE%97%E6%BD%98-681bbddbaed5" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bd03a5853a8253d61fe677d9fa6a0ef5" data-thumbnail-img-id="1*oNdU-OVZZ4pxyOGVrt897w.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*oNdU-OVZZ4pxyOGVrt897w.png);"></a></div><h3 name="f5a7" id="f5a7" class="graf graf--h3 graf-after--mixtapeEmbed">預覽 storyboard 設計的 controller 的畫面</h3><p name="24b5" id="24b5" class="graf graf--p graf-after--h3">如下圖所示，阿丁使用傳統的 storyboard &amp; view controller 開發 App。</p><figure name="7570" id="7570" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*lW74PQF7t8iCuykFMSZCVQ.jpeg" data-width="2504" data-height="1378" src="https://cdn-images-1.medium.com/max/800/1*lW74PQF7t8iCuykFMSZCVQ.jpeg"></figure><p name="8f82" id="8f82" class="graf graf--p graf-after--figure">當我們從程式修改畫面或想測試 App 功能時，原本只能執行 App 才能操作和看到程式修改的畫面。加上 preview 功能後，我們可以直接從 preview 預覽和操作 App 畫面。</p><figure name="8dcb" id="8dcb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*nrpb5f9nooZZ54dqSPCqlw.jpeg" data-width="824" data-height="1414" src="https://cdn-images-1.medium.com/max/800/1*nrpb5f9nooZZ54dqSPCqlw.jpeg"></figure><ul class="postList"><li name="6908" id="6908" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">設定 controller 的 Storyboard ID。</strong></li></ul><p name="6c92" id="6c92" class="graf graf--p graf-after--li">待會我們將從程式生成 controller，因此要先設定它的 Storyboard ID。</p><figure name="9f1e" id="9f1e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_zI7ETq1ky8ByT8JjpTUhg.jpeg" data-width="954" data-height="904" src="https://cdn-images-1.medium.com/max/800/1*_zI7ETq1ky8ByT8JjpTUhg.jpeg"></figure><ul class="postList"><li name="5125" id="5125" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">定義型別 ViewControllerView，遵從 protocol UIViewControllerRepresentable。</strong></li></ul><pre name="26a4" id="26a4" class="graf graf--pre graf-after--li">import SwiftUI</pre><pre name="af3e" id="af3e" class="graf graf--pre graf-after--pre">struct ViewControllerPreviews: UIViewControllerRepresentable {<br>    func makeUIViewController(context: Context) -&gt; ViewController {<br>         UIStoryboard(name: &quot;Main&quot;, bundle: nil).instantiateViewController(identifier: &quot;ViewController&quot;) as! ViewController<br>    }<br>    <br>    func updateUIViewController(_ uiViewController: ViewController, context: Context) {<br>    }<br>    <br>    typealias UIViewControllerType = ViewController</pre><pre name="08a3" id="08a3" class="graf graf--pre graf-after--pre">}</pre><p name="e7de" id="e7de" class="graf graf--p graf-after--pre">說明:</p><pre name="95ae" id="95ae" class="graf graf--pre graf-after--p">func makeUIViewController(context: Context) -&gt; ViewController {<br>        <br>       <strong class="markup--strong markup--pre-strong">UIStoryboard(name: &quot;Main&quot;, bundle: nil).instantiateViewController(identifier: &quot;ViewController&quot;) as! ViewController</strong></pre><pre name="2c28" id="2c28" class="graf graf--pre graf-after--pre">}    </pre><p name="b786" id="b786" class="graf graf--p graf-after--pre">利用 storyboard 的 <code class="markup--code markup--p-code">instantiateViewController(withIdentifier:)</code> 生成 controller，傳入 controller 的 ID 指定想生成的 controller。(記得要在 storyboard 裡 controller 的 Storyboard ID 欄位設定 controller 的 ID)</p><ul class="postList"><li name="c8ea" id="c8ea" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">定義預覽 ViewControllerView 的 preview 型別。</strong></li></ul><pre name="e842" id="e842" class="graf graf--pre graf-after--li">struct ViewControllerView_Previews: PreviewProvider {<br>    static var previews: some View {<br><strong class="markup--strong markup--pre-strong">        ViewControllerView()<br></strong>    }<br>}</pre><p name="cc42" id="cc42" class="graf graf--p graf-after--pre">新版的 Xcode (11.4) 可以點選 Create Preview，自動產生 preview 的相關程式，使用舊版的朋友請稍微辛苦點，自己輸入程式碼。</p><figure name="3e16" id="3e16" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*US-_YZIAii-YJehwwKPJBw.jpeg" data-width="2368" data-height="1378" src="https://cdn-images-1.medium.com/max/800/1*US-_YZIAii-YJehwwKPJBw.jpeg"></figure><div name="6cc8" id="6cc8" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/xcode-11-4-%E7%9A%84-swiftui-create-preview-5c8148d1cf75" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/xcode-11-4-%E7%9A%84-swiftui-create-preview-5c8148d1cf75" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/xcode-11-4-%E7%9A%84-swiftui-create-preview-5c8148d1cf75"><strong class="markup--strong markup--mixtapeEmbed-strong">Xcode 11.4 的 SwiftUI Create Preview</strong><br><em class="markup--em markup--mixtapeEmbed-em">Xcode 11.4 多了一個方便的 SwiftUI Create Preview 功能，幫我們自動生成顯示 preview 畫面的型別。接下來就讓我們看看如何操作吧。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/xcode-11-4-%E7%9A%84-swiftui-create-preview-5c8148d1cf75" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c13b10381836f3a6549f42124c2ea7e4" data-thumbnail-img-id="1*ucYZ32j5N5AGZIxKAkWkaw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*ucYZ32j5N5AGZIxKAkWkaw.jpeg);"></a></div><p name="ad50" id="ad50" class="graf graf--p graf-after--mixtapeEmbed">為了將 struct ViewControllerView 生成的 SwiftUI view 顯示在 preview，我們必須遵從 protocol PreviewProvider，然後宣告它的 static 變數 previews，回傳預覽要顯示的 SwiftUI view，在此我們回傳 <code class="markup--code markup--p-code">ViewControllerPreviews()</code>。</p><p name="e949" id="e949" class="graf graf--p graf-after--p">大功告成 ! 如下圖所示，preview 畫面順利地現身，顯示著透過 storyboard &amp; 程式設計的 view controller 畫面。</p><figure name="7f84" id="7f84" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*sN1m9ZGAtbJdgQXX8O7wWA.jpeg" data-width="2412" data-height="1262" src="https://cdn-images-1.medium.com/max/800/1*sN1m9ZGAtbJdgQXX8O7wWA.jpeg"></figure><h3 name="36c4" id="36c4" class="graf graf--h3 graf-after--figure">修改 controller 程式，感受 preview 即時更新的快感</h3><p name="1a03" id="1a03" class="graf graf--p graf-after--h3">為了在修改 controller 程式時即時看到 ViewControllerView 的 preview 畫面，我們必須先點選 preview 左下角的 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">Pin Preview</strong></code> 按鈕，讓它固定在右邊。</p><figure name="45ac" id="45ac" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*aUGZokEQlMWonEEBzUpm6A.jpeg" data-width="2240" data-height="1174" src="https://cdn-images-1.medium.com/max/800/1*aUGZokEQlMWonEEBzUpm6A.jpeg"></figure><figure name="2edb" id="2edb" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*swb-gMPdzr0gzXFM-M5bLQ.jpeg" data-width="724" data-height="1052" src="https://cdn-images-1.medium.com/max/800/1*swb-gMPdzr0gzXFM-M5bLQ.jpeg"></figure><p name="1808" id="1808" class="graf graf--p graf-after--figure">接著當我們切換到 ViewController 時，彼得潘的 preview 畫面仍然會在右邊陪伴我們，不會離我們而去。</p><figure name="e758" id="e758" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gnVnUOr-_k18eaxO4oV9sA.jpeg" data-width="2000" data-height="1116" src="https://cdn-images-1.medium.com/max/800/1*gnVnUOr-_k18eaxO4oV9sA.jpeg"></figure><p name="01a8" id="01a8" class="graf graf--p graf-after--figure">修改 viewDidLoad，在畫面上加入顯示 Peter 名字的 label，並將左邊紅色 slider 的 thumb 改成顯示可愛的 Peter icon。</p><pre name="4219" id="4219" class="graf graf--pre graf-after--p">override func viewDidLoad() {<br>         super.viewDidLoad()</pre><pre name="2ea2" id="2ea2" class="graf graf--pre graf-after--pre">       <strong class="markup--strong markup--pre-strong">  greenASlider.setThumbImage(UIImage(named: &quot;peter&quot;), for: .normal)<br>         let label = UILabel()<br>         label.text = &quot;Peter&quot;<br>         label.font = UIFont.systemFont(ofSize: 50)<br>         label.textColor = .white<br>         label.sizeToFit()<br>         view.addSubview(label)</strong></pre><pre name="39d8" id="39d8" class="graf graf--pre graf-after--pre">}</pre><p name="27c8" id="27c8" class="graf graf--p graf-after--pre">Cool，在我們輸入程式的同時，右邊的 preview 畫面也即時更新。</p><figure name="8773" id="8773" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Q_d0EQtJ3sMXsg29Iu9YPw.jpeg" data-width="688" data-height="1232" src="https://cdn-images-1.medium.com/max/800/1*Q_d0EQtJ3sMXsg29Iu9YPw.jpeg"></figure><p name="ee43" id="ee43" class="graf graf--p graf-after--figure">值得注意的，當 preview 預覽 controller 畫面時，它的 viewDidLoad &amp; viewWillAppear 都會執行，因此它們對畫面做的修改都可在 preview 看到。但是 viewDidAppear 不會執行，它要等到點選三角形執行 Live Preview 才會執行。</p><h3 name="078c" id="078c" class="graf graf--h3 graf-after--p">從 Live Preview 操作 App</h3><p name="5dec" id="5dec" class="graf graf--p graf-after--h3">我們也可以點選 preview 畫面右下角的三角形啟動 Live Preview，將預覽畫面變成可操作互動的 App。</p><figure name="0594" id="0594" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*h15tSqgz56iSdFsna7NmIw.jpeg" data-width="734" data-height="300" src="https://cdn-images-1.medium.com/max/800/1*h15tSqgz56iSdFsna7NmIw.jpeg"></figure><p name="5bfc" id="5bfc" class="graf graf--p graf-after--figure">不用啟動 App，從 live preview 一樣可操作測試 controller 的功能。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="5e7b" id="5e7b" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 51.082%;"><img class="graf-image" data-image-id="1*iN0vRx4CgUAafLq5cbw-0A.jpeg" data-width="722" data-height="1224" src="https://cdn-images-1.medium.com/max/800/1*iN0vRx4CgUAafLq5cbw-0A.jpeg"></figure><figure name="1b49" id="1b49" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 48.918%;"><img class="graf-image" data-image-id="1*SmPoFffY03sWHUJTHskYOQ.jpeg" data-width="694" data-height="1228" src="https://cdn-images-1.medium.com/max/600/1*SmPoFffY03sWHUJTHskYOQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="4977" id="4977" class="graf graf--p graf-after--figure">修改程式後，Live Preview 也會聰明地自動更新。比方我們將 label 的文字從 Peter 改成 Peter Pan，Live Preview 也會立即更新。</p><figure name="16fe" id="16fe" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*R9BTbFtow1OIVJ6641ybHA.jpeg" data-width="2220" data-height="1234" src="https://cdn-images-1.medium.com/max/800/1*R9BTbFtow1OIVJ6641ybHA.jpeg"></figure><h3 name="f5a4" id="f5a4" class="graf graf--h3 graf-after--figure">支援 iOS 13 之前的程式</h3><p name="64aa" id="64aa" class="graf graf--p graf-after--h3">preview 功能很方便，可惜它不支援 iOS 13 之前的程式。比方當 App 的 Development Target 設為 12.0 時，剛剛的 ViewControllerPreviews 將產生一堆紅色錯誤。</p><figure name="a272" id="a272" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*4zt0GMc5h1zuNiR_MjJPvw.jpeg" data-width="1236" data-height="742" src="https://cdn-images-1.medium.com/max/800/1*4zt0GMc5h1zuNiR_MjJPvw.jpeg"></figure><p name="ee44" id="ee44" class="graf graf--p graf-after--figure">解決的方法很簡單，我們只要在 struct ViewControllerView &amp; ViewControllerView_Previews 之前加上 <code class="markup--code markup--p-code u-paddingRight0 u-marginRight0"><a href="http://twitter.com/available" data-href="http://twitter.com/available" class="markup--anchor markup--p-anchor" title="Twitter profile for @available" rel="noopener" target="_blank">@available</a>(iOS 13.0.0, *)</code>，即可讓 preview 的程式只在 iOS 13 以上的環境執行。</p><figure name="0ef8" id="0ef8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*qPT4WsUjHLIscv3Nv8wm0Q.jpeg" data-width="1276" data-height="436" src="https://cdn-images-1.medium.com/max/800/1*qPT4WsUjHLIscv3Nv8wm0Q.jpeg"></figure><h3 name="d405" id="d405" class="graf graf--h3 graf-after--figure">預覽 controller 時指定假資料</h3><p name="559a" id="559a" class="graf graf--p graf-after--h3">當 controller 的畫面內容來自前一頁時，我們必須在產生 preview 要預覽的 controller 畫面時給它假資料，否則將產生問題，例如以下 Shiny 同學的咖啡廳 App 例子。</p><div name="e30e" id="e30e" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%B8%96%E7%95%8C%E5%89%8D%E5%8D%81%E7%BE%8E%E7%9A%84%E5%92%96%E5%95%A1%E5%BB%B3%E4%B9%8B%E5%B8%83%E9%81%94%E4%BD%A9%E6%96%AF-%E7%B6%AD%E4%B9%9F%E7%B4%8D-%E5%B8%83%E6%8B%89%E6%A0%BC-bf402993f380" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%B8%96%E7%95%8C%E5%89%8D%E5%8D%81%E7%BE%8E%E7%9A%84%E5%92%96%E5%95%A1%E5%BB%B3%E4%B9%8B%E5%B8%83%E9%81%94%E4%BD%A9%E6%96%AF-%E7%B6%AD%E4%B9%9F%E7%B4%8D-%E5%B8%83%E6%8B%89%E6%A0%BC-bf402993f380" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%B8%96%E7%95%8C%E5%89%8D%E5%8D%81%E7%BE%8E%E7%9A%84%E5%92%96%E5%95%A1%E5%BB%B3%E4%B9%8B%E5%B8%83%E9%81%94%E4%BD%A9%E6%96%AF-%E7%B6%AD%E4%B9%9F%E7%B4%8D-%E5%B8%83%E6%8B%89%E6%A0%BC-bf402993f380"><strong class="markup--strong markup--mixtapeEmbed-strong">世界前十美的咖啡廳之布達佩斯、維也納、布拉格</strong><br><em class="markup--em markup--mixtapeEmbed-em">先用跟上課教的示範差不多的架構來讓印象加深一點。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%B8%96%E7%95%8C%E5%89%8D%E5%8D%81%E7%BE%8E%E7%9A%84%E5%92%96%E5%95%A1%E5%BB%B3%E4%B9%8B%E5%B8%83%E9%81%94%E4%BD%A9%E6%96%AF-%E7%B6%AD%E4%B9%9F%E7%B4%8D-%E5%B8%83%E6%8B%89%E6%A0%BC-bf402993f380" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bf645c9d89645cffb3162f215aab6804" data-thumbnail-img-id="1*8dsmNtys116b1f1eVbmhjw.gif" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*8dsmNtys116b1f1eVbmhjw.gif);"></a></div><p name="6827" id="6827" class="graf graf--p graf-after--mixtapeEmbed">如下圖所示，CafeViewController 依據前一頁選擇的咖啡廳決定顯示的內容。我們先將它的 Storyboard ID 取名為 CafeViewController。</p><figure name="ebc0" id="ebc0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*D3xg6KzWOPTOE0XZFg4Kag.jpeg" data-width="1338" data-height="740" src="https://cdn-images-1.medium.com/max/800/1*D3xg6KzWOPTOE0XZFg4Kag.jpeg"></figure><p name="1907" id="1907" class="graf graf--p graf-after--figure">接著我們定義它的 SwiftUI view 型別 CafeViewControllerView &amp; preview 型別 CafeViewControllerView_Previews。</p><pre name="8882" id="8882" class="graf graf--pre graf-after--p">import SwiftUI</pre><pre name="401f" id="401f" class="graf graf--pre graf-after--pre"><a href="http://twitter.com/available" data-href="http://twitter.com/available" class="markup--anchor markup--pre-anchor" title="Twitter profile for @available" rel="noopener" target="_blank">@available</a>(iOS 13.0.0, *)<br>struct CafeViewControllerView: UIViewControllerRepresentable {<br>    <br>    <br>    func makeUIViewController(context: Context) -&gt; CafeViewController {<br>        UIStoryboard(name: &quot;Main&quot;, bundle: nil).instantiateViewController(identifier: &quot;CafeViewController&quot;) as! CafeViewController<br>        <br>    }<br>    <br>    func updateUIViewController(_ uiViewController: CafeViewController, context: Context) {<br>        <br>    }<br>    <br>    typealias UIViewControllerType = CafeViewController<br>    <br>    <br>}</pre><pre name="b4df" id="b4df" class="graf graf--pre graf-after--pre"><a href="http://twitter.com/available" data-href="http://twitter.com/available" class="markup--anchor markup--pre-anchor" title="Twitter profile for @available" rel="noopener" target="_blank">@available</a>(iOS 13.0.0, *)<br>struct CafeViewControllerView_Previews: PreviewProvider {<br>    static var previews: some View {<br>        CafeViewControllerView()<br>    }<br>}</pre><p name="5805" id="5805" class="graf graf--p graf-after--pre">令人難過的，此時預覽將無法顯示，點選右上角的 Diagnostics 還告訴我們 App 可能閃退了。</p><figure name="1f39" id="1f39" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*R8r1AvggRvUcnC8hE6OyLg.jpeg" data-width="1080" data-height="1188" src="https://cdn-images-1.medium.com/max/800/1*R8r1AvggRvUcnC8hE6OyLg.jpeg"></figure><figure name="cb0c" id="cb0c" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*SdGqyA1mnc7Bw3O4Wzo-1w.jpeg" data-width="1822" data-height="1068" src="https://cdn-images-1.medium.com/max/800/1*SdGqyA1mnc7Bw3O4Wzo-1w.jpeg"></figure><p name="9c96" id="9c96" class="graf graf--p graf-after--figure">沒錯，preview 也可能閃退。讓我們看一下 CafeViewController 的程式，原來它的內容來自 property cafe。由於它的型別是 cafeDetail!，當我們讀不到 cafe.location 時將造成 App 閃退。</p><pre name="daea" id="daea" class="graf graf--pre graf-after--p">class CafeViewController: UIViewController {</pre><pre name="a6af" id="a6af" class="graf graf--pre graf-after--pre"><a href="http://twitter.com/IBOutlet" data-href="http://twitter.com/IBOutlet" class="markup--anchor markup--pre-anchor" title="Twitter profile for @IBOutlet" rel="noopener" target="_blank">@IBOutlet</a> weak var locationLabel: UILabel!<br>    <a href="http://twitter.com/IBOutlet" data-href="http://twitter.com/IBOutlet" class="markup--anchor markup--pre-anchor" title="Twitter profile for @IBOutlet" rel="noopener" target="_blank">@IBOutlet</a> weak var rankingLabel: UILabel!<br>    <a href="http://twitter.com/IBOutlet" data-href="http://twitter.com/IBOutlet" class="markup--anchor markup--pre-anchor" title="Twitter profile for @IBOutlet" rel="noopener" target="_blank">@IBOutlet</a> weak var outsideImageView: UIImageView!<br>    <a href="http://twitter.com/IBOutlet" data-href="http://twitter.com/IBOutlet" class="markup--anchor markup--pre-anchor" title="Twitter profile for @IBOutlet" rel="noopener" target="_blank">@IBOutlet</a> weak var insideImageView: UIImageView!<br>    <a href="http://twitter.com/IBOutlet" data-href="http://twitter.com/IBOutlet" class="markup--anchor markup--pre-anchor" title="Twitter profile for @IBOutlet" rel="noopener" target="_blank">@IBOutlet</a> weak var introTaxtView: UITextView!<br>    <br>   <strong class="markup--strong markup--pre-strong"> var cafe: cafeDetail!</strong><br>    <br>    override func viewDidLoad() {<br>        super.viewDidLoad()</pre><pre name="d5c0" id="d5c0" class="graf graf--pre graf-after--pre">// Do any additional setup after loading the view.<br>        <br>        <strong class="markup--strong markup--pre-strong">locationLabel.text = cafe.location</strong><br>        rankingLabel.text = cafe.ranking<br>        outsideImageView.image = UIImage(named: cafe.outsideImage)<br>        insideImageView.image = UIImage(named: cafe.insideImage)<br>        introTaxtView.text = cafe.intro<br>        <br>        <br>    }</pre><p name="95e6" id="95e6" class="graf graf--p graf-after--pre">因此我們在 preview 生成 CafeViewController 時要給它咖啡廳的資料。</p><pre name="2d7c" id="2d7c" class="graf graf--pre graf-after--p">func makeUIViewController(context: Context) -&gt; CafeViewController {<br>        let controller = UIStoryboard(name: &quot;Main&quot;, bundle: nil).instantiateViewController(identifier: &quot;CafeViewController&quot;) as! CafeViewController<br>    <strong class="markup--strong markup--pre-strong">    controller.cafe = cafeDetail(intro: &quot;咖啡館開張於1894年，因位於當時的紐約保險公司大樓內而得名。據說在一次大戰時期此處即為布達佩斯的文藝中心，許多出版社雜誌社在此設立辦公室，雖然內部裝潢華麗輝煌卻絲毫不以勢壓人，非常樂於提供窮作家們在此寫作及聚會。&quot;, location: &quot;布達佩斯&quot;, ranking: &quot;第一名&quot;, outsideImage: &quot;CaféNewYorkOutside&quot;, insideImage: &quot;CaféNewYorkInside&quot;)</strong><br>        return controller<br>        <br>}</pre><p name="5938" id="5938" class="graf graf--p graf-after--pre">指定咖啡廳資料後，preview 順利地出現美麗的布達佩斯紐約咖啡館。</p><figure name="b5a1" id="b5a1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2nCdF304oyyGVmAYRAqL1A.jpeg" data-width="650" data-height="1140" src="https://cdn-images-1.medium.com/max/800/1*2nCdF304oyyGVmAYRAqL1A.jpeg"></figure><h3 name="38f3" id="38f3" class="graf graf--h3 graf-after--figure">預覽從網路抓資料的 controller 畫面</h3><p name="0efa" id="0efa" class="graf graf--p graf-after--h3">當 controller 的內容來自網路時，有時 preview 只能看到部分內容，或是完全看不到內容，要從 live preview 執行程式後才能看到。</p><p name="d0db" id="d0db" class="graf graf--p graf-after--p">比方以下的 preview 畫面顯示 SongTableViewController，而 SongTableViewController 從 iTunes API 抓取周杰倫的音樂。在 preview 時它已經抓到 JSON，所以可以顯示歌名，但圖片卻要在 live preview 時才能顯示。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="6836" id="6836" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 49.657%;"><img class="graf-image" data-image-id="1*4b6pNB1cp4ie2nm1IhJMHw.jpeg" data-width="664" data-height="1146" src="https://cdn-images-1.medium.com/max/600/1*4b6pNB1cp4ie2nm1IhJMHw.jpeg"></figure><figure name="37f6" id="37f6" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50.343%;"><img class="graf-image" data-image-id="1*WQmI-moLlsDPzXiUTBDE-A.jpeg" data-width="650" data-height="1108" src="https://cdn-images-1.medium.com/max/800/1*WQmI-moLlsDPzXiUTBDE-A.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="10f9" id="10f9" class="graf graf--p graf-after--figure">通常預覽從網路抓資料的 controller 畫面時，我們會直接搭配假資料，比方讀取 App 裡的 JSON 檔，讓它更方便測試，不須連網路也能看到畫面。</p><h3 name="c76b" id="c76b" class="graf graf--h3 graf-after--p">預覽 xib 或程式設計的 controller 畫面</h3><p name="c2f6" id="c2f6" class="graf graf--p graf-after--h3">我們不只能預覽 storyboard 設計的畫面，也可以預覽以 xib 或從程式設計的 controller 畫面，只要我們在 function makeUIViewController(context:) 回傳想變成 SwiftUI view 的 controller。</p><ul class="postList"><li name="76d6" id="76d6" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">從 xib 設計的畫面</strong></li></ul><pre name="c7ac" id="c7ac" class="graf graf--pre graf-after--li">func makeUIViewController(context: Context) -&gt; ViewController {<br>        <br>       ViewController(nibName: &quot;ViewController&quot;, bundle: nil)</pre><pre name="3f7d" id="3f7d" class="graf graf--pre graf-after--pre">}</pre><ul class="postList"><li name="d67c" id="d67c" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">從程式設計的 controller 畫面</strong></li></ul><p name="91a1" id="91a1" class="graf graf--p graf-after--li">Sean 大大的課程範例完全從程式手刻畫面，寫程式的過程中只能辛苦地想像畫面，必須將 App 裝到模擬器才能看到畫面的模樣，</p><div name="d91e" id="d91e" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://seanallen.teachable.com/courses/enrolled/681906" data-href="https://seanallen.teachable.com/courses/enrolled/681906" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://seanallen.teachable.com/courses/enrolled/681906"><strong class="markup--strong markup--mixtapeEmbed-strong">iOS Dev Job Interview Practice</strong><br><em class="markup--em markup--mixtapeEmbed-em">Show All Lectures During the presale period I will release a couple videos per day (with a day off here and there)…</em>seanallen.teachable.com</a><a href="https://seanallen.teachable.com/courses/enrolled/681906" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="76a919ee8ea0bf39fc201fa553beb52b" data-thumbnail-img-id="0*8RD_C_dnSw9t4AxD" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*8RD_C_dnSw9t4AxD);"></a></div><figure name="4ba8" id="4ba8" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*v32JRAXSxw85FqYsmwzpag.jpeg" data-width="1924" data-height="1192" src="https://cdn-images-1.medium.com/max/800/1*v32JRAXSxw85FqYsmwzpag.jpeg"></figure><p name="6606" id="6606" class="graf graf--p graf-after--figure">有了 SwiftUI preview，我們不用啟動模擬器就能預覽畫面，而且修改程式時還能即時看到畫面更新呢。</p><pre name="1d6a" id="1d6a" class="graf graf--pre graf-after--p">import SwiftUI</pre><pre name="ad2f" id="ad2f" class="graf graf--pre graf-after--pre">struct SearchVCView: UIViewControllerRepresentable {<br>    func makeUIViewController(context: Context) -&gt; SearchVC {<br>        SearchVC()<br>    }<br>    <br>    func updateUIViewController(_ uiViewController: SearchVC, context: Context) {<br>        <br>    }<br>    <br>    typealias UIViewControllerType = SearchVC<br>    <br>}</pre><pre name="1c9c" id="1c9c" class="graf graf--pre graf-after--pre">struct SearchVCView_Previews: PreviewProvider {<br>    static var previews: some View {<br>        SearchVCView()<br>    }<br>}</pre><figure name="d6f1" id="d6f1" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*L-lkW9ehM395G4weloRIbA.jpeg" data-width="646" data-height="1112" src="https://cdn-images-1.medium.com/max/800/1*L-lkW9ehM395G4weloRIbA.jpeg"></figure><p name="be1b" id="be1b" class="graf graf--p graf-after--figure">比方將 button 顏色從綠色變成黃色。</p><figure name="63d7" id="63d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rR6FodxxrhrjP9VvzBFMsA.jpeg" data-width="1906" data-height="1114" src="https://cdn-images-1.medium.com/max/800/1*rR6FodxxrhrjP9VvzBFMsA.jpeg"></figure><h3 name="aeff" id="aeff" class="graf graf--h3 graf-after--figure">預覽 UIKit view</h3><p name="b64c" id="b64c" class="graf graf--p graf-after--h3">利用 UIViewRepresentable<strong class="markup--strong markup--p-strong"> </strong>將 UIKit view 變成 SwiftUI 的 view，我們也可以預覽 xib 或程式設計的 UIKit view。</p><p name="7f1f" id="7f1f" class="graf graf--p graf-after--p">以下我們以 Sean 大大課程的 FavoriteCell 為例說明。</p><figure name="3cfd" id="3cfd" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*e-d_4Omhn2XTxDXOwPF07g.jpeg" data-width="1672" data-height="1226" src="https://cdn-images-1.medium.com/max/800/1*e-d_4Omhn2XTxDXOwPF07g.jpeg"></figure><p name="4808" id="4808" class="graf graf--p graf-after--figure">定義型別 FavoriteCellView，遵從 protocol UIViewRepresentable，然後定義預覽 FavoriteCellView 的 preview 型別。</p><pre name="e0fe" id="e0fe" class="graf graf--pre graf-after--p">import SwiftUI</pre><pre name="e083" id="e083" class="graf graf--pre graf-after--pre">struct FavoriteCellView: UIViewRepresentable {<br>    func makeUIView(context: Context) -&gt; FavoriteCell {<br>        let cell = FavoriteCell(frame: .zero)<br>        cell.set(favorite: Follower(login: &quot;Peter&quot;, avatarUrl: &quot;<a href="https://avatars2.githubusercontent.com/u/5902131?s=460&amp;v=4" data-href="https://avatars2.githubusercontent.com/u/5902131?s=460&amp;v=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://avatars2.githubusercontent.com/u/5902131?s=460&amp;v=4</a>&quot;))<br>        return cell</pre><pre name="47bb" id="47bb" class="graf graf--pre graf-after--pre">}<br>    <br>    func updateUIView(_ uiView: FavoriteCell, context: Context) {<br>    }<br>    <br>    typealias UIViewType = FavoriteCell<br>    <br>    <br>}</pre><pre name="c3fc" id="c3fc" class="graf graf--pre graf-after--pre">struct FavoriteCellView_Previews: PreviewProvider {<br>    static var previews: some View {<br>        FavoriteCellView()<br>            .previewLayout(.fixed(width: 375, height: 80))<br>    }<br>}</pre><figure name="2da9" id="2da9" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*bsqlkVf7mTdDA6rjkmQ0oQ.jpeg" data-width="720" data-height="312" src="https://cdn-images-1.medium.com/max/800/1*bsqlkVf7mTdDA6rjkmQ0oQ.jpeg"></figure><h3 name="9ee4" id="9ee4" class="graf graf--h3 graf-after--figure">建立 Xcode 的 file template</h3><p name="e3a3" id="e3a3" class="graf graf--p graf-after--h3">將 view controller 變成 SwiftUI preview 實在是個很方便的功能，有興趣的朋友也可以參考以下 Xcode file template 的說明，透過 template 自動生成 controller 的 SwiftUI preview。</p><div name="726b" id="726b" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84-file-template-%E4%BB%A5-swiftui-controller-preview-%E7%82%BA%E4%BE%8B-78e5f78d4b72" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84-file-template-%E4%BB%A5-swiftui-controller-preview-%E7%82%BA%E4%BE%8B-78e5f78d4b72" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84-file-template-%E4%BB%A5-swiftui-controller-preview-%E7%82%BA%E4%BE%8B-78e5f78d4b72"><strong class="markup--strong markup--mixtapeEmbed-strong">建立 Xcode 的 file template，以 SwiftUI controller preview 為例</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們可以從File &gt; New &gt;File 裡選擇 Xcode 事先幫我們設計好的檔案，加快程式的開發速度。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-xcode-%E7%9A%84-file-template-%E4%BB%A5-swiftui-controller-preview-%E7%82%BA%E4%BE%8B-78e5f78d4b72" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="cf701084505b8e078adfa7d5dcb85fa2" data-thumbnail-img-id="1*4O62i0jEl822mpZUN1i1gw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*4O62i0jEl822mpZUN1i1gw.jpeg);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/314a2e2f0c0f"><time class="dt-published" datetime="2020-01-19T16:31:14.439Z">January 19, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%AE%93-view-controller-%E4%B9%9F%E8%83%BD%E4%BA%AB%E7%94%A8-swiftui-%E6%96%B9%E4%BE%BF%E7%9A%84-preview-314a2e2f0c0f" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>