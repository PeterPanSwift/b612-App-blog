<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>iOS 的選單(menu)按鈕 — Pull Down Button &amp; Pop Up Button</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">iOS 的選單(menu)按鈕 — Pull Down Button &amp; Pop Up Button</h1>
</header>
<section data-field="subtitle" class="p-summary">
從 iOS 14 開始，我們可以更方便地製作選單按鈕，呈現類似下拉式選單的效果。
</section>
<section data-field="body" class="e-content">
<section name="5d36" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="71b5" id="71b5" class="graf graf--h3 graf--leading graf--title">iOS 的選單(menu)按鈕 — Pull Down Button &amp; Pop Up Button</h3><p name="c0e8" id="c0e8" class="graf graf--p graf-after--h3">從 iOS 14 開始，我們可以更方便地製作選單按鈕，呈現類似下拉式選單的效果。</p><p name="ff72" id="ff72" class="graf graf--p graf-after--p">接下來我們將介紹兩種選單(menu)按鈕的實現方法。</p><ul class="postList"><li name="4c44" id="4c44" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Pull Down Button</strong></li></ul><p name="b681" id="b681" class="graf graf--p graf-after--li">點選按紐後將顯示選單，列出使用者可選擇的選項。</p><figure name="c6c7" id="c6c7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*YDKDxQxp2ARPR8pteu1uog.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*YDKDxQxp2ARPR8pteu1uog.png"></figure><ul class="postList"><li name="ac03" id="ac03" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Pop Up Button</strong></li></ul><p name="a775" id="a775" class="graf graf--p graf-after--li">按鈕的標題顯示選單裡被選到的選項，被選到的選項將打勾(單選)。</p><figure name="1794" id="1794" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TCSK73QS1JgRWWrBBCwkaQ.png" data-width="1170" data-height="2532" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*TCSK73QS1JgRWWrBBCwkaQ.png"></figure><h3 name="6b29" id="6b29" class="graf graf--h3 graf-after--figure">點選後顯示選單的 Pull Down Button</h3><p name="510f" id="510f" class="graf graf--p graf-after--h3">將 UIButton 的 showsMenuAsPrimaryAction 設為 true，利用 UIMenu 製作選單，每個選項由 UIAction 產生。由於 UIButton 在 iOS 14 才有 property showsMenuAsPrimaryAction &amp; menu，因此以下程式只支援 iOS 14 以上的版本。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="a555" id="a555" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <br />        <span class="hljs-keyword">let</span> button <span class="hljs-operator">=</span> <span class="hljs-type">UIButton</span>(type: .system)<br />        button.frame <span class="hljs-operator">=</span> <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>, width: <span class="hljs-number">100</span>, height: <span class="hljs-number">100</span>)<br />        button.setTitle(<span class="hljs-string">&quot;Edit&quot;</span>, for: .normal)<br />        view.addSubview(button)<br />        button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select Messages&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select Messages&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Pins&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Pins&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Name and Photo&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Name and Photo&quot;</span>)<br />            })<br />        ])<br />   }<br />}</span></pre><p name="7f63" id="7f63" class="graf graf--p graf-after--pre">點選 button 後將顯示選單，點選某個選項或是空白處都可關閉選單。</p><figure name="909d" id="909d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*y4C83w1Pxzu8ac-QZSmX0w.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*y4C83w1Pxzu8ac-QZSmX0w.png"></figure><h3 name="c30c" id="c30c" class="graf graf--h3 graf-after--figure">menu 出現的位置跟順序</h3><p name="8629" id="8629" class="graf graf--p graf-after--h3">依據 button 在畫面上的位置，menu 出現的位置跟順序也會有所不同。</p><ul class="postList"><li name="56cd" id="56cd" class="graf graf--li graf-after--p">當 button 比較靠上面，點選 button 時選單將出現在 button 下方，選項的順序則跟 UIAction array 的順序一致。</li></ul><figure name="8774" id="8774" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*y4C83w1Pxzu8ac-QZSmX0w.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*y4C83w1Pxzu8ac-QZSmX0w.png"></figure><ul class="postList"><li name="5a5e" id="5a5e" class="graf graf--li graf-after--figure">當 button 比較靠下面，點選 button 時選單將出現在 button 上方，選項的順序則跟 UIAction array 的順序相反。</li></ul><figure name="3fc5" id="3fc5" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*7aDdjENvsf0yJOvI9GyF9A.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*7aDdjENvsf0yJOvI9GyF9A.png"></figure><h3 name="ed8f" id="ed8f" class="graf graf--h3 graf-after--figure">包含圖片跟文字的 menu</h3><p name="6c2c" id="6c2c" class="graf graf--p graf-after--h3">menu 的選單除了文字，也可以透過 UIAction 的 image 參數加入圖片。</p><ul class="postList"><li name="c1db" id="c1db" class="graf graf--li graf-after--p">顯示 SF Symbol 的圖片。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="301e" id="301e" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select Messages&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;checkmark.circle&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select Messages&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Pins&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;pin&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Pins&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Name and Photo&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;person.crop.circle&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Name and Photo&quot;</span>)<br />    })<br />])</span></pre><figure name="cc64" id="cc64" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*G4emjLKnojCYPG2p2yoURw.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*G4emjLKnojCYPG2p2yoURw.png"></figure><ul class="postList"><li name="0cfb" id="0cfb" class="graf graf--li graf-after--figure">顯示 Assets 的彩色圖片。</li></ul><p name="1376" id="1376" class="graf graf--p graf-after--li">asset 的圖片將自動縮小，不需要另外調整。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7cb3" id="7cb3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select Messages&quot;</span>, image: <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;peter&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select Messages&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Pins&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;pin&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Pins&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Name and Photo&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;person.crop.circle&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Name and Photo&quot;</span>)<br />    })<br />])</span></pre><figure name="9dc4" id="9dc4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*H5m-72KJd5hQOig_Sru6jA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*H5m-72KJd5hQOig_Sru6jA.png"></figure><h3 name="477f" id="477f" class="graf graf--h3 graf-after--figure">menu 裡有 menu</h3><p name="864c" id="864c" class="graf graf--p graf-after--h3">如果選項很多，我們也可以在 menu 裡再加入另一層 menu。以下例子裡參數 children array 的前兩個是 UIAction，第三個是第二層的 menu。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1414" id="1414" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select Messages&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;checkmark.circle&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select Messages&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Pins&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;pin&quot;</span>), handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Pins&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIMenu</span>(title: <span class="hljs-string">&quot;Sort By&quot;</span>, image: <span class="hljs-type">UIImage</span>(systemName: <span class="hljs-string">&quot;arrow.up.arrow.down&quot;</span>), children: [<br />        <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Manual&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Manual&quot;</span>)<br />        }),<br />        <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Due Date&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Due Date&quot;</span>)<br />        })<br />    ])<br />])</span></pre><p name="bf1a" id="bf1a" class="graf graf--p graf-after--pre">點選 Sort By 後將顯示第二層的 menu。</p><figure name="5045" id="5045" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*a9W6o4w75pz5CNhYJ48cgQ.png" data-width="1248" data-height="1302" src="https://cdn-images-1.medium.com/max/800/1*a9W6o4w75pz5CNhYJ48cgQ.png"></figure><h3 name="cbae" id="cbae" class="graf graf--h3 graf-after--figure">將 menu 裡選到的選項打勾</h3><p name="34ad" id="34ad" class="graf graf--p graf-after--h3">產生 UIAction 時，參數 state 傳入 .on 可讓選項打勾。若是想實現只有一個選項能打勾的單選效果，在 iOS 15 跟 14 有不同的做法。</p><ul class="postList"><li name="a5df" id="a5df" class="graf graf--li graf-after--p">iOS 15</li></ul><p name="fa8b" id="fa8b" class="graf graf--p graf-after--li">產生 UIMenu 時在參數 options 傳入 .singleSelection，它會自己記得目前被選到的項目，然後將選到的項目打勾。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="deb2" id="deb2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(options: .singleSelection, children: [<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Manual&quot;</span>, state: .on, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Manual&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Due Date&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Due Date&quot;</span>)<br />    })<br />])</span></pre><figure name="9749" id="9749" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*nI6WXhTkqUeuTc-UKm5a8w.png" data-width="1242" data-height="1306" src="https://cdn-images-1.medium.com/max/800/1*nI6WXhTkqUeuTc-UKm5a8w.png"></figure><ul class="postList"><li name="c678" id="c678" class="graf graf--li graf-after--figure">iOS 14</li></ul><p name="6e08" id="6e08" class="graf graf--p graf-after--li">我們必須自己記錄被選到的項目，然後在 UIAction 裡設定要打勾的選項。</p><h3 name="45d9" id="45d9" class="graf graf--h3 graf-after--p">利用分隔線將 menu 分組</h3><p name="7d7a" id="7d7a" class="graf graf--p graf-after--h3">當選項很多時，我們可以利用 separator 將 menu 分組，讓使用者知道某些選項是相關的項目。分組的方法是在 menu 裡加入 menu，然後讓第一層的 menu 選項跟第二層的 menu 選項同時顯示並用分隔線隔開，如此即可呈現下圖的 menu 分組效果。</p><figure name="aec5" id="aec5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*GOTI_VAStwxbGgYA6wG2og.png" data-width="860" data-height="1108" src="https://cdn-images-1.medium.com/max/800/1*GOTI_VAStwxbGgYA6wG2og.png"></figure><p name="dfe7" id="dfe7" class="graf graf--p graf-after--figure">以下程式產生第二層 menu 時參數 options 傳入 .displayInline，它將讓第一層的 menu 選項跟第二層的 menu 選項同時顯示並用分隔線隔開。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9014" id="9014" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;New Folder&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;New Folder&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Scan Documents&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Scan Documents&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Connect to Server&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Connect to Server&quot;</span>)<br />    }),<br />    <span class="hljs-type">UIMenu</span>(options: .displayInline, children: [<br />        <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Icons&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Icons&quot;</span>)<br />        }),<br />        <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;List&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;List&quot;</span>)<br />        })<br />    ])<br />])</span></pre><figure name="5f27" id="5f27" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*vcrpR-aReD_xQBLAawv-4w.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*vcrpR-aReD_xQBLAawv-4w.png"></figure><h3 name="5437" id="5437" class="graf graf--h3 graf-after--figure">Pop Up Button</h3><p name="3ac3" id="3ac3" class="graf graf--p graf-after--h3">除了點選後會顯示選單，Pop Up Button 多了以下功能:</p><ul class="postList"><li name="b952" id="b952" class="graf graf--li graf-after--p">按鈕的標題將顯示選單裡被選到的選項。</li><li name="93ef" id="93ef" class="graf graf--li graf-after--li">只能單選，被選到的選項將打勾。</li><li name="833f" id="833f" class="graf graf--li graf-after--li">自動記得目前被選到的項目。</li></ul><p name="f094" id="f094" class="graf graf--p graf-after--li">以下分別介紹 iOS 15 跟 14 的做法。</p><ul class="postList"><li name="7045" id="7045" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">iOS 15</strong></li></ul><p name="7d08" id="7d08" class="graf graf--p graf-after--li">除了設定 button 的 showsMenuAsPrimaryAction &amp; menu，還要將 changesSelectionAsPrimaryAction 設為 true。changesSelectionAsPrimaryAction 是 iOS 15 才有的 property，因此只支援 15 以上的版本。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="bdca" id="bdca" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <br />        <span class="hljs-keyword">let</span> button <span class="hljs-operator">=</span> <span class="hljs-type">UIButton</span>(type: .system)<br />        button.frame <span class="hljs-operator">=</span> <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>, width: <span class="hljs-number">200</span>, height: <span class="hljs-number">100</span>)<br />        view.addSubview(button)<br />        button.showsMenuAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        button.changesSelectionAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        button.menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;統一7-ELEVEn獅隊&quot;</span>, state: .on, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;統一7-ELEVEn獅隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;中信兄弟隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;中信兄弟隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;樂天桃猿隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;樂天桃猿隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;富邦悍將隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;富邦悍將隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;味全龍隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;味全龍隊&quot;</span>)<br />            })<br />        ])<br />    }<br />}</span></pre><p name="370b" id="370b" class="graf graf--p graf-after--pre">如下圖所示，按鈕的標題隨著我們點選的選項更新。</p><figure name="32cc" id="32cc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*funlQpotV1s1F7_sdwfurw.png" data-width="1234" data-height="1302" src="https://cdn-images-1.medium.com/max/800/1*funlQpotV1s1F7_sdwfurw.png"></figure><ul class="postList"><li name="3860" id="3860" class="graf graf--li graf-after--figure">iOS 14</li></ul><p name="23d0" id="23d0" class="graf graf--p graf-after--li">我們必須自己寫程式實現 Pop Up Button 的功能，在點選選項時更新按鈕的標題。</p><h3 name="3614" id="3614" class="graf graf--h3 graf-after--p">將 menu 加到 UIBarButtonItem</h3><p name="8fa3" id="8fa3" class="graf graf--p graf-after--h3">剛剛的例子我們都是將 menu 加到 UIButton 上，其實它也可以加到 UIBarButtonItem。</p><ul class="postList"><li name="0fe8" id="0fe8" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Pull Down Button</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="4e3d" id="4e3d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <span class="hljs-keyword">let</span> menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Select Messages&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Select Messages&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Pins&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Pins&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;Edit Name and Photo&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Edit Name and Photo&quot;</span>)<br />            })<br />        ])<br />        navigationItem.rightBarButtonItem <span class="hljs-operator">=</span> <span class="hljs-type">UIBarButtonItem</span>(title: <span class="hljs-string">&quot;Edit&quot;</span>, menu: menu)<br />    }<br />}</span></pre><p name="8e02" id="8e02" class="graf graf--p graf-after--pre">記得要搭配 navigation controller，navigationItem 設定的 rightBarButtonItem 才會顯示。</p><figure name="ea4c" id="ea4c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*aSZce56qvFW25n-zUvgbXQ.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*aSZce56qvFW25n-zUvgbXQ.png"></figure><ul class="postList"><li name="f49b" id="f49b" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Pop Up Button</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="411f" id="411f" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <span class="hljs-keyword">let</span> menu <span class="hljs-operator">=</span> <span class="hljs-type">UIMenu</span>(children: [<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;統一7-ELEVEn獅隊&quot;</span>, state: .on, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;統一7-ELEVEn獅隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;中信兄弟隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;中信兄弟隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;樂天桃猿隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;樂天桃猿隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;富邦悍將隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;富邦悍將隊&quot;</span>)<br />            }),<br />            <span class="hljs-type">UIAction</span>(title: <span class="hljs-string">&quot;味全龍隊&quot;</span>, handler: { action <span class="hljs-keyword">in</span><br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;味全龍隊&quot;</span>)<br />            })<br />        ])<br />        <span class="hljs-keyword">let</span> barButtonItem <span class="hljs-operator">=</span> <span class="hljs-type">UIBarButtonItem</span>(menu: menu)<br />        barButtonItem.changesSelectionAsPrimaryAction <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />        navigationItem.rightBarButtonItem <span class="hljs-operator">=</span> barButtonItem<br />    }<br />}</span></pre><figure name="a490" id="a490" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*R7sZlXFG68GaNWZkVe_C7w.png" data-width="1228" data-height="1308" src="https://cdn-images-1.medium.com/max/800/1*R7sZlXFG68GaNWZkVe_C7w.png"></figure><h3 name="ffa9" id="ffa9" class="graf graf--h3 graf-after--figure">設定 Pop Up Button / Pull Down Button 下 command 的 selector</h3><p name="1003" id="1003" class="graf graf--p graf-after--h3">開發 iOS App 時，我們可以在 Interface Builder 加入方便顯示選單的 Pop Up Button &amp; Pull Down Button。不過事情沒有想像中簡單，想讓它們發揮作用還得做些調整。</p><div name="db5a" id="db5a" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-pop-up-button-pop-down-button-%E4%B8%8B-command-%E7%9A%84-selector-557f8289a23d" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-pop-up-button-pop-down-button-%E4%B8%8B-command-%E7%9A%84-selector-557f8289a23d" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-pop-up-button-pop-down-button-%E4%B8%8B-command-%E7%9A%84-selector-557f8289a23d"><strong class="markup--strong markup--mixtapeEmbed-strong">設定 pop up button / pull down button 下 command 的 selector</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們可以在 Interface Builder 加入方便顯示選單的 pop up button &amp; pull down button。不過由於 Interface Builder 的小小…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-pop-up-button-pop-down-button-%E4%B8%8B-command-%E7%9A%84-selector-557f8289a23d" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="48ed5d88b6079cd665db9e67806098d3" data-thumbnail-img-id="1*hpQGJMBOc_MA6cjkL8fbCA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*hpQGJMBOc_MA6cjkL8fbCA.png);"></a></div><h3 name="2b5e" id="2b5e" class="graf graf--h3 graf-after--mixtapeEmbed">參考連結</h3><p name="aaa1" id="aaa1" class="graf graf--p graf-after--h3">Human Interface Guidelines 的 button 介紹。</p><div name="8dd1" id="8dd1" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/design/human-interface-guidelines/buttons" data-href="https://developer.apple.com/design/human-interface-guidelines/buttons" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/design/human-interface-guidelines/buttons"><strong class="markup--strong markup--mixtapeEmbed-strong">Buttons | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A button initiates an instantaneous action.</em>developer.apple.com</a><a href="https://developer.apple.com/design/human-interface-guidelines/buttons" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="56bd9cc722ddbc42ab358421fbd15c37" data-thumbnail-img-id="0*jVuKFy2MZ2OhBafg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*jVuKFy2MZ2OhBafg);"></a></div><p name="e39b" id="e39b" class="graf graf--p graf-after--mixtapeEmbed">Apple 官方範例 UIKit Catalog: Creating and Customizing Views and Controls。</p><div name="41f4" id="41f4" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/mac_catalyst/uikit_catalog_creating_and_customizing_views_and_controls?source=post_page-----2ddab2181ee5--------------------------------" data-href="https://developer.apple.com/documentation/uikit/mac_catalyst/uikit_catalog_creating_and_customizing_views_and_controls?source=post_page-----2ddab2181ee5--------------------------------" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/mac_catalyst/uikit_catalog_creating_and_customizing_views_and_controls?source=post_page-----2ddab2181ee5--------------------------------"><strong class="markup--strong markup--mixtapeEmbed-strong">UIKit Catalog: Creating and Customizing Views and Controls | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Customize your app&#39;s user interface with views and controls.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/mac_catalyst/uikit_catalog_creating_and_customizing_views_and_controls?source=post_page-----2ddab2181ee5--------------------------------" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7fd78327290f86bedbc781a7e5bc2de7" data-thumbnail-img-id="0*Ek2cZhQOLYBk5PMt" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Ek2cZhQOLYBk5PMt);"></a></div><figure name="37f9" id="37f9" class="graf graf--figure graf-after--mixtapeEmbed graf--trailing"><img class="graf-image" data-image-id="1*sFpSLRA4984NeB9hlfj_6Q.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*sFpSLRA4984NeB9hlfj_6Q.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/2ddab2181ee5"><time class="dt-published" datetime="2022-02-08T11:12:46.230Z">February 8, 2022</time></a>.</p><p><a href="https://medium.com/@apppeterpan/ios-%E7%9A%84%E9%81%B8%E5%96%AE-menu-%E6%8C%89%E9%88%95-pull-down-button-pop-up-button-2ddab2181ee5" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>