<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Swift 將 .0 的浮點數變成整數字串的方法</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Swift 將 .0 的浮點數變成整數字串的方法</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，有時會遇到 .0 的浮點數。通常我們會希望移除 .0，將它變成整數字串顯示，例如以下 SwiftUI Slider 選年紀的例子，畫面顯示年紀 20.000000 會超奇怪的 !
</section>
<section data-field="body" class="e-content">
<section name="f994" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5fc2" id="5fc2" class="graf graf--h3 graf--leading graf--title">Swift 將 .0 的浮點數變成整數字串的方法</h3><p name="b9b2" id="b9b2" class="graf graf--p graf-after--h3">開發 iOS App 時，有時會遇到 .0 的浮點數。通常我們會希望移除 .0，將它變成整數字串顯示，例如以下 SwiftUI Slider 選年紀的例子，畫面顯示<code class="markup--code markup--p-code">年紀 20.000000</code> 會超奇怪的 !</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0dd5" id="0dd5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> age: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Slider</span>(value: <span class="hljs-variable">$age</span>, in: <span class="hljs-number">18</span><span class="hljs-operator">...</span><span class="hljs-number">25</span>, step: <span class="hljs-number">1</span>)<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(age)</span>&quot;</span>)<br />        }<br />        .padding()<br />    }<br />}</span></pre><figure name="c823" id="c823" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*ljC4c_TWZRdw_lZjdBPdkA.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*ljC4c_TWZRdw_lZjdBPdkA.png"></figure><p name="5002" id="5002" class="graf graf--p graf-after--figure">將 .0 的浮點數變成整數字串有許多方法，若是 iOS 15 以上，最方便的方法應該是從浮點數呼叫 function <code class="markup--code markup--p-code">formatted()</code>，以下我們介紹各種不同的方法。</p><ul class="postList"><li name="9107" id="9107" class="graf graf--li graf-after--p">浮點數呼叫 formatted()。</li><li name="7ce1" id="7ce1" class="graf graf--li graf-after--li">使用 Int 的 init(_:)。</li><li name="39ae" id="39ae" class="graf graf--li graf-after--li">使用 String 的 init(format:_:)，format 傳入<code class="markup--code markup--li-code"> &quot;%.0f&quot;</code>。</li><li name="f83b" id="f83b" class="graf graf--li graf-after--li">SwiftUI Text 搭配 format 參數。</li></ul><h3 name="bd68" id="bd68" class="graf graf--h3 graf-after--li">浮點數呼叫 formatted — iOS 15 以上</h3><p name="d282" id="d282" class="graf graf--p graf-after--h3">浮點數呼叫 formatted() 後，.0 的浮點數會變成整數字串，因此 2.0 會變成字串 2。如果是 2.5，則會維持原狀，變成字串 2.5。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7910" id="7910" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(number.formatted())</span></pre><p name="8854" id="8854" class="graf graf--p graf-after--pre">SwiftUI 範例。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="73f7" id="73f7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> age: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Slider</span>(value: <span class="hljs-variable">$age</span>, in: <span class="hljs-number">18</span><span class="hljs-operator">...</span><span class="hljs-number">25</span>, step: <span class="hljs-number">1</span>)<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;年紀 <span class="hljs-subst">\(age.formatted())</span>&quot;</span>)<br />        }<br />        .padding()<br />    }<br />}</span></pre><figure name="a288" id="a288" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*z9pPatAfBO8ps6XY6SjQAQ.png" data-width="1179" data-height="2556" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*z9pPatAfBO8ps6XY6SjQAQ.png"></figure><p name="9947" id="9947" class="graf graf--p graf-after--figure">formatted( ) 裡也可以傳入參數，以下寫法也可以將 .0 的浮點數變成整數字串。</p><ul class="postList"><li name="0cda" id="0cda" class="graf graf--li graf-after--p">傳入 .number。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c937" id="c937" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(number.formatted(.number))</span></pre><ul class="postList"><li name="7ed4" id="7ed4" class="graf graf--li graf-after--pre">傳入 .number.precision(.fractionLength(0))。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f5ea" id="f5ea" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(number.formatted(.number.precision(.fractionLength(<span class="hljs-number">0</span>))))</span></pre><ul class="postList"><li name="57f6" id="57f6" class="graf graf--li graf-after--pre">傳入 .number.precision(.integerLength(0))。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4e16" id="4e16" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(number.formatted(.number.precision(.integerLength(<span class="hljs-number">0</span>))))</span></pre><h3 name="e4ca" id="e4ca" class="graf graf--h3 graf-after--pre">使用 Int 的 init(_:)</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="d503" id="d503" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(Int(number))</span>&quot;</span>)</span></pre><h3 name="1a30" id="1a30" class="graf graf--h3 graf-after--pre">使用 String 的 init(format:_:)，format 傳入<code class="markup--code markup--h3-code"> &quot;%.0f&quot;</code></h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="51ce" id="51ce" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span><br /><span class="hljs-built_in">print</span>(<span class="hljs-type">String</span>(format: <span class="hljs-string">&quot;%.0f&quot;</span>, number))</span></pre><h3 name="b9b0" id="b9b0" class="graf graf--h3 graf-after--pre">SwiftUI Text 搭配 format 參數 — iOS 15 以上</h3><ul class="postList"><li name="50d9" id="50d9" class="graf graf--li graf-after--h3">format 傳入 .number。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9fb7" id="9fb7" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> age: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Slider</span>(value: <span class="hljs-variable">$age</span>, in: <span class="hljs-number">18</span><span class="hljs-operator">...</span><span class="hljs-number">25</span>, step: <span class="hljs-number">1</span>)<br />            <span class="hljs-type">Text</span>(age, format: .number)<br />        }<br />        .padding()<br />    }<br />}</span></pre><ul class="postList"><li name="e0fd" id="e0fd" class="graf graf--li graf-after--pre">format 傳入 .number.precision(.fractionLength(0))。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2015" id="2015" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> age: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Slider</span>(value: <span class="hljs-variable">$age</span>, in: <span class="hljs-number">18</span><span class="hljs-operator">...</span><span class="hljs-number">25</span>, step: <span class="hljs-number">1</span>)<br />            <span class="hljs-type">Text</span>(age, format: .number.precision(.fractionLength(<span class="hljs-number">0</span>)))<br />        }<br />        .padding()<br />    }<br />}</span></pre><ul class="postList"><li name="53e0" id="53e0" class="graf graf--li graf-after--pre">format 傳入 .number.precision(.integerLength(0))。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="aee3" id="aee3" class="graf graf--pre graf-after--li graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> age: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Slider</span>(value: <span class="hljs-variable">$age</span>, in: <span class="hljs-number">18</span><span class="hljs-operator">...</span><span class="hljs-number">25</span>, step: <span class="hljs-number">1</span>)<br />            <span class="hljs-type">Text</span>(age, format: .number.precision(.integerLength(<span class="hljs-number">0</span>)))<br />        }<br />        .padding()<br />    }<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/e28b58605d09"><time class="dt-published" datetime="2024-05-31T04:53:31.854Z">May 31, 2024</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swift-%E5%B0%87-0-%E7%9A%84%E6%B5%AE%E9%BB%9E%E6%95%B8%E8%AE%8A%E6%88%90%E6%95%B4%E6%95%B8%E5%AD%97%E4%B8%B2%E7%9A%84%E6%96%B9%E6%B3%95-e28b58605d09" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>