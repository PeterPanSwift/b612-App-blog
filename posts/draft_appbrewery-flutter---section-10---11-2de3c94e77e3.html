<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>appbrewery flutter — section 10 &amp; 11</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">appbrewery flutter — section 10 &amp; 11</h1>
</header>
<section data-field="subtitle" class="p-summary">
class
</section>
<section data-field="body" class="e-content">
<section name="9024" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="61a2" id="61a2" class="graf graf--h3 graf--leading graf--title">appbrewery flutter — section 10 &amp; 11</h3><ul class="postList"><li name="4663" id="4663" class="graf graf--li graf-after--h3">class</li><li name="6935" id="6935" class="graf graf--li graf-after--li">object</li><li name="0267" id="0267" class="graf graf--li graf-after--li">Abstraction</li><li name="9308" id="9308" class="graf graf--li graf-after--li">Encapsulation</li><li name="7987" id="7987" class="graf graf--li graf-after--li">_ &amp; private </li><li name="0c96" id="0c96" class="graf graf--li graf-after--li">Inheritance、extends</li><li name="aead" id="aead" class="graf graf--li graf-after--li">Polymorphism、override</li><li name="e646" id="e646" class="graf graf--li graf-after--li">constructor</li><li name="b1ee" id="b1ee" class="graf graf--li graf-after--li">設定背景圖片、container background、BoxDecoration、DecorationImage</li><li name="f27f" id="f27f" class="graf graf--li graf-after--li">Visibility widget</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="9da7" id="9da7" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Quizzler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{<br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">MaterialApp</span>(<br />      <span class="hljs-attr">home</span>: <span class="hljs-title function_ invoke__">Scaffold</span>(<br />        <span class="hljs-attr">backgroundColor</span>: Colors.grey.shade900,<br />        <span class="hljs-attr">body</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">symmetric</span>(<span class="hljs-attr">horizontal</span>: <span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">QuizPage</span>(),<br />          ),<br />        ),<br />      ),<br />    );<br />  }<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuizPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{<br />  @override<br />  _QuizPageState <span class="hljs-title function_ invoke__">createState</span>() =&gt; <span class="hljs-title function_ invoke__">_QuizPageState</span>();<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [    <span class="hljs-title function_ invoke__">Icon</span>(      Icons.check,      <span class="hljs-attr">color</span>: Colors.green,    ),    <span class="hljs-title function_ invoke__">Icon</span>(      Icons.close,      <span class="hljs-attr">color</span>: Colors.red,    ),    <span class="hljs-title function_ invoke__">Icon</span>(      Icons.close,      <span class="hljs-attr">color</span>: Colors.red,    ),    <span class="hljs-title function_ invoke__">Icon</span>(      Icons.close,      <span class="hljs-attr">color</span>: Colors.red,    ),    <span class="hljs-title function_ invoke__">Icon</span>(      Icons.close,      <span class="hljs-attr">color</span>: Colors.red,    ),  ];<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;This is where the question text will go.&#x27;</span>,<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  scoreKeeper.<span class="hljs-title function_ invoke__">add</span>(<br />                    <span class="hljs-title function_ invoke__">Icon</span>(<br />                      Icons.check,<br />                      <span class="hljs-attr">color</span>: Colors.green,<br />                    ),<br />                  );<br />                });<br />              },<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {},<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><figure name="0b9a" id="0b9a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*0Wsd_ZiOkKGu6aWN0mTuXw.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*0Wsd_ZiOkKGu6aWN0mTuXw.png"></figure><p name="eaf0" id="eaf0" class="graf graf--p graf-after--figure">hot reload 會儲存之前的 state，hot restart 才會 reset state。以下面的 questionNumber 為例，hot restart 才會讓 questionNumber 回到 0。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="6d2c" id="6d2c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br />  List&lt;String&gt; questions = [<br />    <span class="hljs-string">&#x27;大象是飛行動物&#x27;</span>,<br />    <span class="hljs-string">&#x27;太陽是太陽系中的一顆恆星&#x27;</span>,<br />    <span class="hljs-string">&#x27;人體有五顆心臟&#x27;</span>,<br />  ];<br />  List&lt;<span class="hljs-keyword">bool</span>&gt; answers = [<br />    <span class="hljs-literal">false</span>,<br />    <span class="hljs-literal">true</span>,<br />    <span class="hljs-literal">false</span>,<br />  ];<br />  <span class="hljs-keyword">int</span> questionNumber = <span class="hljs-number">0</span>;<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questions[questionNumber],<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer = answers[questionNumber];<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">true</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer = answers[questionNumber];<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">false</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><figure name="133f" id="133f" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*BjP-RB2b5CG8hTuLAPMjnQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*BjP-RB2b5CG8hTuLAPMjnQ.png"></figure><h3 name="dea8" id="dea8" class="graf graf--h3 graf-after--figure">定義 Question 的類別</h3><p name="2a99" id="2a99" class="graf graf--p graf-after--h3">Question 有兩種寫法。</p><ul class="postList"><li name="9219" id="9219" class="graf graf--li graf-after--p">寫法 1</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="dart" name="b0bc" id="b0bc" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Question</span> </span>{<br />  <span class="hljs-built_in">String</span> questionText;<br />  <span class="hljs-built_in">bool</span> questionAnswer;<br /><br />  Question({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.questionText, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.questionAnswer});<br />}</span></pre><ul class="postList"><li name="01eb" id="01eb" class="graf graf--li graf-after--pre">寫法 2: Initializer List</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="dart" name="d50e" id="d50e" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Question</span> </span>{<br />  <span class="hljs-built_in">String</span> questionText;<br />  <span class="hljs-built_in">bool</span> questionAnswer;<br /><br />  Question({<span class="hljs-keyword">required</span> questionText, <span class="hljs-keyword">required</span> questionAnswer})<br />      : <span class="hljs-keyword">this</span>.questionText = questionText,<br />        <span class="hljs-keyword">this</span>.questionAnswer = questionAnswer;<br />}</span></pre><ul class="postList"><li name="e913" id="e913" class="graf graf--li graf-after--pre">寫法 3: late</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="dart" name="d0d0" id="d0d0" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Question</span> </span>{<br />  <span class="hljs-keyword">late</span> <span class="hljs-built_in">String</span> questionText;<br />  <span class="hljs-keyword">late</span> <span class="hljs-built_in">bool</span> questionAnswer;<br /><br />  Question({<span class="hljs-keyword">required</span> questionText, <span class="hljs-keyword">required</span> questionAnswer}) {<br />    <span class="hljs-keyword">this</span>.questionText = questionText;<br />    <span class="hljs-keyword">this</span>.questionAnswer = questionAnswer;<br />  }<br />}</span></pre><p name="f7f4" id="f7f4" class="graf graf--p graf-after--pre">_QuizPageState</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="9983" id="9983" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br />  List&lt;Question&gt; questionBank = [<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;大象是飛行動物&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">false</span>),<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;太陽是太陽系中的一顆恆星&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">true</span>),<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;人體有五顆心臟&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">false</span>),<br />  ];<br />  <span class="hljs-keyword">int</span> questionNumber = <span class="hljs-number">0</span>;<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questionBank[questionNumber].questionText,<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer =<br />                    questionBank[questionNumber].questionAnswer;<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">true</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer =<br />                    questionBank[questionNumber].questionAnswer;<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">false</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><h3 name="76ab" id="76ab" class="graf graf--h3 graf-after--pre">定義 Question_Brain</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="a111" id="a111" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;question.dart&#x27;</span>;<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Question_Brain</span> </span>{<br />  List&lt;Question&gt; questionBank = [<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;大象是飛行動物&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">false</span>),<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;太陽是太陽系中的一顆恆星&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">true</span>),<br />    <span class="hljs-title function_ invoke__">Question</span>(<span class="hljs-attr">questionText</span>: <span class="hljs-string">&#x27;人體有五顆心臟&#x27;</span>, <span class="hljs-attr">questionAnswer</span>: <span class="hljs-literal">false</span>),<br />  ];<br />}</span></pre><p name="22c0" id="22c0" class="graf graf--p graf-after--pre">使用 Question_Brain。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="8c08" id="8c08" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><br />Question_Brain questionBrain = <span class="hljs-title function_ invoke__">Question_Brain</span>();<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br /><br />  <span class="hljs-keyword">int</span> questionNumber = <span class="hljs-number">0</span>;<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questionBrain.questionBank[questionNumber].questionText,<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer =<br />                    questionBrain.questionBank[questionNumber].questionAnswer;<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">true</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer =<br />                    questionBrain.questionBank[questionNumber].questionAnswer;<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">false</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionNumber += <span class="hljs-number">1</span>;<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><h3 name="0838" id="0838" class="graf graf--h3 graf-after--pre">設定 private property (encapsulation)</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="csharp" name="3460" id="3460" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;question.dart&#x27;</span>;<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title">Question_Brain</span> {<br />  <span class="hljs-built_in">int</span> _questionNumber = <span class="hljs-number">0</span>;<br />  List&lt;Question&gt; _questionBank = [<br />    Question(questionText: <span class="hljs-string">&#x27;大象是飛行動物&#x27;</span>, questionAnswer: <span class="hljs-literal">false</span>),<br />    Question(questionText: <span class="hljs-string">&#x27;太陽是太陽系中的一顆恆星&#x27;</span>, questionAnswer: <span class="hljs-literal">true</span>),<br />    Question(questionText: <span class="hljs-string">&#x27;人體有五顆心臟&#x27;</span>, questionAnswer: <span class="hljs-literal">false</span>),<br />  ];<br /><br />  <span class="hljs-function">String <span class="hljs-title">getQuestionText</span>()</span> {<br />    <span class="hljs-keyword">return</span> _questionBank[_questionNumber].questionText;<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">getCorrectAnswer</span>()</span> {<br />    <span class="hljs-keyword">return</span> _questionBank[_questionNumber].questionAnswer;<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">nextQuestion</span>()</span> {<br />    <span class="hljs-keyword">if</span> (_questionNumber &lt; _questionBank.length - <span class="hljs-number">1</span>) {<br />      _questionNumber++;<br />    }<br />  }<br />}</span></pre><p name="4ebc" id="4ebc" class="graf graf--p graf-after--pre">只要在 widget 呼叫 setState，就會觸發 widget 的 build。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="249d" id="249d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br />import <span class="hljs-string">&#x27;package:quizzler/question_brain.dart&#x27;</span>;<br /><br />Question_Brain questionBrain = <span class="hljs-title function_ invoke__">Question_Brain</span>();<br /><br /><span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">main</span>() =&gt; <span class="hljs-title function_ invoke__">runApp</span>(<span class="hljs-title function_ invoke__">Quizzler</span>());<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Quizzler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{<br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">MaterialApp</span>(<br />      <span class="hljs-attr">home</span>: <span class="hljs-title function_ invoke__">Scaffold</span>(<br />        <span class="hljs-attr">backgroundColor</span>: Colors.grey.shade900,<br />        <span class="hljs-attr">body</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">symmetric</span>(<span class="hljs-attr">horizontal</span>: <span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">QuizPage</span>(),<br />          ),<br />        ),<br />      ),<br />    );<br />  }<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuizPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{<br />  @override<br />  _QuizPageState <span class="hljs-title function_ invoke__">createState</span>() =&gt; <span class="hljs-title function_ invoke__">_QuizPageState</span>();<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questionBrain.<span class="hljs-title function_ invoke__">getQuestionText</span>(),<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer = questionBrain.<span class="hljs-title function_ invoke__">getCorrectAnswer</span>();<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">true</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionBrain.<span class="hljs-title function_ invoke__">nextQuestion</span>();<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-keyword">bool</span> correctAnswer = questionBrain.<span class="hljs-title function_ invoke__">getCorrectAnswer</span>();<br />                <span class="hljs-keyword">if</span> (correctAnswer == <span class="hljs-literal">false</span>) {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it right!&#x27;</span>);<br />                } <span class="hljs-keyword">else</span> {<br />                  <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;user got it wrong&#x27;</span>);<br />                }<br />                <span class="hljs-title function_ invoke__">setState</span>(() {<br />                  questionBrain.<span class="hljs-title function_ invoke__">nextQuestion</span>();<br />                });<br />              },<br />              child: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              style: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}<br /><br /></span></pre><h3 name="f3b4" id="f3b4" class="graf graf--h3 graf-after--pre">加入 checkAnswer</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="4677" id="4677" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br /><br />  <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-keyword">bool</span> userPickedAnswer) {<br />    <span class="hljs-keyword">bool</span> correctAnswer = questionBrain.<span class="hljs-title function_ invoke__">getCorrectAnswer</span>();<br />    <span class="hljs-title function_ invoke__">setState</span>(() {<br />      <span class="hljs-keyword">if</span> (correctAnswer == userPickedAnswer) {<br />        scoreKeeper.<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-title function_ invoke__">Icon</span>(<br />          Icons.check,<br />          <span class="hljs-attr">color</span>: Colors.green,<br />        ));<br />      } <span class="hljs-keyword">else</span> {<br />        scoreKeeper.<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-title function_ invoke__">Icon</span>(<br />          Icons.close,<br />          <span class="hljs-attr">color</span>: Colors.red,<br />        ));<br />      }<br />      questionBrain.<span class="hljs-title function_ invoke__">nextQuestion</span>();<br />    });<br />  }<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questionBrain.<span class="hljs-title function_ invoke__">getQuestionText</span>(),<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-literal">true</span>);<br />              },<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-literal">false</span>);<br />              },<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><figure name="db0d" id="db0d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*EhftFkSf0nzVQA0gjADONg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*EhftFkSf0nzVQA0gjADONg.png"></figure><h3 name="2f3d" id="2f3d" class="graf graf--h3 graf-after--figure">使用 RFlutter Alert</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="csharp" name="9548" id="9548" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;question.dart&#x27;</span>;<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title">Question_Brain</span> {<br />  <span class="hljs-built_in">int</span> _questionNumber = <span class="hljs-number">0</span>;<br />  List&lt;Question&gt; _questionBank = [<br />    Question(questionText: <span class="hljs-string">&#x27;大象是飛行動物&#x27;</span>, questionAnswer: <span class="hljs-literal">false</span>),<br />    Question(questionText: <span class="hljs-string">&#x27;太陽是太陽系中的一顆恆星&#x27;</span>, questionAnswer: <span class="hljs-literal">true</span>),<br />    Question(questionText: <span class="hljs-string">&#x27;人體有五顆心臟&#x27;</span>, questionAnswer: <span class="hljs-literal">false</span>),<br />  ];<br /><br />  <span class="hljs-function">String <span class="hljs-title">getQuestionText</span>()</span> {<br />    <span class="hljs-keyword">return</span> _questionBank[_questionNumber].questionText;<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">getCorrectAnswer</span>()</span> {<br />    <span class="hljs-keyword">return</span> _questionBank[_questionNumber].questionAnswer;<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">nextQuestion</span>()</span> {<br />    <span class="hljs-keyword">if</span> (_questionNumber &lt; _questionBank.length - <span class="hljs-number">1</span>) {<br />      _questionNumber++;<br />    }<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">isFinished</span>()</span> {<br />    <span class="hljs-keyword">if</span> (_questionNumber == _questionBank.length - <span class="hljs-number">1</span>) {<br />      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br />    } <span class="hljs-keyword">else</span> {<br />      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br />    }<br />  }<br /><br />  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">reset</span>()</span> {<br />    _questionNumber = <span class="hljs-number">0</span>;<br />  }<br />}</span></pre><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="8be1" id="8be1" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuizPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{<br />  @override<br />  _QuizPageState <span class="hljs-title function_ invoke__">createState</span>() =&gt; <span class="hljs-title function_ invoke__">_QuizPageState</span>();<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_QuizPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">QuizPage</span>&gt; </span>{<br />  List&lt;Icon&gt; scoreKeeper = [];<br /><br />  <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-keyword">bool</span> userPickedAnswer) {<br />    <span class="hljs-keyword">bool</span> correctAnswer = questionBrain.<span class="hljs-title function_ invoke__">getCorrectAnswer</span>();<br />    <span class="hljs-title function_ invoke__">setState</span>(() {<br />      <span class="hljs-keyword">if</span> (questionBrain.<span class="hljs-title function_ invoke__">isFinished</span>()) {<br />        <span class="hljs-title function_ invoke__">Alert</span>(<br />          <span class="hljs-attr">context</span>: context,<br />          <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Finished!&#x27;</span>,<br />          <span class="hljs-attr">desc</span>: <span class="hljs-string">&#x27;You\&#x27;ve reached the end of the quiz.&#x27;</span>,<br />        ).<span class="hljs-title function_ invoke__">show</span>();<br />        questionBrain.<span class="hljs-title function_ invoke__">reset</span>();<br />        scoreKeeper = [];<br />      } <span class="hljs-keyword">else</span> {<br />        <span class="hljs-keyword">if</span> (correctAnswer == userPickedAnswer) {<br />          scoreKeeper.<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-title function_ invoke__">Icon</span>(<br />            Icons.check,<br />            <span class="hljs-attr">color</span>: Colors.green,<br />          ));<br />        } <span class="hljs-keyword">else</span> {<br />          scoreKeeper.<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-title function_ invoke__">Icon</span>(<br />            Icons.close,<br />            <span class="hljs-attr">color</span>: Colors.red,<br />          ));<br />        }<br />        questionBrain.<span class="hljs-title function_ invoke__">nextQuestion</span>();<br />      }<br />    });<br />  }<br /><br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Column</span>(<br />      <span class="hljs-attr">mainAxisAlignment</span>: MainAxisAlignment.spaceBetween,<br />      <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />      <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">flex</span>: <span class="hljs-number">5</span>,<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">10.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                questionBrain.<span class="hljs-title function_ invoke__">getQuestionText</span>(),<br />                <span class="hljs-attr">textAlign</span>: TextAlign.center,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                  <span class="hljs-attr">color</span>: Colors.white,<br />                ),<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-literal">true</span>);<br />              },<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                <span class="hljs-string">&#x27;True&#x27;</span>,<br />                <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                ),<br />              ),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Expanded</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Padding</span>(<br />            <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">15.0</span>),<br />            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />              <span class="hljs-attr">onPressed</span>: () {<br />                <span class="hljs-title function_ invoke__">checkAnswer</span>(<span class="hljs-literal">false</span>);<br />              },<br />              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">&#x27;False&#x27;</span>,<br />                  <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,<br />                  )),<br />              <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                <span class="hljs-attr">backgroundColor</span>: Colors.green,<br />                <span class="hljs-attr">foregroundColor</span>: Colors.white,<br />              ),<br />            ),<br />          ),<br />        ),<br />        <span class="hljs-title function_ invoke__">Row</span>(<br />          <span class="hljs-attr">children</span>: scoreKeeper,<br />        )<br />      ],<br />    );<br />  }<br />}</span></pre><figure name="08e5" id="08e5" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*8qO7WXv5Ya77FZstpNSuhg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*8qO7WXv5Ya77FZstpNSuhg.png"></figure><h3 name="9dc7" id="9dc7" class="graf graf--h3 graf-after--figure">設定背景圖片、container background、BoxDecoration、DecorationImage</h3><p name="5f98" id="5f98" class="graf graf--p graf-after--h3">在 Container 裡用 decoration 參數設定背景圖片。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="less" name="e2fc" id="e2fc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-selector-tag">Container</span>(<br />        <span class="hljs-attribute">decoration</span>: <span class="hljs-built_in">BoxDecoration</span>(<br />          <span class="hljs-attribute">image</span>: <span class="hljs-built_in">DecorationImage</span>(<br />            <span class="hljs-attribute">image</span>: <span class="hljs-built_in">AssetImage</span>(<span class="hljs-string">&#x27;images/background.png&#x27;</span>),<br />            <span class="hljs-attribute">fit</span>: BoxFit.cover,<br />          ),<br />        ),</span></pre><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="9ada" id="9ada" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoryPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{<br />  _StoryPageState <span class="hljs-title function_ invoke__">createState</span>() =&gt; <span class="hljs-title function_ invoke__">_StoryPageState</span>();<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_StoryPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">StoryPage</span>&gt; </span>{<br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Scaffold</span>(<br />      <span class="hljs-attr">body</span>: <span class="hljs-title function_ invoke__">Container</span>(<br />        <span class="hljs-attr">decoration</span>: <span class="hljs-title function_ invoke__">BoxDecoration</span>(<br />          <span class="hljs-attr">image</span>: <span class="hljs-title function_ invoke__">DecorationImage</span>(<br />            <span class="hljs-attr">image</span>: <span class="hljs-title function_ invoke__">AssetImage</span>(<span class="hljs-string">&#x27;images/background.png&#x27;</span>),<br />            <span class="hljs-attr">fit</span>: BoxFit.cover,<br />          ),<br />        ),<br />        <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">symmetric</span>(<span class="hljs-attr">vertical</span>: <span class="hljs-number">50.0</span>, <span class="hljs-attr">horizontal</span>: <span class="hljs-number">15.0</span>),<br />        <span class="hljs-attr">constraints</span>: BoxConstraints.<span class="hljs-title function_ invoke__">expand</span>(),<br />        <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Column</span>(<br />            <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />            <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">12</span>,<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                    //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">10</span> - <span class="hljs-keyword">use</span> the storyBrain to get the first story title <span class="hljs-keyword">and</span> display it in this Text Widget.<br />                    <span class="hljs-string">&#x27;Story text will go here.&#x27;</span>,<br />                    <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                    ),<br />                  ),<br />                ),<br />              ),<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">2</span>,<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />                  <span class="hljs-attr">onPressed</span>: () {<br />                    //Choice <span class="hljs-number">1</span> made by user.<br />                    //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">18</span> - Call the <span class="hljs-title function_ invoke__">nextStory</span>() method <span class="hljs-keyword">from</span> storyBrain <span class="hljs-keyword">and</span> pass the number <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> the choice made by the user.<br />                  },<br />                  <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                    <span class="hljs-attr">backgroundColor</span>: Colors.red,<br />                    <span class="hljs-attr">foregroundColor</span>: Colors.white, // 文字的颜色<br />                  ),<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                    //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">13</span> - Use the storyBrain to get the text <span class="hljs-keyword">for</span> choice <span class="hljs-number">1</span>.<br />                    <span class="hljs-string">&#x27;Choice 1&#x27;</span>,<br />                    <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20.0</span>,<br />                    ),<br />                  ),<br />                ),<br />              ),<br />              <span class="hljs-title function_ invoke__">SizedBox</span>(<br />                <span class="hljs-attr">height</span>: <span class="hljs-number">20.0</span>,<br />              ),<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">2</span>,<br />                //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">26</span> - Use a Flutter Visibility Widget to wrap this FlatButton.<br />                //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">28</span> - Set the <span class="hljs-string">&quot;visible&quot;</span> property of the Visibility Widget to equal the output <span class="hljs-keyword">from</span> the <span class="hljs-title function_ invoke__">buttonShouldBeVisible</span>() method in the storyBrain.<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />                  <span class="hljs-attr">onPressed</span>: () {<br />                    //Choice <span class="hljs-number">1</span> made by user.<br />                    //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">18</span> - Call the <span class="hljs-title function_ invoke__">nextStory</span>() method <span class="hljs-keyword">from</span> storyBrain <span class="hljs-keyword">and</span> pass the number <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> the choice made by the user.<br />                  },<br />                  <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                    <span class="hljs-attr">backgroundColor</span>: Colors.red,<br />                    <span class="hljs-attr">foregroundColor</span>: Colors.white, // 文字的颜色<br />                  ),<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                    //<span class="hljs-attr">TODO</span>: Step <span class="hljs-number">13</span> - Use the storyBrain to get the text <span class="hljs-keyword">for</span> choice <span class="hljs-number">1</span>.<br />                    <span class="hljs-string">&#x27;Choice 2&#x27;</span>,<br />                    <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20.0</span>,<br />                    ),<br />                  ),<br />                ),<br />              ),<br />            ],<br />          ),<br />        ),<br />      ),<br />    );<br />  }<br />}</span></pre><figure name="c26a" id="c26a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*6QIcJewGDO5IUu2k3I8OGQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*6QIcJewGDO5IUu2k3I8OGQ.png"></figure><h3 name="2038" id="2038" class="graf graf--h3 graf-after--figure">設定元件是否顯示的 Visibility widget</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="less" name="2243" id="2243" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-selector-tag">Expanded</span>(<br />  <span class="hljs-attribute">flex</span>: <span class="hljs-number">2</span>,<br />  <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Visibility</span>(<br />    <span class="hljs-attribute">visible</span>: storyBrain.<span class="hljs-built_in">buttonShouldBeVisible</span>(),<br />    <span class="hljs-attribute">child</span>: <span class="hljs-built_in">TextButton</span>(<br />      <span class="hljs-attribute">onPressed</span>: () {<br />        <span class="hljs-built_in">setState</span>(() {<br />          storyBrain.<span class="hljs-built_in">nextStory</span>(<span class="hljs-number">2</span>);<br />        });<br />      },<br />      <span class="hljs-attribute">style</span>: TextButton.<span class="hljs-built_in">styleFrom</span>(<br />        <span class="hljs-attribute">backgroundColor</span>: Colors.red,<br />        <span class="hljs-attribute">foregroundColor</span>: Colors.white, <span class="hljs-comment">// 文字的颜色</span><br />      ),<br />      <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Text</span>(<br />        storyBrain.<span class="hljs-built_in">getChoice2</span>(),<br />        <span class="hljs-attribute">style</span>: <span class="hljs-built_in">TextStyle</span>(<br />          <span class="hljs-attribute">fontSize</span>: <span class="hljs-number">20.0</span>,<br />        ),<br />      ),<br />    ),<br />  ),<br />)</span></pre><h3 name="9bdc" id="9bdc" class="graf graf--h3 graf-after--pre">故事 App 完整程式</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="dart" name="8581" id="8581" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Story</span> </span>{<br />  <span class="hljs-built_in">String</span> storyTitle;<br />  <span class="hljs-built_in">String</span> choice1;<br />  <span class="hljs-built_in">String</span> choice2;<br /><br />  Story(<br />      {<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.storyTitle, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.choice1, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.choice2});<br />}</span></pre><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="3645" id="3645" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;story.dart&#x27;</span>;<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoryBrain</span> </span>{<br />  List&lt;Story&gt; _storyData = [<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>:<br />            <span class="hljs-string">&#x27;Your car has blown a tire on a winding road in the middle of nowhere with no cell phone reception. You decide to hitchhike. A rusty pickup truck rumbles to a stop next to you. A man with a wide brimmed hat with soulless eyes opens the passenger door for you and asks: &quot;Need a ride, boy?&quot;.&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;I\&#x27;ll hop in. Thanks for the help!&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;Better ask him if he\&#x27;s a murderer first.&#x27;</span>),<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>: <span class="hljs-string">&#x27;He nods slowly, unphased by the question.&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;At least he\&#x27;s honest. I\&#x27;ll climb in.&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;Wait, I know how to change a tire.&#x27;</span>),<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>:<br />            <span class="hljs-string">&#x27;As you begin to drive, the stranger starts talking about his relationship with his mother. He gets angrier and angrier by the minute. He asks you to open the glovebox. Inside you find a bloody knife, two severed fingers, and a cassette tape of Elton John. He reaches for the glove box.&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;I love Elton John! Hand him the cassette tape.&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;It\&#x27;s him or me! You take the knife and stab him.&#x27;</span>),<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>:<br />            <span class="hljs-string">&#x27;What? Such a cop out! Did you know traffic accidents are the second leading cause of accidental death for most adult age groups?&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;Restart&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;&#x27;</span>),<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>:<br />            <span class="hljs-string">&#x27;As you smash through the guardrail and careen towards the jagged rocks below you reflect on the dubious wisdom of stabbing someone while they are driving a car you are in.&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;Restart&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;&#x27;</span>),<br />    <span class="hljs-title function_ invoke__">Story</span>(<br />        <span class="hljs-attr">storyTitle</span>:<br />            <span class="hljs-string">&#x27;You bond with the murderer while crooning verses of &quot;Can you feel the love tonight&quot;. He drops you off at the next town. Before you go he asks you if you know any good places to dump bodies. You reply: &quot;Try the pier&quot;.&#x27;</span>,<br />        <span class="hljs-attr">choice1</span>: <span class="hljs-string">&#x27;Restart&#x27;</span>,<br />        <span class="hljs-attr">choice2</span>: <span class="hljs-string">&#x27;&#x27;</span>)<br />  ];<br />  <span class="hljs-keyword">int</span> _storyNumber = <span class="hljs-number">0</span>;<br /><br />  <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">nextStory</span>(<span class="hljs-keyword">int</span> userChoice) {<br />    <span class="hljs-keyword">if</span> (_storyNumber == <span class="hljs-number">0</span>) {<br />      <span class="hljs-keyword">if</span> (userChoice == <span class="hljs-number">1</span>) {<br />        _storyNumber = <span class="hljs-number">2</span>;<br />      } <span class="hljs-keyword">else</span> {<br />        _storyNumber = <span class="hljs-number">1</span>;<br />      }<br />    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (_storyNumber == <span class="hljs-number">1</span>) {<br />      <span class="hljs-keyword">if</span> (userChoice == <span class="hljs-number">1</span>) {<br />        _storyNumber = <span class="hljs-number">2</span>;<br />      } <span class="hljs-keyword">else</span> {<br />        _storyNumber = <span class="hljs-number">3</span>;<br />      }<br />    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (_storyNumber == <span class="hljs-number">2</span>) {<br />      <span class="hljs-keyword">if</span> (userChoice == <span class="hljs-number">1</span>) {<br />        _storyNumber = <span class="hljs-number">5</span>;<br />      } <span class="hljs-keyword">else</span> {<br />        _storyNumber = <span class="hljs-number">4</span>;<br />      }<br />    } <span class="hljs-keyword">else</span> {<br />      <span class="hljs-title function_ invoke__">restart</span>();<br />    }<br />  }<br /><br />  <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">restart</span>() {<br />    _storyNumber = <span class="hljs-number">0</span>;<br />  }<br /><br />  String <span class="hljs-title function_ invoke__">getStory</span>() {<br />    <span class="hljs-keyword">return</span> _storyData[_storyNumber].storyTitle;<br />  }<br /><br />  String <span class="hljs-title function_ invoke__">getChoice1</span>() {<br />    <span class="hljs-keyword">return</span> _storyData[_storyNumber].choice1;<br />  }<br /><br />  String <span class="hljs-title function_ invoke__">getChoice2</span>() {<br />    <span class="hljs-keyword">return</span> _storyData[_storyNumber].choice2;<br />  }<br /><br />  <span class="hljs-keyword">bool</span> <span class="hljs-title function_ invoke__">buttonShouldBeVisible</span>() {<br />    <span class="hljs-keyword">if</span> (_storyNumber == <span class="hljs-number">0</span> || _storyNumber == <span class="hljs-number">1</span> || _storyNumber == <span class="hljs-number">2</span>) {<br />      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br />    } <span class="hljs-keyword">else</span> {<br />      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br />    }<br />  }<br />}</span></pre><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="6580" id="6580" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content">import <span class="hljs-string">&#x27;package:destini/story_brain.dart&#x27;</span>;<br />import <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br /><br /><span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">main</span>() =&gt; <span class="hljs-title function_ invoke__">runApp</span>(<span class="hljs-title function_ invoke__">Destini</span>());<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Destini</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">MaterialApp</span>(<br />      <span class="hljs-attr">theme</span>: ThemeData.<span class="hljs-title function_ invoke__">dark</span>(),<br />      <span class="hljs-attr">home</span>: <span class="hljs-title function_ invoke__">StoryPage</span>(),<br />    );<br />  }<br />}<br /><br />StoryBrain storyBrain = <span class="hljs-title function_ invoke__">StoryBrain</span>();<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoryPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{<br />  _StoryPageState <span class="hljs-title function_ invoke__">createState</span>() =&gt; <span class="hljs-title function_ invoke__">_StoryPageState</span>();<br />}<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_StoryPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">StoryPage</span>&gt; </span>{<br />  @override<br />  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {<br />    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Scaffold</span>(<br />      <span class="hljs-attr">body</span>: <span class="hljs-title function_ invoke__">Container</span>(<br />        <span class="hljs-attr">decoration</span>: <span class="hljs-title function_ invoke__">BoxDecoration</span>(<br />          <span class="hljs-attr">image</span>: <span class="hljs-title function_ invoke__">DecorationImage</span>(<br />            <span class="hljs-attr">image</span>: <span class="hljs-title function_ invoke__">AssetImage</span>(<span class="hljs-string">&#x27;images/background.png&#x27;</span>),<br />            <span class="hljs-attr">fit</span>: BoxFit.cover,<br />          ),<br />        ),<br />        <span class="hljs-attr">padding</span>: EdgeInsets.<span class="hljs-title function_ invoke__">symmetric</span>(<span class="hljs-attr">vertical</span>: <span class="hljs-number">50.0</span>, <span class="hljs-attr">horizontal</span>: <span class="hljs-number">15.0</span>),<br />        <span class="hljs-attr">constraints</span>: BoxConstraints.<span class="hljs-title function_ invoke__">expand</span>(),<br />        <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(<br />          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Column</span>(<br />            <span class="hljs-attr">crossAxisAlignment</span>: CrossAxisAlignment.stretch,<br />            <span class="hljs-attr">children</span>: &lt;Widget&gt;[<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">12</span>,<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                    storyBrain.<span class="hljs-title function_ invoke__">getStory</span>(),<br />                    <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25.0</span>,<br />                    ),<br />                  ),<br />                ),<br />              ),<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">2</span>,<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />                  <span class="hljs-attr">onPressed</span>: () {<br />                    <span class="hljs-title function_ invoke__">setState</span>(() {<br />                      storyBrain.<span class="hljs-title function_ invoke__">nextStory</span>(<span class="hljs-number">1</span>);<br />                    });<br />                  },<br />                  <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                    <span class="hljs-attr">backgroundColor</span>: Colors.red,<br />                    <span class="hljs-attr">foregroundColor</span>: Colors.white, // 文字的颜色<br />                  ),<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                    storyBrain.<span class="hljs-title function_ invoke__">getChoice1</span>(),<br />                    <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20.0</span>,<br />                    ),<br />                  ),<br />                ),<br />              ),<br />              <span class="hljs-title function_ invoke__">SizedBox</span>(<br />                <span class="hljs-attr">height</span>: <span class="hljs-number">20.0</span>,<br />              ),<br />              <span class="hljs-title function_ invoke__">Expanded</span>(<br />                <span class="hljs-attr">flex</span>: <span class="hljs-number">2</span>,<br />                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Visibility</span>(<br />                  <span class="hljs-attr">visible</span>: storyBrain.<span class="hljs-title function_ invoke__">buttonShouldBeVisible</span>(),<br />                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">TextButton</span>(<br />                    <span class="hljs-attr">onPressed</span>: () {<br />                      <span class="hljs-title function_ invoke__">setState</span>(() {<br />                        storyBrain.<span class="hljs-title function_ invoke__">nextStory</span>(<span class="hljs-number">2</span>);<br />                      });<br />                    },<br />                    <span class="hljs-attr">style</span>: TextButton.<span class="hljs-title function_ invoke__">styleFrom</span>(<br />                      <span class="hljs-attr">backgroundColor</span>: Colors.red,<br />                      <span class="hljs-attr">foregroundColor</span>: Colors.white, // 文字的颜色<br />                    ),<br />                    <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Text</span>(<br />                      storyBrain.<span class="hljs-title function_ invoke__">getChoice2</span>(),<br />                      <span class="hljs-attr">style</span>: <span class="hljs-title function_ invoke__">TextStyle</span>(<br />                        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20.0</span>,<br />                      ),<br />                    ),<br />                  ),<br />                ),<br />              ),<br />            ],<br />          ),<br />        ),<br />      ),<br />    );<br />  }<br />}</span></pre><figure name="cdff" id="cdff" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*P_zcLVvJQXVlgZJ6W0NRqg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*P_zcLVvJQXVlgZJ6W0NRqg.png"></figure><figure name="2178" id="2178" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*QFgf_tlXuD7jVzYCHe4osw.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*QFgf_tlXuD7jVzYCHe4osw.png"></figure><p name="c064" id="c064" class="graf graf--p graf--empty graf-after--figure graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/2de3c94e77e3">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>