<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 SwiftSoup 爬蟲網頁 — 以解析  KKBOX 歌詞的 JSON-LD 為例</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 SwiftSoup 爬蟲網頁 — 以解析  KKBOX 歌詞的 JSON-LD 為例</h1>
</header>
<section data-field="subtitle" class="p-summary">
最近彼得潘發現 KKBOX 的專輯和歌曲頁面都在 html 裡包含了  JSON-LD。JSON-LD (JavaScript Object Notation for Linked Data) 是一段 JSON 格式的內容，因此我們可從 JSON-LD 方便地取得 JSON…
</section>
<section data-field="body" class="e-content">
<section name="29d6" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="c44d" id="c44d" class="graf graf--h3 graf--leading graf--title">使用 SwiftSoup 爬蟲網頁 — 以解析 KKBOX 歌詞的 JSON-LD 為例</h3><p name="1fbf" id="1fbf" class="graf graf--p graf-after--h3">最近彼得潘發現 KKBOX 的專輯和歌曲頁面都在 html 裡包含了 JSON-LD。JSON-LD (JavaScript Object Notation for Linked Data) 是一段 JSON 格式的內容，因此我們可從 JSON-LD 方便地取得 JSON 資料。</p><p name="28e6" id="28e6" class="graf graf--p graf-after--p">以戴佩妮的專輯被動的觀眾為例，以下為專輯和歌曲的 JSON-LD。</p><ul class="postList"><li name="76e2" id="76e2" class="graf graf--li graf-after--p">專輯的 JSON-LD。</li></ul><div name="ca75" id="ca75" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://www.kkbox.com/tw/tc/album/4nnQ1DMEzvZw01hFCO" data-href="https://www.kkbox.com/tw/tc/album/4nnQ1DMEzvZw01hFCO" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.kkbox.com/tw/tc/album/4nnQ1DMEzvZw01hFCO"><strong class="markup--strong markup--mixtapeEmbed-strong">被動的觀眾</strong><br><em class="markup--em markup--mixtapeEmbed-em">將愛。止於被動 讓愛。始於互動 華語樂壇 好久不見 戴佩妮 2022全新創作專輯《被動的觀眾》 2022/06/29 我們的愛，開始流動 時隔六年 細細雕琢出全新創作專輯《被動的觀眾》 華語樂壇唱作人 戴佩妮 終於發片！…</em>www.kkbox.com</a><a href="https://www.kkbox.com/tw/tc/album/4nnQ1DMEzvZw01hFCO" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="32de13b3a326d16b8f59bf5ba4025438" data-thumbnail-img-id="0*DjLy79IaZNmRWydO" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*DjLy79IaZNmRWydO);"></a></div><p name="e2cd" id="e2cd" class="graf graf--p graf-after--mixtapeEmbed">JSON-LD 區塊包在 <code class="markup--code markup--p-code">&lt;script type=&quot;application/ld+json&quot;&gt; &lt;/script&gt;</code>。</p><figure name="73e7" id="73e7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*MB4Q8CNusZ5pGoxpKQXNsw.png" data-width="1578" data-height="466" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*MB4Q8CNusZ5pGoxpKQXNsw.png"></figure><ul class="postList"><li name="5291" id="5291" class="graf graf--li graf-after--figure">歌曲的 JSON-LD。</li></ul><div name="1f8b" id="1f8b" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6" data-href="https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6"><strong class="markup--strong markup--mixtapeEmbed-strong">後果自負</strong><br><em class="markup--em markup--mixtapeEmbed-em">後果自負-歌詞- 我早就承認我不夠聰明 就不必再三強調我笨得可以 要多過從甚密 才算是意亂情迷 但看在底線的眼裡 早越過安全區 我早就知道你不夠專一 就不必… -快打開 KKBOX 盡情收聽。</em>www.kkbox.com</a><a href="https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7a26bac255eec3b1f12a15cf258630c5" data-thumbnail-img-id="0*IgquisCkcRnRRznX" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*IgquisCkcRnRRznX);"></a></div><figure name="e3e5" id="e3e5" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*EPevk5QBhsXhlPURCD6G_w.png" data-width="1558" data-height="504" src="https://cdn-images-1.medium.com/max/800/1*EPevk5QBhsXhlPURCD6G_w.png"></figure><p name="382a" id="382a" class="graf graf--p graf-after--figure">以下我們以戴佩妮的歌曲為例，使用套件 SwiftSoup 爬蟲取得它的 JSON-LD，製作顯示歌詞的 iOS App。</p><h3 name="d5a8" id="d5a8" class="graf graf--h3 graf-after--p">加入 SwiftSoup 套件</h3><p name="f134" id="f134" class="graf graf--p graf-after--h3">加入 Swift 知名的爬蟲套件 SwiftSoup。</p><div name="1671" id="1671" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/scinfu/SwiftSoup" data-href="https://github.com/scinfu/SwiftSoup" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/scinfu/SwiftSoup"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - scinfu/SwiftSoup: SwiftSoup: Pure Swift HTML Parser, with best of DOM, CSS, and jquery…</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftSoup: Pure Swift HTML Parser, with best of DOM, CSS, and jquery (Supports Linux, iOS, Mac, tvOS, watchOS) - GitHub…</em>github.com</a><a href="https://github.com/scinfu/SwiftSoup" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="3c17054c5b4290d775fee25d885c2e31" data-thumbnail-img-id="0*J2Mgm4HklSPbTKQr" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*J2Mgm4HklSPbTKQr);"></a></div><figure name="150b" id="150b" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*OmiWPHohIwiffFJNssHW4Q.png" data-width="530" data-height="522" src="https://cdn-images-1.medium.com/max/800/1*OmiWPHohIwiffFJNssHW4Q.png"></figure><h3 name="b6fc" id="b6fc" class="graf graf--h3 graf-after--figure">使用 SwiftSoup 找出網頁裡的 JSON-LD</h3><p name="00b8" id="00b8" class="graf graf--p graf-after--h3">以下我們從 playground 示範使用 SwiftSoup 找出網頁裡的 JSON-LD，分別示範 async/await 版和 completion handler 版的 dataTask 寫法。</p><ul class="postList"><li name="fb39" id="fb39" class="graf graf--li graf-after--p">async/await 版的 dataTask。</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="cbc0" id="cbc0" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><span class="hljs-keyword">import</span> SwiftSoup<br /><br /><span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchSong</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {<br />    <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6&quot;</span>)<span class="hljs-operator">!</span><br />    <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)<br />    <br />    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> html <span class="hljs-operator">=</span> <span class="hljs-type">String</span>(data: data, encoding: .utf8) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }<br />    <span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">SwiftSoup</span>.parse(html)<br />    <span class="hljs-keyword">let</span> scripts <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> document.select(<span class="hljs-string">&quot;script[type=application/ld+json]&quot;</span>)<br />    <span class="hljs-keyword">for</span> script <span class="hljs-keyword">in</span> scripts {<br />        <span class="hljs-keyword">let</span> jsonString <span class="hljs-operator">=</span> script.data()<br />        <span class="hljs-built_in">print</span>(jsonString)<br />    }<br />}<br /><br /><span class="hljs-type">Task</span> {<br />    <span class="hljs-keyword">do</span> {<br />        <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> fetchSong()<br />    } <span class="hljs-keyword">catch</span> {<br />        <span class="hljs-built_in">print</span>(error)<br />    }<br />}</span></pre><ul class="postList"><li name="ed04" id="ed04" class="graf graf--li graf-after--pre">completion handler 版的 dataTask。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f70a" id="f70a" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><span class="hljs-keyword">import</span> SwiftSoup<br /><br /><span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchSong</span>() {<br />    <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6&quot;</span>)<span class="hljs-operator">!</span><br />    <span class="hljs-type">URLSession</span>.shared.dataTask(with: url) { data, response, error <span class="hljs-keyword">in</span><br />        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data,<br />              <span class="hljs-keyword">let</span> html <span class="hljs-operator">=</span> <span class="hljs-type">String</span>(data: data, encoding: .utf8) <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">return</span><br />        }<br />        <span class="hljs-keyword">do</span> {<br />            <span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">SwiftSoup</span>.parse(html)<br />            <span class="hljs-keyword">let</span> scripts <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> document.select(<span class="hljs-string">&quot;script[type=application/ld+json]&quot;</span>)<br />            <span class="hljs-keyword">for</span> script <span class="hljs-keyword">in</span> scripts {<br />                <span class="hljs-keyword">let</span> jsonString <span class="hljs-operator">=</span> script.data()<br />                <span class="hljs-built_in">print</span>(jsonString)<br />            }<br />        } <span class="hljs-keyword">catch</span> <span class="hljs-keyword">let</span> error {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Error: <span class="hljs-subst">\(error)</span>&quot;</span>)<br />        }<br />    }.resume()<br />}<br /><br />fetchSong()</span></pre><ul class="postList"><li name="3b2a" id="3b2a" class="graf graf--li graf-after--pre">爬蟲程式的相關說明。</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="javascript" name="bb99" id="bb99" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> <span class="hljs-variable language_">document</span> = <span class="hljs-keyword">try</span> <span class="hljs-title class_">SwiftSoup</span>.<span class="hljs-title function_">parse</span>(html)<br /><span class="hljs-keyword">let</span> scripts = <span class="hljs-keyword">try</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">select</span>(<span class="hljs-string">&quot;script[type=application/ld+json]&quot;</span>)<br /><span class="hljs-keyword">for</span> script <span class="hljs-keyword">in</span> scripts {<br />    <span class="hljs-keyword">let</span> jsonString = script.<span class="hljs-title function_">data</span>()<br />    <span class="hljs-title function_">print</span>(jsonString)<br />}</span></pre><p name="4e1e" id="4e1e" class="graf graf--p graf-after--pre">說明</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="84ad" id="84ad" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">SwiftSoup</span>.parse(html)</span></pre><p name="5e7a" id="5e7a" class="graf graf--p graf-after--pre">呼叫 parse 解析 html，得到儲存網頁內容的 Document 物件。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c0dc" id="c0dc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> scripts <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> document.select(<span class="hljs-string">&quot;script[type=application/ld+json]&quot;</span>)</span></pre><p name="cc8a" id="cc8a" class="graf graf--p graf-after--pre">JSON-LD 區塊包在 <code class="markup--code markup--p-code">&lt;script type=&quot;application/ld+json&quot;&gt;</code> 裡，因此我們呼叫 select，傳入 <code class="markup--code markup--p-code">&lt;script type=&quot;application/ld+json&quot;&gt;</code>，它將回傳 html 裡所有 JSON-LD 出現的區塊。</p><pre data-code-block-mode="0" spellcheck="false" name="f44c" id="f44c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">for script in scripts {<br>    let jsonString = script.data()<br>    print(jsonString)<br>}</span></pre><p name="9a82" id="9a82" class="graf graf--p graf-after--pre">用迴圈印出剛剛找到的 JSON-LD 區塊，呼叫 data() 取得它包含的內容。它將印出 5 個 JSON-LD 區塊的 JSON。</p><figure name="61a8" id="61a8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*yE_tMWbbD1T7zDkA5dlhIg.png" data-width="1646" data-height="1020" src="https://cdn-images-1.medium.com/max/800/1*yE_tMWbbD1T7zDkA5dlhIg.png"><figcaption class="imageCaption">從網頁 html 的原始碼搜尋也可發現有 5 個 JSON-LD 區塊。</figcaption></figure><h3 name="bd7d" id="bd7d" class="graf graf--h3 graf-after--figure">練習</h3><p name="d7ee" id="d7ee" class="graf graf--p graf-after--h3">解析包含歌詞的 JSON-LD，製作顯示歌詞的 iOS App 。</p><figure name="c422" id="c422" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ggQPNVrJXQXvPc6_MxxL7g.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*ggQPNVrJXQXvPc6_MxxL7g.png"></figure><h3 name="ccf9" id="ccf9" class="graf graf--h3 graf-after--figure">解答</h3><ul class="postList"><li name="a3fe" id="a3fe" class="graf graf--li graf-after--h3">定義 JSON 對應的 Decodable 型別。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="bfff" id="bfff" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">JSONLD</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> type: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CodingKeys</span>: <span class="hljs-title class_">String</span>, <span class="hljs-title class_">CodingKey</span> {<br />        <span class="hljs-keyword">case</span> type <span class="hljs-operator">=</span> <span class="hljs-string">&quot;@type&quot;</span><br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Song</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> recordingOf: <span class="hljs-type">Recording</span><br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Recording</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> lyrics: <span class="hljs-type">Lyrics</span><br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Lyrics</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> text: <span class="hljs-type">String</span><br />}</span></pre><ul class="postList"><li name="7c7d" id="7c7d" class="graf graf--li graf-after--pre">解析 JSON-LD 顯示歌詞</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3a85" id="3a85" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><span class="hljs-keyword">import</span> SwiftSoup<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> song: <span class="hljs-type">Song</span>?<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">ScrollView</span> {<br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;後果自負&quot;</span>)<br />                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> song {<br />                    <span class="hljs-type">Text</span>(song.recordingOf.lyrics.text)<br />                } <span class="hljs-keyword">else</span> {<br />                    <span class="hljs-type">ProgressView</span>()<br />                }<br />            }<br />            .frame(maxWidth: .infinity)<br /><br />        }<br />        .task {<br />            <span class="hljs-keyword">do</span> {<br />                <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> fetchSong()<br />            } <span class="hljs-keyword">catch</span> {<br />                <span class="hljs-built_in">print</span>(error)<br />            }<br />        }<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchSong</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {<br />        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://www.kkbox.com/tw/tc/song/4pNcTJJxiO7N7QvVj6&quot;</span>)<span class="hljs-operator">!</span><br />        <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)<br />        <br />        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> html <span class="hljs-operator">=</span> <span class="hljs-type">String</span>(data: data, encoding: .utf8) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }<br />        <span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">SwiftSoup</span>.parse(html)<br />        <span class="hljs-keyword">let</span> scripts <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> document.select(<span class="hljs-string">&quot;script[type=application/ld+json]&quot;</span>)<br />        <span class="hljs-keyword">for</span> script <span class="hljs-keyword">in</span> scripts {<br />            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> script.data().data(using: .utf8) {<br />                <span class="hljs-keyword">let</span> jsonLD <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode(<span class="hljs-type">JSONLD</span>.<span class="hljs-keyword">self</span>, from: data)<br />                <span class="hljs-keyword">if</span> jsonLD.type <span class="hljs-operator">==</span> <span class="hljs-string">&quot;MusicRecording&quot;</span> {<br />                    song <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode(<span class="hljs-type">Song</span>.<span class="hljs-keyword">self</span>, from: data)<br />                    <span class="hljs-keyword">break</span><br />                }<br />            }<br />        }<br />    }<br />}</span></pre><p name="f509" id="f509" class="graf graf--p graf-after--pre">html 裡有多個 JSON-LD 區塊，不過我們只關心 @type 為 MusicRecording 的區塊，因此利用 <code class="markup--code markup--p-code">if jsonLD.type == &quot;MusicRecording&quot; </code>做判斷。</p><figure name="2424" id="2424" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FNObPirKqY8K_UTrftdgVw.png" data-width="1576" data-height="538" src="https://cdn-images-1.medium.com/max/800/1*FNObPirKqY8K_UTrftdgVw.png"></figure><h3 name="3093" id="3093" class="graf graf--h3 graf-after--figure">其它練習</h3><p name="9fde" id="9fde" class="graf graf--p graf-after--h3">Yahoo 電影也提供了 JSON-LD，有興趣的朋友也可以用 SwiftSoup 解析網頁製作電影 App。</p><div name="4a53" id="4a53" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://apppeterpan.medium.com/%E5%BE%9E-json-ld-%E5%8F%96%E5%BE%97%E4%B8%8A%E6%98%A0%E4%B8%AD%E9%9B%BB%E5%BD%B1%E7%9A%84-json-bb6945050ba2" data-href="https://apppeterpan.medium.com/%E5%BE%9E-json-ld-%E5%8F%96%E5%BE%97%E4%B8%8A%E6%98%A0%E4%B8%AD%E9%9B%BB%E5%BD%B1%E7%9A%84-json-bb6945050ba2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://apppeterpan.medium.com/%E5%BE%9E-json-ld-%E5%8F%96%E5%BE%97%E4%B8%8A%E6%98%A0%E4%B8%AD%E9%9B%BB%E5%BD%B1%E7%9A%84-json-bb6945050ba2"><strong class="markup--strong markup--mixtapeEmbed-strong">從 JSON-LD 取得上映中電影的 JSON</strong><br><em class="markup--em markup--mixtapeEmbed-em">為了取得上映中電影的資訊，網路上可以查到許多爬蟲程式的相關教學。不過最近彼得潘發現 Yahoo 電影時刻表提供方便的 JSON-LD (JavaScript Object Notation for Linked Data)，它是一段…</em>apppeterpan.medium.com</a><a href="https://apppeterpan.medium.com/%E5%BE%9E-json-ld-%E5%8F%96%E5%BE%97%E4%B8%8A%E6%98%A0%E4%B8%AD%E9%9B%BB%E5%BD%B1%E7%9A%84-json-bb6945050ba2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="41186e5fee31150c9782015ea190d20e" data-thumbnail-img-id="1*E9bnAmwYSFJ03OQjHdAKPQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*E9bnAmwYSFJ03OQjHdAKPQ.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/515c4f3ede35"><time class="dt-published" datetime="2023-06-04T12:37:50.469Z">June 4, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-swiftsoup-%E7%88%AC%E8%9F%B2%E7%B6%B2%E9%A0%81-%E4%BB%A5%E8%A7%A3%E6%9E%90-kkbox-%E6%AD%8C%E8%A9%9E%E7%9A%84-json-ld-%E7%82%BA%E4%BE%8B-515c4f3ede35" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>