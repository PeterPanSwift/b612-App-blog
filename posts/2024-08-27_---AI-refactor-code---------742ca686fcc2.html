<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 AI refactor code(改進程式作業)</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 AI refactor code(改進程式作業)</h1>
</header>
<section data-field="subtitle" class="p-summary">
辛苦地寫完程式後，我們可以請 AI 給建議，幫助我們了解自己不足跟可以改善的地方。
</section>
<section data-field="body" class="e-content">
<section name="9064" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5cfb" id="5cfb" class="graf graf--h3 graf--leading graf--title">使用 AI refactor code(改進程式作業)</h3><p name="8067" id="8067" class="graf graf--p graf-after--h3">辛苦地寫完程式後，我們可以請 AI 給建議，幫助我們了解自己不足跟可以改善的地方。</p><p name="b2b9" id="b2b9" class="graf graf--p graf-after--p">除了常見的 Claude、ChatGPT、Gemine、Grok，我們也可以使用擅長用 AI 寫程式的 IDE。透過 IDE 我們可以直接開啟專案資料夾，請 AI 修改專案的程式。</p><p name="f9d3" id="f9d3" class="graf graf--p graf-after--p">以下彼得潘以同學 Linda 的程式作業生日快樂 App 為例，說明如何使用 Xcode Coding Assistant、GitHub Copilot for Xcode、Cursor App refactor code(改進程式)。</p><div name="9dc4" id="9dc4" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E8%AE%93xcode%E5%88%BB%E5%87%BA%E4%B8%80%E6%AC%BE-%E5%8F%AF%E4%BB%A5%E5%94%B1%E5%A4%9A%E5%9C%8B%E8%AA%9E%E7%94%9F%E6%97%A5%E5%BF%AB%E6%A8%82%E6%AD%8C%E7%9A%84app-375a77dcfdba" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E8%AE%93xcode%E5%88%BB%E5%87%BA%E4%B8%80%E6%AC%BE-%E5%8F%AF%E4%BB%A5%E5%94%B1%E5%A4%9A%E5%9C%8B%E8%AA%9E%E7%94%9F%E6%97%A5%E5%BF%AB%E6%A8%82%E6%AD%8C%E7%9A%84app-375a77dcfdba" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E8%AE%93xcode%E5%88%BB%E5%87%BA%E4%B8%80%E6%AC%BE-%E5%8F%AF%E4%BB%A5%E5%94%B1%E5%A4%9A%E5%9C%8B%E8%AA%9E%E7%94%9F%E6%97%A5%E5%BF%AB%E6%A8%82%E6%AD%8C%E7%9A%84app-375a77dcfdba"><strong class="markup--strong markup--mixtapeEmbed-strong">讓Xcode刻出 — 可以唱多國語生日快樂歌的app!</strong><br><em class="markup--em markup--mixtapeEmbed-em">既然Ｘcode playground可以”唱“出聲音，何不開發一款可在慶生時唱各國生日快樂歌的app 工具呢？讓你英日韓印尼德文法文生日歌一次擁有！</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E8%AE%93xcode%E5%88%BB%E5%87%BA%E4%B8%80%E6%AC%BE-%E5%8F%AF%E4%BB%A5%E5%94%B1%E5%A4%9A%E5%9C%8B%E8%AA%9E%E7%94%9F%E6%97%A5%E5%BF%AB%E6%A8%82%E6%AD%8C%E7%9A%84app-375a77dcfdba" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bb6434dea07f339b1f29fdcc4e3e412f" data-thumbnail-img-id="1*Qd28RQPevbxHZFZ9iWdNaA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Qd28RQPevbxHZFZ9iWdNaA.png);"></a></div><p name="281c" id="281c" class="graf graf--p graf-after--mixtapeEmbed">以下為生日快樂 App 的原始程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="a73a" id="a73a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> AVFAudio<br /><span class="hljs-keyword">import</span> AVKit<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br /><br />    <span class="hljs-keyword">var</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>() <span class="hljs-comment">//加這條讓下面有聲音</span><br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    }<br /><br />    <br />    <span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">chinese</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />                <br />        <br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; 祝 你生日快樂 ，祝你生日快樂，祝你生日快樂，祝你生日快樂&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />           utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">0.8</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer2 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">english</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; happy birthday to you, happy birthday to you, happy birthday to you u, happy birthday to you!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;en-us&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer3 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">japan</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう！&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;ja-jp&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <span class="hljs-keyword">let</span> synthesizer4 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">korean</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; 생일 축하합니다, 생일 축하합니다, 생일 축하합니다, 생일 축하합니다!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;ko-kr&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer5 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">indonesia</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; Selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;en-id&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.3</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <span class="hljs-keyword">let</span> synthesizer6 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">thai</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;th-th&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.3</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer7 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">german</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; Alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;de-de&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.3</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.4</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer8 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">spanish</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; Feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;es-es&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.4</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer9 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">italian</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot; Buon compleanno a te, buon compleanno a te, buon compleanno a te, buon compleanno a te!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;it-it&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.4</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />    }<br />    <br />    <span class="hljs-keyword">let</span> synthesizer10 <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">french</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: <span class="hljs-string">&quot;Joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi!&quot;</span>)<br />           utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;fr-fr&quot;</span>)<br />           utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">// 語速</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> <span class="hljs-comment">//最大聲</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.6</span>  <span class="hljs-comment">// 音高</span><br />           synthesizer.speak(utterance)<br />        <br />        <br />    }<br />    <br />    <br />    <br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">background</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/lgvRsSSvapkyMtPxGXuTieKqMunsUty0JvAsrJ6q.mp3&quot;</span>)<span class="hljs-operator">!</span><br />                <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url:url)<br />                player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>(playerItem: playerItem)<br />                player.volume <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">//聲音小聲</span><br />                player.play()<br />    }   <br />}</span></pre><h3 name="4b93" id="4b93" class="graf graf--h3 graf-after--pre">Xcode Coding Assistant</h3><p name="821f" id="821f" class="graf graf--p graf-after--h3">打開 Xcode Coding Assistant，輸入 refactor code。</p><figure name="9ea7" id="9ea7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PPzeVoTv5VkIgtUt182g-g.png" data-width="766" data-height="206" src="https://cdn-images-1.medium.com/max/800/1*PPzeVoTv5VkIgtUt182g-g.png"></figure><p name="cb27" id="cb27" class="graf graf--p graf-after--figure">AI 的回答。</p><figure name="38f2" id="38f2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2ndOUfNpDk__EwViaDjBcA.png" data-width="760" data-height="1416" src="https://cdn-images-1.medium.com/max/800/1*2ndOUfNpDk__EwViaDjBcA.png"></figure><p name="60cf" id="60cf" class="graf graf--p graf-after--figure">AI 改進後的完整程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="cbca" id="cbca" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> AVFAudio<br /><span class="hljs-keyword">import</span> AVKit<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <br />    <span class="hljs-keyword">var</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>() <span class="hljs-comment">//加這條讓下面有聲音</span><br />    <span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>() <span class="hljs-comment">//避免被消滅</span><br />    <br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">speak</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">text</span>: <span class="hljs-type">String</span>, <span class="hljs-params">language</span>: <span class="hljs-type">String</span>, <span class="hljs-params">rate</span>: <span class="hljs-type">Float</span>, <span class="hljs-params">volume</span>: <span class="hljs-type">Float</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>, <span class="hljs-params">pitch</span>: <span class="hljs-type">Float</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: text)<br />        utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: language)<br />        utterance.rate <span class="hljs-operator">=</span> rate<br />        utterance.volume <span class="hljs-operator">=</span> volume<br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> pitch<br />        synthesizer.speak(utterance)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">chinese</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;祝 你生日快樂 ，祝你生日快樂，祝你生日快樂，祝你生日快樂&quot;</span>, language: <span class="hljs-string">&quot;zh-TW&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">0.8</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">english</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;happy birthday to you, happy birthday to you, happy birthday to you u, happy birthday to you!&quot;</span>, language: <span class="hljs-string">&quot;en-us&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.2</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">japan</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう！&quot;</span>, language: <span class="hljs-string">&quot;ja-jp&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.2</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">korean</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;생일 축하합니다, 생일 축하합니다, 생일 축하합니다, 생일 축하합니다!&quot;</span>, language: <span class="hljs-string">&quot;ko-kr&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.0</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">indonesia</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;Selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu!&quot;</span>, language: <span class="hljs-string">&quot;en-id&quot;</span>, rate: <span class="hljs-number">0.3</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.2</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">thai</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด!&quot;</span>, language: <span class="hljs-string">&quot;th-th&quot;</span>, rate: <span class="hljs-number">0.3</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.2</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">german</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;Alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag!&quot;</span>, language: <span class="hljs-string">&quot;de-de&quot;</span>, rate: <span class="hljs-number">0.3</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.4</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">spanish</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;Feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti!&quot;</span>, language: <span class="hljs-string">&quot;es-es&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.4</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">italian</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;Buon compleanno a te, buon compleanno a te, buon compleanno a te, buon compleanno a te!&quot;</span>, language: <span class="hljs-string">&quot;it-it&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.4</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">french</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(<span class="hljs-string">&quot;Joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi!&quot;</span>, language: <span class="hljs-string">&quot;fr-fr&quot;</span>, rate: <span class="hljs-number">0.2</span>, volume: <span class="hljs-number">1.0</span>, pitch: <span class="hljs-number">1.6</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">background</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/lgvRsSSvapkyMtPxGXuTieKqMunsUty0JvAsrJ6q.mp3&quot;</span>)<span class="hljs-operator">!</span><br />        <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url: url)<br />        player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>(playerItem: playerItem)<br />        player.volume <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>  <span class="hljs-comment">//聲音小聲</span><br />        player.play()<br />    }<br />}</span></pre><h3 name="5fa0" id="5fa0" class="graf graf--h3 graf-after--pre">GitHub Copilot for Xcode</h3><p name="7735" id="7735" class="graf graf--p graf-after--h3">將 GitHub Copilot 設為 Agent mode，輸入 refactor code。</p><figure name="7788" id="7788" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*far05l1gqVpOPv57GzZCOQ.png" data-width="780" data-height="278" src="https://cdn-images-1.medium.com/max/800/1*far05l1gqVpOPv57GzZCOQ.png"></figure><p name="96a0" id="96a0" class="graf graf--p graf-after--figure">AI 的回答。</p><figure name="393c" id="393c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*bLy4oScyKkukAySZFy6YCA.png" data-width="812" data-height="1598" src="https://cdn-images-1.medium.com/max/800/1*bLy4oScyKkukAySZFy6YCA.png"></figure><p name="5390" id="5390" class="graf graf--p graf-after--figure">AI 改進後的完整程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="3bab" id="3bab" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">//</span><br /><span class="hljs-comment">//  ViewController.swift</span><br /><span class="hljs-comment">//  Demo</span><br /><span class="hljs-comment">//</span><br /><span class="hljs-comment">//  Created by SHIH-YING PAN on 2025/7/21.</span><br /><span class="hljs-comment">//</span><br /><br /><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> AVFAudio<br /><span class="hljs-keyword">import</span> AVKit<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <br />    <span class="hljs-comment">// MARK: - Properties</span><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>()<br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br />    <br />    <span class="hljs-comment">// MARK: - Language Configuration</span><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LanguageConfig</span> {<br />        <span class="hljs-keyword">let</span> text: <span class="hljs-type">String</span><br />        <span class="hljs-keyword">let</span> languageCode: <span class="hljs-type">String</span><br />        <span class="hljs-keyword">let</span> rate: <span class="hljs-type">Float</span><br />        <span class="hljs-keyword">let</span> volume: <span class="hljs-type">Float</span><br />        <span class="hljs-keyword">let</span> pitchMultiplier: <span class="hljs-type">Float</span><br />        <br />        <span class="hljs-keyword">init</span>(<span class="hljs-params">text</span>: <span class="hljs-type">String</span>, <span class="hljs-params">languageCode</span>: <span class="hljs-type">String</span>, <span class="hljs-params">rate</span>: <span class="hljs-type">Float</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>, <span class="hljs-params">volume</span>: <span class="hljs-type">Float</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>, <span class="hljs-params">pitchMultiplier</span>: <span class="hljs-type">Float</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>) {<br />            <span class="hljs-keyword">self</span>.text <span class="hljs-operator">=</span> text<br />            <span class="hljs-keyword">self</span>.languageCode <span class="hljs-operator">=</span> languageCode<br />            <span class="hljs-keyword">self</span>.rate <span class="hljs-operator">=</span> rate<br />            <span class="hljs-keyword">self</span>.volume <span class="hljs-operator">=</span> volume<br />            <span class="hljs-keyword">self</span>.pitchMultiplier <span class="hljs-operator">=</span> pitchMultiplier<br />        }<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lazy</span> <span class="hljs-keyword">var</span> languageConfigs: [<span class="hljs-type">String</span>: <span class="hljs-type">LanguageConfig</span>] <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;chinese&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;祝你生日快樂，祝你生日快樂，祝你生日快樂，祝你生日快樂&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;zh-TW&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.0</span>,<br />            pitchMultiplier: <span class="hljs-number">0.8</span><br />        ),<br />        <span class="hljs-string">&quot;english&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Happy birthday to you, happy birthday to you, happy birthday to you, happy birthday to you!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;en-US&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.0</span>,<br />            pitchMultiplier: <span class="hljs-number">1.2</span><br />        ),<br />        <span class="hljs-string">&quot;japanese&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう！&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;ja-JP&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.0</span>,<br />            pitchMultiplier: <span class="hljs-number">1.2</span><br />        ),<br />        <span class="hljs-string">&quot;korean&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;생일 축하합니다, 생일 축하합니다, 생일 축하합니다, 생일 축하합니다!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;ko-KR&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.0</span>,<br />            pitchMultiplier: <span class="hljs-number">1.0</span><br />        ),<br />        <span class="hljs-string">&quot;indonesian&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;id-ID&quot;</span>,<br />            rate: <span class="hljs-number">0.3</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.2</span><br />        ),<br />        <span class="hljs-string">&quot;thai&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;th-TH&quot;</span>,<br />            rate: <span class="hljs-number">0.3</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.2</span><br />        ),<br />        <span class="hljs-string">&quot;german&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;de-DE&quot;</span>,<br />            rate: <span class="hljs-number">0.3</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.4</span><br />        ),<br />        <span class="hljs-string">&quot;spanish&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;es-ES&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.4</span><br />        ),<br />        <span class="hljs-string">&quot;italian&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Buon compleanno a te, buon compleanno a te, buon compleanno a te, buon compleanno a te!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;it-IT&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.4</span><br />        ),<br />        <span class="hljs-string">&quot;french&quot;</span>: <span class="hljs-type">LanguageConfig</span>(<br />            text: <span class="hljs-string">&quot;Joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi!&quot;</span>,<br />            languageCode: <span class="hljs-string">&quot;fr-FR&quot;</span>,<br />            rate: <span class="hljs-number">0.2</span>,<br />            volume: <span class="hljs-number">1.2</span>,<br />            pitchMultiplier: <span class="hljs-number">1.6</span><br />        )<br />    ]<br />    <br />    <span class="hljs-comment">// MARK: - Lifecycle</span><br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        setupAudioSession()<br />    }<br />    <br />    <span class="hljs-comment">// MARK: - Private Methods</span><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">setupAudioSession</span>() {<br />        <span class="hljs-keyword">do</span> {<br />            <span class="hljs-keyword">try</span> <span class="hljs-type">AVAudioSession</span>.sharedInstance().setCategory(.playback, mode: .default)<br />            <span class="hljs-keyword">try</span> <span class="hljs-type">AVAudioSession</span>.sharedInstance().setActive(<span class="hljs-literal">true</span>)<br />        } <span class="hljs-keyword">catch</span> {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to set audio session category: <span class="hljs-subst">\(error)</span>&quot;</span>)<br />        }<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">language</span>: <span class="hljs-type">String</span>) {<br />        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> languageConfigs[language] <span class="hljs-keyword">else</span> {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Language configuration not found for: <span class="hljs-subst">\(language)</span>&quot;</span>)<br />            <span class="hljs-keyword">return</span><br />        }<br />        <br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: config.text)<br />        utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: config.languageCode)<br />        utterance.rate <span class="hljs-operator">=</span> config.rate<br />        utterance.volume <span class="hljs-operator">=</span> config.volume<br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> config.pitchMultiplier<br />        <br />        synthesizer.speak(utterance)<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">playBackgroundMusic</span>() {<br />        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/lgvRsSSvapkyMtPxGXuTieKqMunsUty0JvAsrJ6q.mp3&quot;</span>) <span class="hljs-keyword">else</span> {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Invalid background music URL&quot;</span>)<br />            <span class="hljs-keyword">return</span><br />        }<br />        <br />        <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url: url)<br />        player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>(playerItem: playerItem)<br />        player.volume <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span><br />        player.play()<br />    }<br />    <br />    <span class="hljs-comment">// MARK: - IBActions</span><br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">chinese</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;chinese&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">english</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;english&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">japan</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;japanese&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">korean</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;korean&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">indonesia</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;indonesian&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">thai</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;thai&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">german</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;german&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">spanish</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;spanish&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">italian</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;italian&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">french</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        speak(language: <span class="hljs-string">&quot;french&quot;</span>)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">background</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        playBackgroundMusic()<br />    }<br />}</span></pre><h3 name="e4bc" id="e4bc" class="graf graf--h3 graf-after--pre">Cursor App refactor code</h3><ul class="postList"><li name="feb6" id="feb6" class="graf graf--li graf-after--h3">下載安裝 Cursor App</li></ul><div name="35e4" id="35e4" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://www.cursor.com/" data-href="https://www.cursor.com/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.cursor.com/"><strong class="markup--strong markup--mixtapeEmbed-strong">Cursor</strong><br><em class="markup--em markup--mixtapeEmbed-em">The AI Code Editor</em>www.cursor.com</a><a href="https://www.cursor.com/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="85dcac6c65e38ee1f880690ccca23897" data-thumbnail-img-id="0*2Y6nVHOgf-Q1guvu" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*2Y6nVHOgf-Q1guvu);"></a></div><ul class="postList"><li name="2106" id="2106" class="graf graf--li graf-after--mixtapeEmbed">從 Cursor App 打開專案資料夾，按下 cmd + L 打開右側的 AI 聊天視窗。</li><li name="82dc" id="82dc" class="graf graf--li graf-after--li">點選想優化的檔案，比方點選 ViewController.swift。</li></ul><p name="1bf5" id="1bf5" class="graf graf--p graf-after--li">如下圖所示，此時 AI 聊天會自動選到 ViewController.swift，表示我們可以詢問它的相關問題。</p><figure name="3c75" id="3c75" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*DM0lGkl8BekitHq6nXuJLw.png" data-width="3606" data-height="1600" src="https://cdn-images-1.medium.com/max/800/1*DM0lGkl8BekitHq6nXuJLw.png"></figure><p name="e851" id="e851" class="graf graf--p graf-after--figure">輸入 refactor code 後按下 enter 送出。</p><figure name="e36e" id="e36e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*50DkMaC90MShXAsUnI34YQ.png" data-width="1718" data-height="446" src="https://cdn-images-1.medium.com/max/800/1*50DkMaC90MShXAsUnI34YQ.png"></figure><p name="fa5f" id="fa5f" class="graf graf--p graf-after--figure">AI 的回答。</p><figure name="cf10" id="cf10" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Bbp5niauHtAecSz5zSQJ9A.png" data-width="1720" data-height="1342" src="https://cdn-images-1.medium.com/max/800/1*Bbp5niauHtAecSz5zSQJ9A.png"></figure><p name="41be" id="41be" class="graf graf--p graf-after--figure">AI 改進後的完整程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="e110" id="e110" class="graf graf--pre graf-after--p graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> AVFAudio<br /><span class="hljs-keyword">import</span> AVKit<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>()<br /><br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">speakBirthday</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UIButton</span>) {<br />        <span class="hljs-keyword">let</span> (text, language) <span class="hljs-operator">=</span> getBirthdayTextAndLanguage(for: sender.tag)<br />        speak(text: text, language: language)<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">getBirthdayTextAndLanguage</span>(<span class="hljs-params">for</span> <span class="hljs-params">tag</span>: <span class="hljs-type">Int</span>) -&gt; (<span class="hljs-type">String</span>, <span class="hljs-type">String</span>) {<br />        <span class="hljs-keyword">switch</span> tag {<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;祝你生日快樂，祝你生日快樂，祝你生日快樂，祝你生日快樂&quot;</span>, <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Happy birthday to you, happy birthday to you, happy birthday to you, happy birthday to you!&quot;</span>, <span class="hljs-string">&quot;en-US&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう、お誕生日おめでとう！&quot;</span>, <span class="hljs-string">&quot;ja-JP&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;생일 축하합니다, 생일 축하합니다, 생일 축하합니다, 생일 축하합니다!&quot;</span>, <span class="hljs-string">&quot;ko-KR&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu, selamat ulang tahun untukmu!&quot;</span>, <span class="hljs-string">&quot;en-ID&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด, สุขสันต์วันเกิด!&quot;</span>, <span class="hljs-string">&quot;th-TH&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag, alles Gute zum Geburtstag!&quot;</span>, <span class="hljs-string">&quot;de-DE&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti, feliz cumpleaños a ti!&quot;</span>, <span class="hljs-string">&quot;es-ES&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Buon compleanno a te, buon compleanno a te, buon compleanno a te, buon compleanno a te!&quot;</span>, <span class="hljs-string">&quot;it-IT&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi, joyeux anniversaire à toi!&quot;</span>, <span class="hljs-string">&quot;fr-FR&quot;</span>)<br />        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> (<span class="hljs-string">&quot;Happy birthday!&quot;</span>, <span class="hljs-string">&quot;en-US&quot;</span>)<br />        }<br />    }<br />    <br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">text</span>: <span class="hljs-type">String</span>, <span class="hljs-params">language</span>: <span class="hljs-type">String</span>) {<br />        <span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(string: text)<br />        utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: language)<br />        utterance.rate <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span><br />        utterance.volume <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span><br />        utterance.pitchMultiplier <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span><br />        synthesizer.speak(utterance)<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">playBackgroundMusic</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/lgvRsSSvapkyMtPxGXuTieKqMunsUty0JvAsrJ6q.mp3&quot;</span>)<span class="hljs-operator">!</span><br />        <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url: url)<br />        player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>(playerItem: playerItem)<br />        player.volume <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span><br />        player.play()<br />    }<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/742ca686fcc2"><time class="dt-published" datetime="2024-08-27T05:41:53.073Z">August 27, 2024</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-zed-cursor-app-refactor-code-%E6%94%B9%E9%80%B2%E7%A8%8B%E5%BC%8F%E4%BD%9C%E6%A5%AD-742ca686fcc2" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>