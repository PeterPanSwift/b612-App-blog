<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 scroll view &amp; container view 水平滑動切換頁面</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 scroll view &amp; container view 水平滑動切換頁面</h1>
</header>
<section data-field="subtitle" class="p-summary">
我們時常在 iOS App 上見到如下圖 Instagram 的畫面設計，點選 button 或水平滑動可切換頁面。
</section>
<section data-field="body" class="e-content">
<section name="4b91" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="51e9" id="51e9" class="graf graf--h3 graf--leading graf--title">利用 scroll view &amp; container view 水平滑動切換頁面</h3><p name="d0dd" id="d0dd" class="graf graf--p graf-after--h3">我們時常在 iOS App 上見到類似 Instagram 的畫面設計，點選 button 或水平滑動可切換頁面。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="3"><figure name="0c55" id="0c55" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 33.333%;"><img class="graf-image" data-image-id="1*GuaFzJa59yr5R4sT9T1LIA.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/400/1*GuaFzJa59yr5R4sT9T1LIA.png"></figure><figure name="0ef7" id="0ef7" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*rdRB70xLY3_5LKgroDCygQ.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/400/1*rdRB70xLY3_5LKgroDCygQ.png"></figure><figure name="fd81" id="fd81" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><img class="graf-image" data-image-id="1*Vdsy2gHOHp2F2RPWFDOmcg.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/400/1*Vdsy2gHOHp2F2RPWFDOmcg.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="0a48" id="0a48" class="graf graf--p graf-after--figure">有很多方法可實現這樣的畫面，比方透過以下步驟實現。</p><ul class="postList"><li name="f393" id="f393" class="graf graf--li graf-after--p">以 scroll view 實現水平捲動。</li><li name="1b5d" id="1b5d" class="graf graf--li graf-after--li">在 scroll view 加入水平排列的 stack view，stack view 將裝著每一個分頁。</li><li name="8dd8" id="8dd8" class="graf graf--li graf-after--li">在 stack view 加入多個 container view，每個 container view 連接的 view controller 負責不同的分頁。</li></ul><figure name="2786" id="2786" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*BU7Rxu2STgXHJjz3jJMu8w.jpeg" data-width="1710" data-height="1188" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*BU7Rxu2STgXHJjz3jJMu8w.jpeg"></figure><p name="d267" id="d267" class="graf graf--p graf-after--figure">接下來我們將以實現 iTunes 上精彩的電影和音樂為例，示範如何透過 scroll view &amp; container view 水平滑動切換頁面。</p><h3 name="d877" id="d877" class="graf graf--h3 graf-after--p">加入切換分頁的 segment control</h3><p name="4e1d" id="4e1d" class="graf graf--p graf-after--h3">分別顯示電影和音樂頁面。</p><figure name="e248" id="e248" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3SHCowKu83MuJlEMh4Bx7A.jpeg" data-width="1238" data-height="1096" src="https://cdn-images-1.medium.com/max/800/1*3SHCowKu83MuJlEMh4Bx7A.jpeg"></figure><figure name="19f0" id="19f0" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*wRrL0NGoGV8d6-Oxe_S_3w.jpeg" data-width="770" data-height="448" src="https://cdn-images-1.medium.com/max/800/1*wRrL0NGoGV8d6-Oxe_S_3w.jpeg"></figure><h3 name="d917" id="d917" class="graf graf--h3 graf-after--figure">加入 scroll view</h3><p name="ea84" id="ea84" class="graf graf--p graf-after--h3">在 segmented control 下加入 scroll view。</p><figure name="8861" id="8861" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*CVr6jY_3YvJI2QRi1zU1_g.jpeg" data-width="566" data-height="1096" src="https://cdn-images-1.medium.com/max/800/1*CVr6jY_3YvJI2QRi1zU1_g.jpeg"></figure><figure name="a727" id="a727" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*CHFzXiNr939ho_7_1GDb7w.jpeg" data-width="512" data-height="294" src="https://cdn-images-1.medium.com/max/800/1*CHFzXiNr939ho_7_1GDb7w.jpeg"></figure><p name="7d1b" id="7d1b" class="graf graf--p graf-after--figure">勾選 scroll view 的 Paging Enabled。</p><figure name="3c58" id="3c58" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gW7lqkLX6OPR81uHbpTNDA.jpeg" data-width="534" data-height="390" src="https://cdn-images-1.medium.com/max/800/1*gW7lqkLX6OPR81uHbpTNDA.jpeg"></figure><p name="1231" id="1231" class="graf graf--p graf-after--figure">Auto Layout 條件的設定如下。</p><figure name="d7b0" id="d7b0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*xrsiEnU8u3S3i4aAUv-8yg.jpeg" data-width="526" data-height="418" src="https://cdn-images-1.medium.com/max/800/1*xrsiEnU8u3S3i4aAUv-8yg.jpeg"></figure><h3 name="46e0" id="46e0" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">在 scroll view 裡加入 horizontal stack view</strong></h3><figure name="3236" id="3236" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*XFhgPKkB-gqlFBImRqex7A.jpeg" data-width="446" data-height="208" src="https://cdn-images-1.medium.com/max/800/1*XFhgPKkB-gqlFBImRqex7A.jpeg"></figure><p name="4397" id="4397" class="graf graf--p graf-after--figure">設定 stack view 上下左右對齊 content layout guide， stack view 的 height 等於 frame layout guide 的 height。</p><figure name="4f4b" id="4f4b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8rTayC6Da1Htdghb5WNoMQ.jpeg" data-width="690" data-height="248" src="https://cdn-images-1.medium.com/max/800/1*8rTayC6Da1Htdghb5WNoMQ.jpeg"></figure><h3 name="b24d" id="b24d" class="graf graf--h3 graf-after--figure">在 stack view 裡加入兩個 container view</h3><figure name="0fc2" id="0fc2" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*uuqXfufdXZcWqDOQERbkFQ.jpeg" data-width="338" data-height="146" src="https://cdn-images-1.medium.com/max/800/1*uuqXfufdXZcWqDOQERbkFQ.jpeg"></figure><p name="f87a" id="f87a" class="graf graf--p graf-after--figure">設定第一個 container view 的 width 等於 frame layout guide 的 width。</p><figure name="2194" id="2194" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*zu0SEQQZgJhJWF2DXUzqMQ.jpeg" data-width="656" data-height="146" src="https://cdn-images-1.medium.com/max/800/1*zu0SEQQZgJhJWF2DXUzqMQ.jpeg"></figure><p name="3794" id="3794" class="graf graf--p graf-after--figure">將 container view 預設連接的 view controller 刪除，等下我們會另外將 container view 各自連到顯示電影和音樂列表的 view controller。</p><figure name="19d2" id="19d2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*vNoCkDhhVMWa1soECarGIw.jpeg" data-width="548" data-height="944" src="https://cdn-images-1.medium.com/max/800/1*vNoCkDhhVMWa1soECarGIw.jpeg"></figure><p name="ec01" id="ec01" class="graf graf--p graf-after--figure">結果</p><figure name="347e" id="347e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tVE_VRNCcALCyKHb1TgBmQ.jpeg" data-width="848" data-height="762" src="https://cdn-images-1.medium.com/max/800/1*tVE_VRNCcALCyKHb1TgBmQ.jpeg"></figure><h3 name="95f2" id="95f2" class="graf graf--h3 graf-after--figure">設定 stack view 的 Alignment &amp; Distribution</h3><p name="2263" id="2263" class="graf graf--p graf-after--h3">Alignment 設為 <strong class="markup--strong markup--p-strong">Fill</strong>，Distribution 設為 <strong class="markup--strong markup--p-strong">Fill Equally</strong>。</p><figure name="6519" id="6519" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cv1LQy1izDvoaLPySpzD_A.jpeg" data-width="526" data-height="358" src="https://cdn-images-1.medium.com/max/800/1*cv1LQy1izDvoaLPySpzD_A.jpeg"></figure><h3 name="7420" id="7420" class="graf graf--h3 graf-after--figure">加入呈現電影和音樂頁面的 table view controller，將 container view 連接到 table view controller</h3><figure name="cbc7" id="cbc7" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*Ku9oofN1dbcUJr7McYhrTQ.jpeg" data-width="1224" data-height="1038" src="https://cdn-images-1.medium.com/max/800/1*Ku9oofN1dbcUJr7McYhrTQ.jpeg"></figure><p name="e1ec" id="e1ec" class="graf graf--p graf-after--figure">從 container view 拉線到 table view controller 時記得要選 Embed。</p><figure name="03a9" id="03a9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gH-_FyhgrW6KPtaCYMSlOQ.jpeg" data-width="390" data-height="364" src="https://cdn-images-1.medium.com/max/800/1*gH-_FyhgrW6KPtaCYMSlOQ.jpeg"></figure><p name="5c54" id="5c54" class="graf graf--p graf-after--figure">將 2 個 table view controller 的 cell reuse ID 都設為 cell。</p><figure name="c329" id="c329" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*b5xJ_v0NKJIKuQ1zMkNXOA.jpeg" data-width="530" data-height="328" src="https://cdn-images-1.medium.com/max/800/1*b5xJ_v0NKJIKuQ1zMkNXOA.jpeg"></figure><h3 name="d00f" id="d00f" class="graf graf--h3 graf-after--figure">將裝著 container view 的 view controller 類別設為自訂的 HomeViewController(繼承 UIViewController)</h3><figure name="ba62" id="ba62" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*kIO6_F7L271itkcT6JpJXQ.jpeg" data-width="1056" data-height="468" src="https://cdn-images-1.medium.com/max/800/1*kIO6_F7L271itkcT6JpJXQ.jpeg"></figure><h3 name="ba44" id="ba44" class="graf graf--h3 graf-after--figure">將 2 個 table view controller 的類別分別設為自訂的 MovieTableViewController &amp; MusicTableViewController (繼承 UITableViewController)</h3></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="38e2" id="38e2" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--h3" style="width: 49.902%;"><img class="graf-image" data-image-id="1*e6EpLDpBG9aA83sBmz6r7Q.jpeg" data-width="552" data-height="270" src="https://cdn-images-1.medium.com/max/600/1*e6EpLDpBG9aA83sBmz6r7Q.jpeg"></figure><figure name="20f0" id="20f0" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50.098%;"><img class="graf-image" data-image-id="1*zruWsVRndJNtA7iQoJbSIQ.jpeg" data-width="554" data-height="270" src="https://cdn-images-1.medium.com/max/600/1*zruWsVRndJNtA7iQoJbSIQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="1880" id="1880" class="graf graf--h3 graf-after--figure">定義抓取 iTunes 資料的網路程式，在 MovieTableViewController &amp; MusicTableViewController 呼叫抓資料的 function</h3><p name="9650" id="9650" class="graf graf--p graf-after--h3">參考範例的 ItunesService.swift，ItunesFeed.swift，MovieTableViewController &amp; MusicTableViewController。</p><p name="214f" id="214f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">結果</strong></p><p name="a7b3" id="a7b3" class="graf graf--p graf-after--p">現在我們的 App 已經可以水平滑動切換電影和音樂的分頁，只是還存在以下 2 個令人不安的缺點，讓我們一個個解決吧。</p><ul class="postList"><li name="a3eb" id="a3eb" class="graf graf--li graf-after--p">水平滑動切換分頁時不會更新 segmented control。</li><li name="8f16" id="8f16" class="graf graf--li graf-after--li">點選 segmented control 無法切換分頁。</li></ul><figure name="b113" id="b113" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*AmvBbKf3WKJv8K_ixcUCNg.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/800/1*AmvBbKf3WKJv8K_ixcUCNg.jpeg"></figure><h3 name="c11b" id="c11b" class="graf graf--h3 graf-after--figure">水平滑動切換分頁時更新 segmented control</h3><ul class="postList"><li name="6d24" id="6d24" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">設定 scroll view 的 delegate 為 HomeViewController。</strong></li></ul><figure name="ba36" id="ba36" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*5IdXtcGwr-bpdGDrGyKMgg.jpeg" data-width="1240" data-height="462" src="https://cdn-images-1.medium.com/max/800/1*5IdXtcGwr-bpdGDrGyKMgg.jpeg"></figure><ul class="postList"><li name="1717" id="1717" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">連接 segmented control 的 outlet (HomeViewController.swift)。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4340" id="4340" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> segmentedControl: <span class="hljs-type">UISegmentedControl</span>!</span></pre><ul class="postList"><li name="41c7" id="41c7" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">滑動停止時計算目前所在的分頁位置，更新 segmented control 的 selectedSegmentIndex。(HomeViewController.swift)</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="82f8" id="82f8" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">HomeViewController</span>: <span class="hljs-title class_">UIScrollViewDelegate</span> {<br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">scrollViewDidEndDecelerating</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scrollView</span>: <span class="hljs-type">UIScrollView</span>) {<br />        <span class="hljs-keyword">let</span> index <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>(scrollView.contentOffset.x <span class="hljs-operator">/</span> scrollView.bounds.width)<br />        segmentedControl.selectedSegmentIndex <span class="hljs-operator">=</span> index<br />    }<br />}</span></pre><h3 name="b1d9" id="b1d9" class="graf graf--h3 graf-after--pre">點選 segmented control 切換分頁</h3><ul class="postList"><li name="3075" id="3075" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">連接 segmented control 的 action (HomeViewController.swift)。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3fa0" id="3fa0" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">changePage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UISegmentedControl</span>) {<br />}</span></pre><ul class="postList"><li name="94f8" id="94f8" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">連接 scroll view 的 outlet (HomeViewController.swift)。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="467b" id="467b" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> scrollView: <span class="hljs-type">UIScrollView</span>!</span></pre><ul class="postList"><li name="72e9" id="72e9" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">點選 segmented control 時捲動 scroll view (HomeViewController.swift)。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3a91" id="3a91" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">changePage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UISegmentedControl</span>) {<br />    <span class="hljs-keyword">let</span> x <span class="hljs-operator">=</span> <span class="hljs-type">CGFloat</span>(sender.selectedSegmentIndex) <span class="hljs-operator">*</span> scrollView.bounds.width<br />    <span class="hljs-keyword">let</span> offset <span class="hljs-operator">=</span> <span class="hljs-type">CGPoint</span>(x: x, y: <span class="hljs-number">0</span>)<br />    scrollView.setContentOffset(offset, animated: <span class="hljs-literal">true</span>)<br />}</span></pre><p name="59a1" id="59a1" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">結果</strong></p><p name="7832" id="7832" class="graf graf--p graf-after--p">現在我們的 segmented control &amp; scroll view 終於能連動了 ~。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="a168" id="a168" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*gUEr4FMdVgEZ6h387SnUfA.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/600/1*gUEr4FMdVgEZ6h387SnUfA.jpeg"></figure><figure name="bb13" id="bb13" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*3VcCCrIF84LITKBY8KXz2g.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/600/1*3VcCCrIF84LITKBY8KXz2g.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="aced" id="aced" class="graf graf--h3 graf-after--figure">One more thing，點選 cell 時顯示照片</h3><p name="f659" id="f659" class="graf graf--p graf-after--h3">當我們在 container view 的 controller 操作時，能不能通知裝著 container view 的 controller 呢 ? 比方在 MovieTableViewController &amp; MusicTableViewController 的 cell 點選時，在 HomeViewController 顯示對應的照片。</p><figure name="d705" id="d705" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*yKtgcDky-Bg0ByuBOug59w.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/800/1*yKtgcDky-Bg0ByuBOug59w.jpeg"></figure><p name="b482" id="b482" class="graf graf--p graf-after--figure">當然可以，實現此功能的步驟如下:</p><ul class="postList"><li name="6396" id="6396" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">在 HomeViewController 加入 image view，outlet 取名為 imageView。</strong></li></ul><figure name="7d6a" id="7d6a" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*vCwI2q8ZGd_vwRLpnVPLcA.jpeg" data-width="1040" data-height="868" src="https://cdn-images-1.medium.com/max/800/1*vCwI2q8ZGd_vwRLpnVPLcA.jpeg"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="a4f9" id="a4f9" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> imageView: <span class="hljs-type">UIImageView</span>!</span></pre><ul class="postList"><li name="e437" id="e437" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">加入抓圖的套件 Kingfisher</strong></li></ul><figure name="a7a9" id="a7a9" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*nC9H0FULh9Fezg_loyVpog.jpeg" data-width="1550" data-height="320" src="https://cdn-images-1.medium.com/max/800/1*nC9H0FULh9Fezg_loyVpog.jpeg"></figure><ul class="postList"><li name="a6e5" id="a6e5" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">點選 cell 時更新圖片。(MovieTableViewController &amp; MusicTableViewController)</strong></li></ul><p name="5e21" id="5e21" class="graf graf--p graf-after--li">當我們在 HomeViewController 上以 container view 容納 MovieTableViewController &amp; MusicTableViewController 時，將產生剪不斷的親子關係。</p><ul class="postList"><li name="caf7" id="caf7" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">MovieTableViewController &amp; MusicTableViewController 的 parent 是 HomeViewController。</strong></li><li name="4f25" id="4f25" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">HomeViewController 的 children 是 MovieTableViewController &amp; MusicTableViewController。</strong></li></ul><figure name="f6c6" id="f6c6" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*lOUF7Dlgkl2t-m-wjA8mGg.jpeg" data-width="1102" data-height="956" src="https://cdn-images-1.medium.com/max/800/1*lOUF7Dlgkl2t-m-wjA8mGg.jpeg"></figure><p name="949b" id="949b" class="graf graf--p graf-after--figure">因此在 MovieTableViewController &amp; MusicTableViewController 的程式裡我們可透過 parent 讀取 HomeViewController。(ps: 在 HomeViewController 也可透過 children 讀取 MovieTableViewController &amp; MusicTableViewController)</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1e25" id="1e25" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">didSelectRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) {<br />    <span class="hljs-keyword">let</span> controller <span class="hljs-operator">=</span> parent <span class="hljs-keyword">as?</span> <span class="hljs-type">HomeViewController</span><br />    <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> results[indexPath.row]<br />    controller<span class="hljs-operator">?</span>.imageView.kf.setImage(with: result.artworkUrl100)<br />}</span></pre><p name="08a5" id="08a5" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">結果</strong></p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="b1ff" id="b1ff" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*aDUvGRYcjaITfU-jS2cKFw.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/600/1*aDUvGRYcjaITfU-jS2cKFw.jpeg"></figure><figure name="d202" id="d202" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*cTuQhWSMmGeZocVUR0F0sA.jpeg" data-width="866" data-height="1624" src="https://cdn-images-1.medium.com/max/600/1*cTuQhWSMmGeZocVUR0F0sA.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="0c1d" id="0c1d" class="graf graf--h3 graf-after--figure">範例</h3><div name="8631" id="8631" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://github.com/AppPeterPan/ScrollViewAndContainerViewDemo" data-href="https://github.com/AppPeterPan/ScrollViewAndContainerViewDemo" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/AppPeterPan/ScrollViewAndContainerViewDemo"><strong class="markup--strong markup--mixtapeEmbed-strong">AppPeterPan/ScrollViewAndContainerViewDemo</strong><br><em class="markup--em markup--mixtapeEmbed-em">Contribute to AppPeterPan/ScrollViewAndContainerViewDemo development by creating an account on GitHub.</em>github.com</a><a href="https://github.com/AppPeterPan/ScrollViewAndContainerViewDemo" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="5922428652a52b290313a4f33b18659a" data-thumbnail-img-id="0*m6kyeYMig1f0-d81" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*m6kyeYMig1f0-d81);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/18cec0f910dc"><time class="dt-published" datetime="2020-08-24T08:08:26.692Z">August 24, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-scroll-view-container-view-%E6%B0%B4%E5%B9%B3%E6%BB%91%E5%8B%95%E5%88%87%E6%8F%9B%E9%A0%81%E9%9D%A2-18cec0f910dc" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>