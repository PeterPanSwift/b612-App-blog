<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 SwiftUI 的 page 實現分頁水平滑動瀏覽</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 SwiftUI 的 page 實現分頁水平滑動瀏覽</h1>
</header>
<section data-field="subtitle" class="p-summary">
利用 iOS 14 的 page 我們可以將顯示 tab 分頁的 TabView 變成水平滑動的分頁照片瀏覽。接下來就讓我們看它表演吧。
</section>
<section data-field="body" class="e-content">
<section name="d9c3" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7ed5" id="7ed5" class="graf graf--h3 graf--leading graf--title">利用 SwiftUI 的 page 實現<strong class="markup--strong markup--h3-strong">分頁水平滑動瀏覽</strong></h3><p name="622f" id="622f" class="graf graf--p graf-after--h3">利用 iOS 14 的 page，我們可以將顯示 tab 分頁的 TabView 變成水平滑動的分頁照片瀏覽，而且還有顯示目前所在頁數的小圓點，接下來就讓我們看它表演吧。</p><h3 name="8f99" id="8f99" class="graf graf--h3 graf-after--p">原本顯示 tab 分頁的 TabView</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0853" id="0853" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">TabView</span> {<br />            <span class="hljs-type">Tab</span>(<span class="hljs-string">&quot;yellow&quot;</span>, systemImage: <span class="hljs-string">&quot;&quot;</span>) {<br />                <span class="hljs-type">Color</span>.yellow<br />            }<br />            <span class="hljs-type">Tab</span>(<span class="hljs-string">&quot;blue&quot;</span>, systemImage: <span class="hljs-string">&quot;&quot;</span>) {<br />                <span class="hljs-type">Color</span>.blue<br />            }<br />        }<br />    }<br />}</span></pre><figure name="6895" id="6895" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*hesowepU-qKcZEcoluZ4Qg.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*hesowepU-qKcZEcoluZ4Qg.png"></figure><h3 name="1156" id="1156" class="graf graf--h3 graf-after--figure">實現分頁照片瀏覽的 page</h3><p name="a43a" id="a43a" class="graf graf--p graf-after--h3">從 TabView 呼叫 modifier tabViewStyle(_:)，傳入 .page。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="eb90" id="eb90" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">TabView</span> {<br />            <span class="hljs-type">Color</span>.yellow<br />            <span class="hljs-type">Color</span>.blue<br />        }<br />        .tabViewStyle(.page)<br />    }<br />}</span></pre><figure name="ca48" id="ca48" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*34NrEl8PMJYrhgEzutEDoQ.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*34NrEl8PMJYrhgEzutEDoQ.png"></figure><h3 name="eb0e" id="eb0e" class="graf graf--h3 graf-after--figure">顯示泰國版的哈利波特封面圖片</h3><p name="f01e" id="f01e" class="graf graf--p graf-after--h3">顯示顏色的分頁照片實在太單調了，讓我們顯示酷炫一點的泰國版哈利波特封面吧。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1062" id="1062" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">TabView</span> {<br />            <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                    .resizable()<br />                    .scaledToFit()<br />            }<br />        }<br />        .tabViewStyle(.page)<br />    }<br />}</span></pre><figure name="5710" id="5710" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*kZA1mMAurI83VSsC-mMV5w.png" data-width="896" data-height="846" src="https://cdn-images-1.medium.com/max/800/1*kZA1mMAurI83VSsC-mMV5w.png"></figure><p name="4429" id="4429" class="graf graf--p graf-after--figure">看起來的確滿炫的，但是下方的小圓點怎麼不見了呢 ?</p><p name="6544" id="6544" class="graf graf--p graf-after--p">因為小圓點預設是白色的，所以當畫面背景也是白色時，我們就算有火眼金睛也看不到它。當我們將 App 變成 dark mode 時，即可看到想念的小圓點。</p><figure name="48a0" id="48a0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*upbjN0yDvMqnK4pgnntUoQ.png" data-width="570" data-height="1148" src="https://cdn-images-1.medium.com/max/800/1*upbjN0yDvMqnK4pgnntUoQ.png"></figure><h3 name="966a" id="966a" class="graf graf--h3 graf-after--figure">讓小圓點顯示背景的 indexViewStyle</h3><p name="17eb" id="17eb" class="graf graf--p graf-after--h3">為了讓小圓點在白色背景也能清楚呈現，我們可在 TabView 呼叫 modifier indexViewStyle(_:)，傳入參數 always 讓它有一塊長條圓角的背景。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6ff4" id="6ff4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">TabView</span> {<br />            <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                    .resizable()<br />                    .scaledToFit()<br />            }<br />        }<br />        .tabViewStyle(.page)<br />        .indexViewStyle(.page(backgroundDisplayMode: .always))<br />    }<br />}</span></pre><figure name="2ec8" id="2ec8" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*bdW8QRSqBov6zD0rgOGyVQ.png" data-width="614" data-height="1248" src="https://cdn-images-1.medium.com/max/800/1*bdW8QRSqBov6zD0rgOGyVQ.png"></figure><h3 name="745a" id="745a" class="graf graf--h3 graf-after--figure">不想看到小圓點</h3><p name="6fc5" id="6fc5" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">如果不想看到小圓點，我們可在生成 .page 時傳入參數 .never，never 將讓小圓點消失不見。</strong></p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="298a" id="298a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">TabView</span> {<br />            <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                    .resizable()<br />                    .scaledToFit()<br />            }<br />        }<br />        .tabViewStyle(.page(indexDisplayMode: .never))<br />    }<br />}</span></pre><h3 name="1ae5" id="1ae5" class="graf graf--h3 graf-after--pre">指定分頁照片的大小</h3><p name="fecb" id="fecb" class="graf graf--p graf-after--h3">我們也可以利用 frame 設定 TabView 的大小，讓它不是佔滿整個螢幕，比方以下例子哈利波特滑動區塊的高度為 300。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="dbe9" id="dbe9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">TabView</span> {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                        .resizable()<br />                        .scaledToFit()<br />                }<br />            }<br />            .tabViewStyle(.page)<br />            .frame(height: <span class="hljs-number">200</span>)<br />            <br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;當哈利波特遇見彼得潘&quot;</span>)<br />                .font(.system(size: <span class="hljs-number">40</span>))<br />            <br />            <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;peter&quot;</span>)<br />                .resizable()<br />                .scaledToFit()<br />        }<br />    }<br />}</span></pre><figure name="aaee" id="aaee" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*Z1BiOodfgGOQEhWM5djw8A.png" data-width="546" data-height="1080" src="https://cdn-images-1.medium.com/max/800/1*Z1BiOodfgGOQEhWM5djw8A.png"></figure><h3 name="3476" id="3476" class="graf graf--h3 graf-after--figure">判斷目前在第幾頁</h3><p name="169c" id="169c" class="graf graf--p graf-after--h3">TabView 生成時可綁定型別 Binding&lt;Int&gt; 的參數 selection，它將儲存目前所在的頁數。以下例子裡， currentPage 一開始為 0，表示在第一頁，當我們滑到第二頁時，currentPage 將變成 1。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="47c6" id="47c6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentPage <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;哈利波特在第<span class="hljs-subst">\(currentPage<span class="hljs-operator">+</span><span class="hljs-number">1</span>)</span>頁&quot;</span>)<br />            <span class="hljs-type">TabView</span>(selection: <span class="hljs-variable">$currentPage</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                        .resizable()<br />                        .scaledToFit()<br />                }<br />            }<br />            .tabViewStyle(.page)<br />            .indexViewStyle(.page(backgroundDisplayMode: .always))<br />        }<br />    }<br />}</span></pre><figure name="75fd" id="75fd" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*kWUB3FkytP76iJ1Oi6CDEA.png" data-width="870" data-height="822" src="https://cdn-images-1.medium.com/max/800/1*kWUB3FkytP76iJ1Oi6CDEA.png"></figure><h3 name="31fb" id="31fb" class="graf graf--h3 graf-after--figure">從控制切換到某一頁</h3><p name="25ee" id="25ee" class="graf graf--p graf-after--h3">我們可以控制一開始顯示的分頁，不一定要從第一頁開始。以下例子裡， TabView 綁定的 Bindign 變數 currentPage 為 1，因此一開始將顯示第二頁。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5ea9" id="5ea9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentPage <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;哈利波特在第<span class="hljs-subst">\(currentPage<span class="hljs-operator">+</span><span class="hljs-number">1</span>)</span>頁&quot;</span>)<br />            <span class="hljs-type">TabView</span>(selection: <span class="hljs-variable">$currentPage</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                        .resizable()<br />                        .scaledToFit()<br />                }<br />            }<br />            .tabViewStyle(.page)<br />            .indexViewStyle(.page(backgroundDisplayMode: .always))<br />        }<br />    }<br />}</span></pre><figure name="eb8b" id="eb8b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*S6ILHLGDGOt9LRshw5MqFw.png" data-width="548" data-height="1088" src="https://cdn-images-1.medium.com/max/800/1*S6ILHLGDGOt9LRshw5MqFw.png"></figure><p name="19ad" id="19ad" class="graf graf--p graf-after--figure">我們也可以加入切換分頁的 button，比方以下例子向右箭頭的 button 點選時將顯示下一頁，將 currentPage 加 1。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0588" id="0588" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentPage <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;哈利波特在第<span class="hljs-subst">\(currentPage<span class="hljs-operator">+</span><span class="hljs-number">1</span>)</span>頁&quot;</span>)<br />            <span class="hljs-type">Button</span> {<br />                currentPage <span class="hljs-operator">=</span> (currentPage <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) <span class="hljs-operator">%</span> <span class="hljs-number">7</span><br />            } label: {<br />                <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;arrow.right.circle.fill&quot;</span>)<br />                    .resizable()<br />                    .frame(width: <span class="hljs-number">40</span>, height: <span class="hljs-number">40</span>)<br />            }<br />            <span class="hljs-type">TabView</span>(selection: <span class="hljs-variable">$currentPage</span>) {<br />                <span class="hljs-type">ForEach</span>(<span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">8</span>) { index <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(<span class="hljs-string">&quot;harry<span class="hljs-subst">\(index)</span>&quot;</span>)<br />                        .resizable()<br />                        .scaledToFit()<br />                }<br />            }<br />            .tabViewStyle(.page)<br />            .indexViewStyle(.page(backgroundDisplayMode: .always))<br />        }<br />    }<br />}</span></pre><figure name="1c19" id="1c19" class="graf graf--figure graf-after--pre graf--trailing"><img class="graf-image" data-image-id="1*Ijt7MqHHrUfZCUZlcGLJRA.png" data-width="892" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*Ijt7MqHHrUfZCUZlcGLJRA.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/cf307285ef20"><time class="dt-published" datetime="2020-08-04T07:43:02.244Z">August 4, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-swiftui-%E7%9A%84-pagetabviewstyle-%E5%AF%A6%E7%8F%BE%E5%88%86%E9%A0%81%E7%85%A7%E7%89%87%E7%80%8F%E8%A6%BD-cf307285ef20" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>