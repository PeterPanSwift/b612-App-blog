<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>搭配 SSML(語音合成標記語言) 講話的 AVSpeechUtterance</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">搭配 SSML(語音合成標記語言) 講話的 AVSpeechUtterance</h1>
</header>
<section data-field="subtitle" class="p-summary">
從 iOS 16 開始，AVSpeechUtterance 可以搭配 SSML(Speech Synthesis Markup Language) 描述講話的細節，像是講話的聲音，速度，音調，音量，停頓等。
</section>
<section data-field="body" class="e-content">
<section name="3fd0" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6ee4" id="6ee4" class="graf graf--h3 graf--leading graf--title">搭配 SSML(語音合成標記語言) 講話的 AVSpeechUtterance</h3><figure name="414f" id="414f" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*m2iXq6GO8iWMkUTEFOG5Og.png" data-width="1476" data-height="700" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*m2iXq6GO8iWMkUTEFOG5Og.png"></figure><p name="de1b" id="de1b" class="graf graf--p graf-after--figure">從 iOS 16 開始，AVSpeechUtterance 可以搭配 SSML(Speech Synthesis Markup Language) 描述講話的細節，像是講話的聲音，速度，音調，音量，停頓等。</p><div name="0b33" id="0b33" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/avfaudio/avspeechutterance/3566308-init" data-href="https://developer.apple.com/documentation/avfaudio/avspeechutterance/3566308-init" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/avfaudio/avspeechutterance/3566308-init"><strong class="markup--strong markup--mixtapeEmbed-strong">init(ssmlRepresentation:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Creates a speech utterance with an Speech Synthesis Markup Language (SSML) string.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/avfaudio/avspeechutterance/3566308-init" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="09de3d48bb9b29a36e0e5a6608edd4eb" data-thumbnail-img-id="0*-cmAMFrknQLkC5Zz" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*-cmAMFrknQLkC5Zz);"></a></div><p name="e91a" id="e91a" class="graf graf--p graf-after--mixtapeEmbed">SSML 用 XML 格式描述講話的細節，詳細規格可參考以下 W3C 文件的說明。</p><div name="aab8" id="aab8" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.w3.org/TR/speech-synthesis11/#S3.2.4" data-href="https://www.w3.org/TR/speech-synthesis11/#S3.2.4" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.w3.org/TR/speech-synthesis11/#S3.2.4"><strong class="markup--strong markup--mixtapeEmbed-strong">Speech Synthesis Markup Language (SSML) Version 1.1</strong><br><em class="markup--em markup--mixtapeEmbed-em">This version: http://www.w3.org/TR/2010/REC-speech-synthesis11-20100907/ Latest version…</em>www.w3.org</a><a href="https://www.w3.org/TR/speech-synthesis11/#S3.2.4" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="e2b2a4e0fd448c23c1826a836554c80c"></a></div><p name="95da" id="95da" class="graf graf--p graf-after--mixtapeEmbed">以下我們以實際的例子玩玩各種有趣的講話。</p><h3 name="f8b9" id="f8b9" class="graf graf--h3 graf-after--p">使用 emphasis 強調語氣</h3><p name="c448" id="c448" class="graf graf--p graf-after--h3">產生 AVSpeechUtterance 時在參數 ssmlRepresentation 傳入 SSML 格式的講話內容。標籤 emphasis 可以強調語氣。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="a5f8" id="a5f8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> AVFAudio<br /><br /><span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br /><span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(ssmlRepresentation: <span class="hljs-string">&quot;&quot;&quot;<br />&lt;speak&gt;<br />我是真的&lt;emphasis&gt;愛你&lt;/emphasis&gt;留在世界邊緣呼喚你<br />&lt;/speak&gt;<br />&quot;&quot;&quot;</span>)<span class="hljs-operator">!</span><br />utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />synthesizer.speak(utterance)</span></pre><h3 name="24dc" id="24dc" class="graf graf--h3 graf-after--pre">使用 break time 做停頓</h3><p name="8636" id="8636" class="graf graf--p graf-after--h3">停頓 1 秒鐘。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1cd0" id="1cd0" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br /><span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(ssmlRepresentation: <span class="hljs-string">&quot;&quot;&quot;<br />&lt;speak&gt;<br />我是真的&lt;emphasis&gt;愛你&lt;/emphasis&gt;&lt;break time=&quot;1s&quot;/&gt;<br />留在世界邊緣呼喚你<br />&lt;/speak&gt;<br />&quot;&quot;&quot;</span>)<span class="hljs-operator">!</span><br />utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />synthesizer.speak(utterance)</span></pre><p name="4120" id="4120" class="graf graf--p graf-after--pre">停頓 0.1 秒鐘，1000ms 等於 1 秒鐘，因此 100ms 是 0.1 秒。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="0984" id="0984" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">let synthesizer = AVSpeechSynthesizer()<br />let utterance = AVSpeechUtterance(ssmlRepresentation: <span class="hljs-string">&quot;&quot;&quot;<br />&lt;speak&gt;<br />我是真的&lt;emphasis&gt;愛你&lt;/emphasis&gt;&lt;break time=&quot;100ms&quot;/&gt;<br />留在世界邊緣呼喚你<br />&lt;/speak&gt;<br />&quot;&quot;&quot;</span>)!<br />utterance.voice = AVSpeechSynthesisVoice(language: <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />synthesizer.speak(utterance)</span></pre><h3 name="cdd4" id="cdd4" class="graf graf--h3 graf-after--pre">使用 prosody 設定速度，音調，音量</h3><p name="d143" id="d143" class="graf graf--p graf-after--h3">使用 prosody 的 rate 設定速度，pitch 設定音調，volume 設定音量。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e8dc" id="e8dc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br /><span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(ssmlRepresentation: <span class="hljs-string">&quot;&quot;&quot;<br />&lt;speak&gt;<br />我是真的<br />&lt;prosody rate=&quot;x-slow&quot; pitch=&quot;high&quot; volume=&quot;x-loud&quot;&gt;愛你&lt;/prosody&gt;<br />&lt;break time=&quot;1s&quot;/&gt;<br />留在世界邊緣<br />&lt;prosody rate=&quot;x-slow&quot; pitch=&quot;low&quot; volume=&quot;soft&quot;&gt;呼喚你&lt;/prosody&gt;<br />&lt;/speak&gt;<br />&quot;&quot;&quot;</span>)<span class="hljs-operator">!</span><br />utterance.voice <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>(language: <span class="hljs-string">&quot;zh-TW&quot;</span>)<br />synthesizer.speak(utterance)</span></pre><p name="c435" id="c435" class="graf graf--p graf-after--pre">參數可設定的內容可參考以下連結。</p><p name="ce5a" id="ce5a" class="graf graf--p graf-after--p"><a href="https://www.w3.org/TR/speech-synthesis11/#S3.2.4" data-href="https://www.w3.org/TR/speech-synthesis11/#S3.2.4" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://www.w3.org/TR/speech-synthesis11/#S3.2.4</a></p><h3 name="ffaf" id="ffaf" class="graf graf--h3 graf-after--p">使用 voice 設定聲音</h3><p name="7844" id="7844" class="graf graf--p graf-after--h3">name Meijia 是台灣中文的聲音，name Sinji 是香港中文的聲音。設定標籤時也可以同時指定多個，以下例子同時加入 voice &amp; prosody，調整講話的聲音和音調。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6afd" id="6afd" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> synthesizer <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechSynthesizer</span>()<br /><span class="hljs-keyword">let</span> utterance <span class="hljs-operator">=</span> <span class="hljs-type">AVSpeechUtterance</span>(ssmlRepresentation: <span class="hljs-string">&quot;&quot;&quot;<br />&lt;speak&gt;<br />&lt;voice name = &quot;Meijia&quot;&gt;&lt;prosody pitch=&quot;low&quot;&gt;是你讓我看見乾枯沙漠開出花一朵&lt;/prosody&gt;&lt;/voice&gt;<br />&lt;break time=&quot;1s&quot;/&gt;<br />&lt;voice name = &quot;Sinji&quot;&gt;&lt;prosody pitch=&quot;high&quot;&gt;是你讓我想要每天為你寫一首情歌&lt;/prosody&gt;&lt;/voice&gt;<br />&lt;/speak&gt;<br />&quot;&quot;&quot;</span>)<span class="hljs-operator">!</span><br />synthesizer.speak(utterance)</span></pre><p name="4ab7" id="4ab7" class="graf graf--p graf-after--pre">ps: AVSpeechSynthesisVoice.speechVoices 支援的聲音名稱可用以下程式查詢。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b624" id="b624" class="graf graf--pre graf-after--p graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">for</span> voice <span class="hljs-keyword">in</span> <span class="hljs-type">AVSpeechSynthesisVoice</span>.speechVoices() {<br />    <span class="hljs-built_in">print</span>(voice.name, voice.identifier)<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/3b0d82ddb03b"><time class="dt-published" datetime="2023-04-21T04:12:27.034Z">April 21, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E6%90%AD%E9%85%8D-ssml-%E8%AA%9E%E9%9F%B3%E5%90%88%E6%88%90%E6%A8%99%E8%A8%98%E8%AA%9E%E8%A8%80-%E8%AC%9B%E8%A9%B1%E7%9A%84-avspeechutterance-3b0d82ddb03b" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>