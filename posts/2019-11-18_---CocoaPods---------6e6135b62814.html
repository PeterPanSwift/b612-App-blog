<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 CocoaPods 管理第三方套件</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 CocoaPods 管理第三方套件</h1>
</header>
<section data-field="subtitle" class="p-summary">
隨著 Xcode 11 的推出，未來開發 iOS App 時最方便的套件管理工具變成  Xcode 內建的 SPM。不過目前還有很多套件尚未支援 SPM，只能透過 Cocoapods 安裝，因此接下來我們也來認識一下曾經風光，但可能會像西楚霸王項羽一樣失去江山的套件管理天王…
</section>
<section data-field="body" class="e-content">
<section name="9048" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b1c0" id="b1c0" class="graf graf--h3 graf--leading graf--title">使用 CocoaPods 管理第三方套件</h3><p name="9e7d" id="9e7d" class="graf graf--p graf-after--h3">隨著 Xcode 11 的推出，未來開發 iOS App 時最方便的套件管理工具變成 Xcode 內建的 SPM。不過目前還有很多套件尚未支援 SPM，只能透過 Cocoapods 安裝，因此接下來我們也來認識一下曾經風光，即將像西楚霸王項羽一樣失去江山的套件管理天王 CocoaPods。</p><div name="b607" id="b607" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b"><strong class="markup--strong markup--mixtapeEmbed-strong">使用 SPM 安裝第三方套件 — 以抓圖套件 Kingfisher 為例</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們有許多管理安裝第三方套件的方法，其中最為人熟知的三大套件管理天王為 CocoaPods，SPM(Swift Package Manager) &amp; Carthage。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="68d7ca0f1f357213624de0f00073e1ac" data-thumbnail-img-id="1*-tIBt3dCKNKPXs4ArXqAew.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*-tIBt3dCKNKPXs4ArXqAew.png);"></a></div><h3 name="b1b1" id="b1b1" class="graf graf--h3 graf-after--mixtapeEmbed">CocoaPods 官方網站</h3><p name="e1e9" id="e1e9" class="graf graf--p graf-after--h3">從 CocoaPods 網站可看到它的相關介紹，待會我們將一步步介紹它的基本操作。</p><div name="14ba" id="14ba" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://cocoapods.org" data-href="https://cocoapods.org" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://cocoapods.org"><strong class="markup--strong markup--mixtapeEmbed-strong">CocoaPods.org</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Dependency Manager for iOS &amp; Mac projects</em>cocoapods.org</a><a href="https://cocoapods.org" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="a56194351532e795d0482da5230af12d"></a></div><h3 name="74e5" id="74e5" class="graf graf--h3 graf-after--mixtapeEmbed">尋找可安裝的套件(pod)</h3><p name="43cb" id="43cb" class="graf graf--p graf-after--h3">當我們透過 Cocoapods 安裝套件時，每個套件都是一個 pod。但是我們要如何找到想要的 pod 呢 ?</p><p name="9c40" id="9c40" class="graf graf--p graf-after--p">比找另一半容易，從 Cocoapods 官網首頁輸入關鍵字即可搜尋套件。</p><figure name="10b6" id="10b6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*aPyxEFz1I0rkGbf_MQhSxw.jpeg" data-width="1318" data-height="744" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*aPyxEFz1I0rkGbf_MQhSxw.jpeg"></figure></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="320d" id="320d" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--figure" style="width: 50.908%;"><img class="graf-image" data-image-id="1*hM7WBr_W633E5gMJV_orQA.jpeg" data-width="1280" data-height="846" src="https://cdn-images-1.medium.com/max/800/1*hM7WBr_W633E5gMJV_orQA.jpeg"></figure><figure name="22d5" id="22d5" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 49.092%;"><img class="graf-image" data-image-id="1*E0neN5wqLxtq-Tp7Pzbr8Q.jpeg" data-width="1188" data-height="814" src="https://cdn-images-1.medium.com/max/600/1*E0neN5wqLxtq-Tp7Pzbr8Q.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="5724" id="5724" class="graf graf--h3 graf-after--figure">安裝 CocoaPods 前的準備</h3><p name="7706" id="7706" class="graf graf--p graf-after--h3">我們安裝的環境如下。</p><ul class="postList"><li name="eced" id="eced" class="graf graf--li graf-after--p">M3 Max Mac。</li><li name="7d8b" id="7d8b" class="graf graf--li graf-after--li">macOS Sonoma 14.2。</li><li name="0208" id="0208" class="graf graf--li graf-after--li">Xcode 15.1。</li></ul><p name="7434" id="7434" class="graf graf--p graf-after--li">如果 macOS 或 Xcode 的版本較舊，建議先升級到最新的版本再開始安裝 CocoaPods。</p><h3 name="22f9" id="22f9" class="graf graf--h3 graf-after--p">安裝套件管理工具 CocoaPods</h3><p name="801c" id="801c" class="graf graf--p graf-after--h3">為了安裝各種威力強大的 pod，我們必須先在 Mac 上安裝套件管理工具 CocoaPods。</p><p name="e933" id="e933" class="graf graf--p graf-after--p">打開 terminal。</p><div name="f56b" id="f56b" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E5%95%9F%E5%8B%95%E8%BC%B8%E5%85%A5%E7%A5%9E%E5%A5%87%E5%92%92%E8%AA%9E%E7%9A%84-terminal-a3e6030b51c0" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E5%95%9F%E5%8B%95%E8%BC%B8%E5%85%A5%E7%A5%9E%E5%A5%87%E5%92%92%E8%AA%9E%E7%9A%84-terminal-a3e6030b51c0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E5%95%9F%E5%8B%95%E8%BC%B8%E5%85%A5%E7%A5%9E%E5%A5%87%E5%92%92%E8%AA%9E%E7%9A%84-terminal-a3e6030b51c0"><strong class="markup--strong markup--mixtapeEmbed-strong">如何在 Mac 啟動輸入神奇咒語的 terminal</strong><br><em class="markup--em markup--mixtapeEmbed-em">江湖傳說，terminal (終端機)是 iOS App 工程師一定要精通的強大工具，透過它可輸入許多神奇的指令咒語，瞬間完成高難度的複雜工作。在學習這些古怪咒語前，先讓我們了解如何啟動沉睡的 terminal 吧。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E5%95%9F%E5%8B%95%E8%BC%B8%E5%85%A5%E7%A5%9E%E5%A5%87%E5%92%92%E8%AA%9E%E7%9A%84-terminal-a3e6030b51c0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d27ff63909757611839d5e01ac710625" data-thumbnail-img-id="1*PjxTvfJ8EFYB22s2RDBVuQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*PjxTvfJ8EFYB22s2RDBVuQ.jpeg);"></a></div><p name="19aa" id="19aa" class="graf graf--p graf-after--mixtapeEmbed">輸入以下指令後按 enter。</p><pre name="a9e0" id="a9e0" class="graf graf--pre graf-after--p">sudo gem install cocoapods</pre><p name="9bcd" id="9bcd" class="graf graf--p graf-after--pre">輸入 mac 的密碼後按 enter。</p><figure name="91ea" id="91ea" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*HpZiCyR42KNvc2jvJMM2vw.png" data-width="1216" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*HpZiCyR42KNvc2jvJMM2vw.png"></figure><p name="671a" id="671a" class="graf graf--p graf-after--figure">請耐心等待，cocoapods 通常需要滿長的安裝時間。安裝成功的畫面如下。</p><figure name="4d76" id="4d76" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*vuLEJYvv7RkHeSFqDq1wuQ.png" data-width="3600" data-height="2262" src="https://cdn-images-1.medium.com/max/800/1*vuLEJYvv7RkHeSFqDq1wuQ.png"></figure><h3 name="e024" id="e024" class="graf graf--h3 graf-after--figure">安裝 CocoaPods 的錯誤處理</h3><ul class="postList"><li name="4f6e" id="4f6e" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Could not find a valid gem ‘cocoapods’</strong></li></ul><p name="22e4" id="22e4" class="graf graf--p graf-after--li">sudo gem install cocoapods 出現以下錯誤</p><pre data-code-block-mode="0" spellcheck="false" name="d9f8" id="d9f8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">ERROR:  Could not find a valid gem &#39;cocoapods&#39; (&gt;= 0), here is why:<br>Unable to download data from https://rubygems.org/ - no such name (https://rubygems.org/specs.4.8.gz)</span></pre><p name="3f8f" id="3f8f" class="graf graf--p graf-after--pre">請改用以下指令安裝。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="c9a7" id="c9a7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">sudo gem install cocoapods --<span class="hljs-built_in">source</span> http://rubygems.org</span></pre><ul class="postList"><li name="85c8" id="85c8" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Error installing cocoapods — drb</strong></li></ul><pre data-code-block-mode="0" spellcheck="false" name="26a3" id="26a3" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">ERROR:  Error installing cocoapods:<br> The last version of drb (&gt;= 0) to support your Ruby &amp; RubyGems was 2.0.5. Try installing it with `gem install drb -v 2.0.5` and then running the current command again<br> drb requires Ruby version &gt;= 2.7.0. The current ruby version is 2.6.10.210.</span></pre><p name="1232" id="1232" class="graf graf--p graf-after--pre">問題出在新版的 drb 需要較新版本的 ruby。解法有兩種，一種是安裝舊版的 drb，安裝完再輸入<code class="markup--code markup--p-code u-paddingRight0 u-marginRight0"> sudo gem install cocoapods — source<a href="http://rubygems.org" data-href="http://rubygems.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"> http://rubygems.or</a></code>g。</p><pre data-code-block-mode="0" spellcheck="false" name="7351" id="7351" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">sudo gem install drb -v 2.0.5</span></pre><p name="d620" id="d620" class="graf graf--p graf-after--pre">另一種是升級 ruby，然後再輸入<code class="markup--code markup--p-code u-paddingRight0 u-marginRight0">sudo gem install cocoapods — source <a href="http://rubygems.org" data-href="http://rubygems.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">http://rubygems.org</a></code>。</p><ul class="postList"><li name="b3de" id="b3de" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">ERROR: Error installing cocoapods: activesupport</strong></li></ul><pre data-code-block-mode="0" spellcheck="false" name="e52d" id="e52d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">ERROR:  Error installing cocoapods:<br> The last version of activesupport (&gt;= 5.0, &lt; 8) to support your Ruby &amp; RubyGems was 6.1.7.6. Try installing it with `gem install activesupport -v 6.1.7.6` and then running the current command again<br> activesupport requires Ruby version &gt;= 2.7.0. The current ruby version is 2.6.10.210.</span></pre><p name="3b9c" id="3b9c" class="graf graf--p graf-after--pre">問題出在新版的 activesupport 需要較新版本的 ruby。解法有兩種，一種是安裝舊版的 activesupport，安裝完再輸入 <code class="markup--code markup--p-code u-paddingRight0 u-marginRight0">sudo gem install cocoapods — source <a href="http://rubygems.org" data-href="http://rubygems.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">http://rubygems.org</a></code>。</p><pre data-code-block-mode="0" spellcheck="false" name="0c00" id="0c00" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">sudo gem install activesupport -v 6.1.7.6</span></pre><p name="6068" id="6068" class="graf graf--p graf-after--pre">另一種是升級 ruby，然後再輸入<code class="markup--code markup--p-code u-paddingRight0 u-marginRight0">sudo gem install cocoapods — source <a href="http://rubygems.org" data-href="http://rubygems.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">http://rubygems.org</a></code>。</p><p name="7874" id="7874" class="graf graf--p graf-after--p">如果以上方法都無法順利安裝，請改使用 brew 指令安裝。(需先安裝 Homebrew)</p><div name="92ae" id="92ae" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://brew.sh/" data-href="https://brew.sh/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://brew.sh/"><strong class="markup--strong markup--mixtapeEmbed-strong">Homebrew</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Missing Package Manager for macOS (or Linux).</em>brew.sh</a><a href="https://brew.sh/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="016a96dcaef6c4d6414647eed749f6b7" data-thumbnail-img-id="0*jdg7sGitTC87r_rx" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*jdg7sGitTC87r_rx);"></a></div><p name="8f7a" id="8f7a" class="graf graf--p graf-after--mixtapeEmbed">安裝的指令如下。</p><pre data-code-block-mode="0" spellcheck="false" name="a653" id="a653" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">brew install cocoapods</span></pre><h3 name="919c" id="919c" class="graf graf--h3 graf-after--pre">建立描述套件清單的 Podfile</h3><p name="417a" id="417a" class="graf graf--p graf-after--h3">將套件加到 Xcode 專案前，我們須在 Xcode 專案資料夾下加入 Podfile 檔，它將用來描述我們想安裝的套件清單。</p><p name="c232" id="c232" class="graf graf--p graf-after--p">產生 Podfile 檔的方法如下。</p><ul class="postList"><li name="aa70" id="aa70" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">點選 Xcode 專案的藍色 icon，從右鍵選單點選 Show in Finder。</strong></li></ul><figure name="ac33" id="ac33" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*k94c-55hJJXisULOCVzsrg.png" data-width="750" data-height="502" src="https://cdn-images-1.medium.com/max/800/1*k94c-55hJJXisULOCVzsrg.png"></figure><ul class="postList"><li name="9970" id="9970" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">從專案檔在 Finder 的右鍵選單點選 New Terminal at Folder。</strong></li></ul><figure name="b881" id="b881" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*ykfLLU_dUe4jnsrRdL1IXw.png" data-width="1852" data-height="1234" src="https://cdn-images-1.medium.com/max/800/1*ykfLLU_dUe4jnsrRdL1IXw.png"></figure><ul class="postList"><li name="6ddc" id="6ddc" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">在 terminal 輸入 cd .. 後按 enter，切換到專案的資料夾。注意 cd 跟 .. 之間有空白。</strong></li></ul><figure name="72d0" id="72d0" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*vmQk64QtyLIxp5HnIms73g.png" data-width="1804" data-height="248" src="https://cdn-images-1.medium.com/max/800/1*vmQk64QtyLIxp5HnIms73g.png"></figure><ul class="postList"><li name="7952" id="7952" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">輸入指令建立 Podfile。</strong></li></ul><pre name="31f5" id="31f5" class="graf graf--pre graf-after--li">pod init</pre><figure name="c3a0" id="c3a0" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*BWe2Lom4T5iom8s-TAu2KA.png" data-width="1812" data-height="368" src="https://cdn-images-1.medium.com/max/800/1*BWe2Lom4T5iom8s-TAu2KA.png"></figure><h3 name="8951" id="8951" class="graf graf--h3 graf-after--figure">在 Podfile 描述安裝的套件清單</h3><p name="422e" id="422e" class="graf graf--p graf-after--h3">從 terminal 輸入指令，打開 Podfile 編輯。</p><pre name="d61c" id="d61c" class="graf graf--pre graf-after--p">open Podfile</pre><p name="9fdd" id="9fdd" class="graf graf--p graf-after--pre">預設它將以 Mac 內建的 TextEdit 打開，我們可在注解 <code class="markup--code markup--p-code"># Pods for Demo</code> 下描述想安裝的 pods。</p><figure name="d119" id="d119" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*I5kSTb873ZBaX8UtxzJZ3Q.png" data-width="1396" data-height="912" src="https://cdn-images-1.medium.com/max/800/1*I5kSTb873ZBaX8UtxzJZ3Q.png"></figure><p name="23c5" id="23c5" class="graf graf--p graf-after--figure">比方我們想安裝抓圖的套件 Kingfisher，因此我們輸入 <code class="markup--code markup--p-code">pod &#39;Kingfisher&#39;</code>， 套件的名字記得要用單引號包起來。</p><pre name="c1ff" id="c1ff" class="graf graf--pre graf-after--p"># Pods for Demo<br>pod &#39;Kingfisher&#39;</pre><figure name="6622" id="6622" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*FSGn_eU-YY6xmAkAnsqKEQ.png" data-width="1388" data-height="912" src="https://cdn-images-1.medium.com/max/800/1*FSGn_eU-YY6xmAkAnsqKEQ.png"></figure><p name="f274" id="f274" class="graf graf--p graf-after--figure">值得注意的，pod 的 p 要小寫，如果不小心打成大寫，比方 <code class="markup--code markup--p-code">Pod &#39;Kingfisher&#39;</code>，待會安裝套件時將產生錯誤，出現錯誤訊息 <code class="markup--code markup--p-code">Invalid `Podfile` file: undefined method `Pod’</code>。</p><figure name="feb7" id="feb7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_4HO0P0FQZ0OQJVx0OYWsQ.jpeg" data-width="1788" data-height="570" src="https://cdn-images-1.medium.com/max/800/1*_4HO0P0FQZ0OQJVx0OYWsQ.jpeg"></figure><p name="f1bd" id="f1bd" class="graf graf--p graf-after--figure">一行 pod 就是一個套件，因此若想安裝多個套件，只要寫多行 pod 即可，例如以下例子。</p><pre name="e460" id="e460" class="graf graf--pre graf-after--p"># Pods for Demo<br>pod &#39;Kingfisher&#39;<br>pod &#39;Alamofire&#39;</pre><p name="119e" id="119e" class="graf graf--p graf-after--pre">輸入完想安裝的套件後，記得按 save 存檔(快速鍵 cmd + s)。</p><p name="f094" id="f094" class="graf graf--p graf-after--p">ps: 剛剛的 pod 寫法將安裝最新版的套件，若想指定安裝某個版本的套件，可參考以下連結的說明。</p><div name="9a79" id="9a79" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://guides.cocoapods.org/syntax/podfile.html#pod" data-href="https://guides.cocoapods.org/syntax/podfile.html#pod" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://guides.cocoapods.org/syntax/podfile.html#pod"><strong class="markup--strong markup--mixtapeEmbed-strong">CocoaPods Guides</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Podfile is a specification that describes the dependencies of the targets of one or more Xcode projects. A Podfile…</em>guides.cocoapods.org</a><a href="https://guides.cocoapods.org/syntax/podfile.html#pod" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="c381b8433ad282b18fb85b3c5cd3c86b"></a></div><h3 name="36de" id="36de" class="graf graf--h3 graf-after--mixtapeEmbed">安裝套件</h3><p name="7838" id="7838" class="graf graf--p graf-after--h3">從 terminal 輸入指令安裝套件。(ps: 記得要在 Podfile 所在資料夾下輸入。)</p><pre name="4a2a" id="4a2a" class="graf graf--pre graf-after--p">pod install</pre><figure name="c840" id="c840" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*Rpzu5T96v55wJB-c7Y-aAQ.png" data-width="1806" data-height="1262" src="https://cdn-images-1.medium.com/max/800/1*Rpzu5T96v55wJB-c7Y-aAQ.png"></figure><p name="ef66" id="ef66" class="graf graf--p graf-after--figure">套件成功安裝後，此時輸入指令 ls 或打開 Finder，可看到專案資料夾下多了一些東西。</p><figure name="22ef" id="22ef" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LmpZCEdrVc7suKPG0NDTIQ.png" data-width="1668" data-height="758" src="https://cdn-images-1.medium.com/max/800/1*LmpZCEdrVc7suKPG0NDTIQ.png"></figure><p name="fdac" id="fdac" class="graf graf--p graf-after--figure">如下圖所示，新產生的有 Demo.xcworkspace，Podfile.lock &amp; Pods 資料夾，其中 Pods 資料夾裡正是我們安裝的套件，不過待會我們將把焦點放在 xcworkspace 檔。</p><figure name="58cb" id="58cb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Q3aVgHMyN72vEk1uPfixhw.png" data-width="1834" data-height="866" src="https://cdn-images-1.medium.com/max/800/1*Q3aVgHMyN72vEk1uPfixhw.png"></figure><h3 name="5d17" id="5d17" class="graf graf--h3 graf-after--figure">開啟 xcworkspace 檔</h3><p name="cf8c" id="cf8c" class="graf graf--p graf-after--h3">原本我們打開專案都是透過 xcodeproj，透過 Cocoapods 安裝套件後，我們得改變習慣，改成打開 xcworkspace。</p><figure name="9196" id="9196" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rkYtONGo_2X-QeaVToVedQ.png" data-width="992" data-height="782" src="https://cdn-images-1.medium.com/max/800/1*rkYtONGo_2X-QeaVToVedQ.png"></figure><p name="17d0" id="17d0" class="graf graf--p graf-after--figure">雙擊 Demo.xcworkspace ，(ps: 雙擊前記得確認 Xcode 已關閉 xcodeproj 的視窗)，我們將看到以下畫面。此時 Project navigator 將有兩個專案檔，一個是原本的 App 專案，一個是包含各種套件的 Pods 專案。到時兩個專案的內容將合併，組合出我們開發的 App。</p><figure name="bc7e" id="bc7e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*AcK3a7sO06xSIni26lY3Rw.png" data-width="2796" data-height="1744" src="https://cdn-images-1.medium.com/max/800/1*AcK3a7sO06xSIni26lY3Rw.png"></figure><p name="88fa" id="88fa" class="graf graf--p graf-after--figure">如果不是打開 xcworkspace，而是打開 xcodeproj，此時將出現找不到套件的錯誤訊息。</p><pre name="a1f0" id="a1f0" class="graf graf--pre graf-after--p">Framework not found Kingfisher</pre><figure name="e713" id="e713" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*eRlX5Z20j6BHh593sJm39A.png" data-width="548" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*eRlX5Z20j6BHh593sJm39A.png"></figure><h3 name="dc05" id="dc05" class="graf graf--h3 graf-after--figure">在程式裡使用 pod 套件</h3><p name="ecde" id="ecde" class="graf graf--p graf-after--h3">使用套件的方式很簡單，只要利用 import 加入套件，即可開心地使用它的各種 API。</p><ul class="postList"><li name="e275" id="e275" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">SwiftUI 範例。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4542" id="4542" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><span class="hljs-keyword">import</span> Kingfisher<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">KFImage</span>(<span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://images-na.ssl-images-amazon.com/images/I/81KxvWNEkCL._SL1500_.jpg&quot;</span>))<br />    }<br />}</span></pre><ul class="postList"><li name="744d" id="744d" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">UIKit 範例。</strong></li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="760d" id="760d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> Kingfisher<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br /><br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <span class="hljs-keyword">let</span> imageView <span class="hljs-operator">=</span> <span class="hljs-type">UIImageView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>, width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>))<br />        view.addSubview(imageView)<br />        imageView.kf.setImage(with: <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://images-na.ssl-images-amazon.com/images/I/81KxvWNEkCL._SL1500_.jpg&quot;</span>))<br />    }<br />}</span></pre><h3 name="6810" id="6810" class="graf graf--h3 graf-after--pre">build App 的錯誤處理 — <code class="markup--code markup--h3-code">Sandbox deny</code></h3><p name="a31f" id="a31f" class="graf graf--p graf-after--h3">在 build App 時可能會出現類似以下的錯誤。</p><figure name="2595" id="2595" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Z6aU-f4EeCFuxw-w6LL0sQ.png" data-width="1414" data-height="572" src="https://cdn-images-1.medium.com/max/800/1*Z6aU-f4EeCFuxw-w6LL0sQ.png"></figure><p name="3516" id="3516" class="graf graf--p graf-after--figure">錯誤訊息提到 <code class="markup--code markup--p-code">Sandbox: rsync.samba(5104) deny(1) file-write-create</code>，表示檔案讀寫的權限有問題。</p><p name="3851" id="3851" class="graf graf--p graf-after--p">解法是在 Target App 的 Build Settings 將 User Script Sandboxing 設為 No。</p><figure name="7208" id="7208" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LR8Ye-ofHxa8LIjQiFMeuQ.png" data-width="2132" data-height="408" src="https://cdn-images-1.medium.com/max/800/1*LR8Ye-ofHxa8LIjQiFMeuQ.png"></figure><h3 name="97d4" id="97d4" class="graf graf--h3 graf-after--figure">更新 pod</h3><p name="de24" id="de24" class="graf graf--p graf-after--h3">開發 App 的漫長過程中，我們往往會加入愈來愈多的套件，或是原本的套件改版修正 bug，我們得趕緊將它升級。</p><p name="b5f4" id="b5f4" class="graf graf--p graf-after--p">升級 pod 的指令如下， 記得一樣要在 Podfile 所在資料夾下輸入。</p><pre name="2f58" id="2f58" class="graf graf--pre graf-after--p">pod update</pre><p name="f1bc" id="f1bc" class="graf graf--p graf-after--pre">只須升級某個 pod 的話，可在 update 後接套件名字，比方升級 Charts 的指令如下。</p><pre data-code-block-mode="0" spellcheck="false" name="863e" id="863e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">pod update Charts</span></pre><h3 name="1a36" id="1a36" class="graf graf--h3 graf-after--pre">版本管理 commit 時記得勾選 Podfile</h3><p name="d481" id="d481" class="graf graf--p graf-after--h3">版本管理時，一般我們不須將 Pods 下的套件上傳到雲端，因為這些 pods 套件應該交由 Cocoapods 幫我們管理就好，因此我們 git clone 下載專案後自己要再輸入 pod install 指令安裝套件。</p><p name="979f" id="979f" class="graf graf--p graf-after--p">為了能安裝套件，Podfile 是唯一需要上傳到雲端的，有了 Podfile 才知道要安裝哪些套件，因此請記得版本管理 commit 時要勾選 Podfile。</p><figure name="cb34" id="cb34" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*QZXVvz_3ux1IVDJ7LQsDHw.jpeg" data-width="2430" data-height="1318" src="https://cdn-images-1.medium.com/max/800/1*QZXVvz_3ux1IVDJ7LQsDHw.jpeg"></figure><h3 name="5cee" id="5cee" class="graf graf--h3 graf-after--figure">模擬器無法執行 App 的 architecture arm64 問題</h3><div name="8028" id="8028" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E7%84%A1%E6%B3%95%E5%9F%B7%E8%A1%8C-app-%E7%9A%84-architecture-arm64-%E5%95%8F%E9%A1%8C-ab57d281bdd6" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E7%84%A1%E6%B3%95%E5%9F%B7%E8%A1%8C-app-%E7%9A%84-architecture-arm64-%E5%95%8F%E9%A1%8C-ab57d281bdd6" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E7%84%A1%E6%B3%95%E5%9F%B7%E8%A1%8C-app-%E7%9A%84-architecture-arm64-%E5%95%8F%E9%A1%8C-ab57d281bdd6"><strong class="markup--strong markup--mixtapeEmbed-strong">模擬器無法執行 App 的 architecture arm64 問題</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們時常會加入套件快速實現某些功能。不過有時套件也會造成一些問題，比方使用 CocoaPods 安裝 GoogleMaps 或 GooglePlaces 套件後，App 將無法在模擬器執行，出現以下錯誤訊息。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%A8%A1%E6%93%AC%E5%99%A8%E7%84%A1%E6%B3%95%E5%9F%B7%E8%A1%8C-app-%E7%9A%84-architecture-arm64-%E5%95%8F%E9%A1%8C-ab57d281bdd6" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="633c163033d14967e14e4324ca2083f4" data-thumbnail-img-id="1*VR7n4wmh_n9NZhkDnimU9w.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*VR7n4wmh_n9NZhkDnimU9w.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/6e6135b62814"><time class="dt-published" datetime="2019-11-18T07:58:21.744Z">November 18, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-cocoapods-%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-6e6135b62814" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>