<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>開發多個 column 的 UIPickerView — 以選擇台灣的縣市行政區為例</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">開發多個 column 的 UIPickerView — 以選擇台灣的縣市行政區為例</h1>
</header>
<section data-field="subtitle" class="p-summary">
在 iOS App 輸入資料時，我們時常會看到長得像滾輪的 UIPickerView。UIPickerView 可以只有一排，但也可以多排，比方下圖台鐵 App 的 picker view 從第一排選擇地區，第二排選擇火車的站名。
</section>
<section data-field="body" class="e-content">
<section name="c6c1" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e372" id="e372" class="graf graf--h3 graf--leading graf--title">開發多個 column 的 UIPickerView — 以選擇台灣的縣市行政區為例</h3><p name="42e5" id="42e5" class="graf graf--p graf-after--h3">在 iOS App 輸入資料時，我們時常會看到長得像滾輪的 UIPickerView。UIPickerView 可以只有一排，但也可以多排，比方下圖台鐵 App 的 picker view 從第一排選擇地區，第二排選擇火車的站名。</p><figure name="5129" id="5129" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_DAiT3Mn9CFCwXfxEkdx1w.png" data-width="1125" data-height="2436" src="https://cdn-images-1.medium.com/max/800/1*_DAiT3Mn9CFCwXfxEkdx1w.png"></figure><p name="77c7" id="77c7" class="graf graf--p graf-after--figure">製作多個 column 的 UIPickerView 會比單排複雜許多。接下來彼得潘將以搬家為例，說明如何利用兩個 column 的 picker view 選擇台灣的縣市 &amp; 行政區。</p><p name="70b0" id="70b0" class="graf graf--p graf-after--p">我們想要製做的 App 畫面如下，我們的目標是搬到台北市大安區的豪宅，先假設我們即將中樂透，不用擔心錢的問題。(不過畫面的背景似乎有點像鬼屋)</p><figure name="53f7" id="53f7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*AxBHH9SCbSBgqkVxwyRXRQ.png" data-width="1400" data-height="2700" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*AxBHH9SCbSBgqkVxwyRXRQ.png"></figure><h3 name="db63" id="db63" class="graf graf--h3 graf-after--figure">加入台灣行政區的 JSON 檔，定義 JSON 對應的資料型別 &amp; array</h3><p name="ccc7" id="ccc7" class="graf graf--p graf-after--h3">參考以下連結的說明操作。</p><div name="9c33" id="9c33" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%8F%B0%E7%81%A3%E8%A1%8C%E6%94%BF%E5%8D%80-json-%E8%A7%A3%E6%9E%90-a1ad416dd964" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%8F%B0%E7%81%A3%E8%A1%8C%E6%94%BF%E5%8D%80-json-%E8%A7%A3%E6%9E%90-a1ad416dd964" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%8F%B0%E7%81%A3%E8%A1%8C%E6%94%BF%E5%8D%80-json-%E8%A7%A3%E6%9E%90-a1ad416dd964"><strong class="markup--strong markup--mixtapeEmbed-strong">台灣行政區 JSON 解析</strong><br><em class="markup--em markup--mixtapeEmbed-em">連到 RainVisitor 在 GitHub 存放的台灣行政區 JSON</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%8F%B0%E7%81%A3%E8%A1%8C%E6%94%BF%E5%8D%80-json-%E8%A7%A3%E6%9E%90-a1ad416dd964" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8bfd55244adf0ba66e769196a375260a" data-thumbnail-img-id="1*JJSaxgf0EoJkiPiry-OElQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*JJSaxgf0EoJkiPiry-OElQ.png);"></a></div><p name="aacf" id="aacf" class="graf graf--p graf-after--mixtapeEmbed">asset 裡的 taiwanDistricts 儲存台灣行政區的 JSON 資料。</p><figure name="ee63" id="ee63" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FRJCDFoLrWGwxr1TyIEzUQ.png" data-width="1554" data-height="522" src="https://cdn-images-1.medium.com/max/800/1*FRJCDFoLrWGwxr1TyIEzUQ.png"></figure><p name="6586" id="6586" class="graf graf--p graf-after--figure">下圖顯示 JSON 的部分內容。</p><figure name="8f4e" id="8f4e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*qHHrgJdreUrXQjAhjnDUPg.png" data-width="1006" data-height="1362" src="https://cdn-images-1.medium.com/max/800/1*qHHrgJdreUrXQjAhjnDUPg.png"></figure><p name="50bd" id="50bd" class="graf graf--p graf-after--figure">定義 JSON 對應的資料型別 &amp; array data。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b271" id="b271" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">City</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> districts: [<span class="hljs-type">District</span>]<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">District</span>: <span class="hljs-title class_">Decodable</span> {<br />    <span class="hljs-keyword">let</span> zip: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">City</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> data: [<span class="hljs-keyword">Self</span>] {<br />        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-type">NSDataAsset</span>(name: <span class="hljs-string">&quot;taiwanDistricts&quot;</span>)<span class="hljs-operator">?</span>.data <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">return</span> []<br />        }<br />        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">try?</span> <span class="hljs-type">JSONDecoder</span>().decode([<span class="hljs-keyword">Self</span>].<span class="hljs-keyword">self</span>, from: data)) <span class="hljs-operator">??</span> []<br />    }<br />}</span></pre><h3 name="d5c9" id="d5c9" class="graf graf--h3 graf-after--pre">在畫面上加入 picker view，label，image view &amp; button</h3><p name="990a" id="990a" class="graf graf--p graf-after--h3">我們將在兩個地方顯示從 picker 選擇的行政區，在 label &amp; 點選 button 顯示的 alert 上。</p><figure name="c518" id="c518" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*I1O9Et6-lWArrGXCuIsCYw.png" data-width="1818" data-height="1190" src="https://cdn-images-1.medium.com/max/800/1*I1O9Et6-lWArrGXCuIsCYw.png"></figure><h3 name="14de" id="14de" class="graf graf--h3 graf-after--figure">將 view controller 設為 picker view 的 dataSource &amp; delegate</h3><figure name="54d1" id="54d1" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*tac4fJcZnqvbPt2jmcPiKg.png" data-width="660" data-height="228" src="https://cdn-images-1.medium.com/max/800/1*tac4fJcZnqvbPt2jmcPiKg.png"></figure><figure name="430a" id="430a" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*1XJpcYwW8N0WvvOavlCoyg.png" data-width="354" data-height="158" src="https://cdn-images-1.medium.com/max/800/1*1XJpcYwW8N0WvvOavlCoyg.png"></figure><figure name="4dca" id="4dca" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*2plV1UGWi-ri1u4vRe2Xuw.png" data-width="1554" data-height="616" src="https://cdn-images-1.medium.com/max/800/1*2plV1UGWi-ri1u4vRe2Xuw.png"></figure><h3 name="165f" id="165f" class="graf graf--h3 graf-after--figure">連結 outlet，action &amp; 宣告 property cities 儲存行政區的資料</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="382f" id="382f" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> districtPickerView: <span class="hljs-type">UIPickerView</span>!<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> districtLabel: <span class="hljs-type">UILabel</span>!<br />    <span class="hljs-keyword">let</span> cities <span class="hljs-operator">=</span> <span class="hljs-type">City</span>.data<br /><br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showAlert</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />    }<br />}</span></pre><h3 name="4db2" id="4db2" class="graf graf--h3 graf-after--pre">定義 protocol UIPickerViewDataSource &amp; UIPickerViewDelegate 的相關 function</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="450d" id="450d" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIPickerViewDataSource</span>, <span class="hljs-title class_">UIPickerViewDelegate</span> {<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">numberOfComponents</span>(<span class="hljs-params">in</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>) -&gt; <span class="hljs-type">Int</span> {<br />        <span class="hljs-number">2</span><br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">numberOfRowsInComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            <span class="hljs-keyword">return</span> cities.count<br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />            <span class="hljs-keyword">return</span> cities[cityRow].districts.count<br />        }<br />        <br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">titleForRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">forComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">String</span>? {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            <span class="hljs-keyword">return</span> cities[row].name<br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />            <span class="hljs-keyword">return</span> cities[cityRow].districts[row].name<br />        }<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">didSelectRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">inComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            pickerView.reloadComponent(<span class="hljs-number">1</span>)<br />            pickerView.selectRow(<span class="hljs-number">0</span>, inComponent: <span class="hljs-number">1</span>, animated: <span class="hljs-literal">true</span>)<br />        }<br />    }<br />    <br />}</span></pre><p name="67de" id="67de" class="graf graf--p graf-after--pre">說明</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="74d7" id="74d7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">numberOfComponents</span>(<span class="hljs-params">in</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>) -&gt; <span class="hljs-type">Int</span> {<br />        <span class="hljs-number">2</span><br />}</span></pre><p name="bfc5" id="bfc5" class="graf graf--p graf-after--pre">設定 picker view 有兩排，第一排顯示縣市清單，第二排顯示縣市對應的行政區清單。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="29f4" id="29f4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">numberOfRowsInComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            <span class="hljs-keyword">return</span> cities.count<br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />            <span class="hljs-keyword">return</span> cities[cityRow].districts.count<br />        }<br />        <br />}</span></pre><p name="3c5a" id="3c5a" class="graf graf--p graf-after--pre">設定 picker view 每排顯示的資料數量。第一排的數量是縣市的數量，第二排的數量是選取的縣市對應的行政區數量。我們必須先取得第一排選取的縣市，才能設定第二排顯示的行政區數量，比方台北市有 12 個行政區，高雄市有 40 個行政區。</p><p name="3a9d" id="3a9d" class="graf graf--p graf-after--p">我們利用 <code class="markup--code markup--p-code">pickerView.selectedRow(inComponent: 0)</code> 取得第一排選取的 row number，比方當 row number 為 0 時，表示選到台北市，而台北市有 12 個行政區，因此 <code class="markup--code markup--p-code">cities[cityRow].districts.count</code> 會回傳 12。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8573" id="8573" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">titleForRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">forComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">String</span>? {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            <span class="hljs-keyword">return</span> cities[row].name<br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />            <span class="hljs-keyword">return</span> cities[cityRow].districts[row].name<br />        }<br />}</span></pre><p name="5dc2" id="5dc2" class="graf graf--p graf-after--pre">設定 picker view 顯示的字串，第一排顯示縣市清單，第二排顯示縣市對應的行政區清單。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5075" id="5075" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">didSelectRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">inComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            pickerView.reloadComponent(<span class="hljs-number">1</span>)<br />            pickerView.selectRow(<span class="hljs-number">0</span>, inComponent: <span class="hljs-number">1</span>, animated: <span class="hljs-literal">true</span>)<br />        }<br />}</span></pre><p name="75ec" id="75ec" class="graf graf--p graf-after--pre">當使用者滑動 picker，picker 停止滑動時會呼叫 <code class="markup--code markup--p-code">pickerView(_:didSelectRow:inComponent:)</code>。當第一排選取的縣市改變時，我們必須更新第二排的行政區。比方三民區在高雄市，若是沒有更新，讓三民區出現在台北市，那可就要天下大亂了。</p><p name="f02d" id="f02d" class="graf graf--p graf-after--p">當 component 為 0 時，表示選取的縣市改變，因此我們從 pickerView 呼叫 <code class="markup--code markup--p-code">reloadComponent(1)</code> 更新第二排行政區的內容，然後呼叫<code class="markup--code markup--p-code"> selectRow(0, inComponent: 1, animated: true)</code> 讓第二排滑到第一筆，確保每次縣市改變時，都會顯示縣市的第一個行政區。</p><p name="2ac5" id="2ac5" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">結果</strong></p><p name="6c6c" id="6c6c" class="graf graf--p graf-after--p">Cool，現在我們的 picker view 已經可以正確顯示縣市跟行政區，而且選取的縣市改變時，行政區也會立即更新。</p><figure name="f0a8" id="f0a8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*bR5RnA1VXgl7geQeQpy6qg.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*bR5RnA1VXgl7geQeQpy6qg.png"></figure><h3 name="416f" id="416f" class="graf graf--h3 graf-after--figure">滑動 picker，停止滑動時在 label 顯示選取的內容</h3><p name="10e0" id="10e0" class="graf graf--p graf-after--h3">從 pickerView 呼叫 <code class="markup--code markup--p-code">selectedRow(inComponent: 0)</code> &amp; <code class="markup--code markup--p-code">selectedRow(inComponent: 1)</code> ，取得第一排跟第二排選取的 row number，然後再從 cities 取得對應的縣市跟行政區。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e8b9" id="e8b9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">didSelectRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">inComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) {<br />        <span class="hljs-keyword">if</span> component <span class="hljs-operator">==</span> <span class="hljs-number">0</span> {<br />            pickerView.reloadComponent(<span class="hljs-number">1</span>)<br />            pickerView.selectRow(<span class="hljs-number">0</span>, inComponent: <span class="hljs-number">1</span>, animated: <span class="hljs-literal">true</span>)<br />        }<br />        <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />        <span class="hljs-keyword">let</span> districtRow <span class="hljs-operator">=</span> pickerView.selectedRow(inComponent: <span class="hljs-number">1</span>)<br />        districtLabel.text <span class="hljs-operator">=</span> <span class="hljs-string">&quot;<span class="hljs-subst">\(cities[cityRow].name)</span><span class="hljs-subst">\(cities[cityRow].districts[districtRow].name)</span>&quot;</span><br />}</span></pre><h3 name="485e" id="485e" class="graf graf--h3 graf-after--pre">點擊 button 時顯示 alert</h3><p name="1831" id="1831" class="graf graf--p graf-after--h3">從 districtPickerView 呼叫 <code class="markup--code markup--p-code">selectedRow(inComponent: 0)</code> &amp; <code class="markup--code markup--p-code">selectedRow(inComponent: 1)</code> ，取得第一排跟第二排選取的 row number，然後再從 cities 取得對應的縣市跟行政區。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="54c2" id="54c2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">showAlert</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> cityRow <span class="hljs-operator">=</span> districtPickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />        <span class="hljs-keyword">let</span> districtRow <span class="hljs-operator">=</span> districtPickerView.selectedRow(inComponent: <span class="hljs-number">1</span>)<br />        <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;<span class="hljs-subst">\(cities[cityRow].name)</span><span class="hljs-subst">\(cities[cityRow].districts[districtRow].name)</span>&quot;</span><br />        <span class="hljs-keyword">let</span> alertController <span class="hljs-operator">=</span> <span class="hljs-type">UIAlertController</span>(title: <span class="hljs-string">&quot;我想搬到&quot;</span>, message: message, preferredStyle: .alert)<br />        <span class="hljs-keyword">let</span> okAction <span class="hljs-operator">=</span> <span class="hljs-type">UIAlertAction</span>(title: <span class="hljs-string">&quot;OK&quot;</span>, style: .default)<br />        alertController.addAction(okAction)<br />        present(alertController, animated: <span class="hljs-literal">true</span>)<br />}</span></pre><figure name="5ab4" id="5ab4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*vwZetgXZE6nU-W-aUnGNGg.png" data-width="1290" data-height="1322" src="https://cdn-images-1.medium.com/max/800/1*vwZetgXZE6nU-W-aUnGNGg.png"></figure><h3 name="a048" id="a048" class="graf graf--h3 graf-after--figure">範例連結</h3><div name="1d4e" id="1d4e" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://github.com/AppPeterPan/MultipleColumnsPickerView" data-href="https://github.com/AppPeterPan/MultipleColumnsPickerView" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/AppPeterPan/MultipleColumnsPickerView"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - AppPeterPan/MultipleColumnsPickerView</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can&#39;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or…</em>github.com</a><a href="https://github.com/AppPeterPan/MultipleColumnsPickerView" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="2c0d2df4b538640d1743b02a443f9daa" data-thumbnail-img-id="0*JY-yWszI4i7-53_8" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*JY-yWszI4i7-53_8);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/fb66ae6a15e0"><time class="dt-published" datetime="2022-08-28T09:00:01.459Z">August 28, 2022</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%A4%9A%E5%80%8B-column-%E7%9A%84-uipickerview-fb66ae6a15e0" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>