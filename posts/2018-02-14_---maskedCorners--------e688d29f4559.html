<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 maskedCorners 設定部分圓角</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 maskedCorners 設定部分圓角</h1>
</header>
<section data-field="subtitle" class="p-summary">
想幫 iOS App 的元件設定圓角並不是太難的事，一般來說，只要以下兩行程式即可搞定，cornerRadius 設定圓角弧度，clipsToBounds 讓元件可以被切成圓角。
</section>
<section data-field="body" class="e-content">
<section name="7c3b" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="524d" id="524d" class="graf graf--h3 graf--leading graf--title">利用 maskedCorners 設定部分圓角</h3><p name="7d0b" id="7d0b" class="graf graf--p graf-after--h3">想幫 iOS App 的元件設定圓角並不是太難的事，一般來說，只要以下兩行程式即可搞定，cornerRadius 設定圓角半徑，clipsToBounds 讓元件可以被切成圓角。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9607" id="9607" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">imageView.clipsToBounds <span class="hljs-operator">=</span> <span class="hljs-literal">true</span><br />imageView.layer.cornerRadius <span class="hljs-operator">=</span> <span class="hljs-number">30</span></span></pre><figure name="5c1c" id="5c1c" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*vZeUJPWh6hgWqXtN8nBK3w.jpeg" data-width="464" data-height="616" src="https://cdn-images-1.medium.com/max/800/1*vZeUJPWh6hgWqXtN8nBK3w.jpeg"></figure><p name="6a1b" id="6a1b" class="graf graf--p graf-after--figure">但是如果只想要某一角有圓角呢 ? 這也做得到，只是有點麻煩。不過在 iOS 11，現在 CALayer 多了新屬性 maskedCorners，只要一行程式即可實現。</p><p name="769e" id="769e" class="graf graf--p graf-after--p">maskedCorners 的型別為 CACornerMask，定義如下。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="cb09" id="cb09" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CACornerMask</span> : <span class="hljs-title class_">OptionSet</span> {<br />   <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">rawValue</span>: <span class="hljs-type">UInt</span>)<br />   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> layerMinXMinYCorner: <span class="hljs-type">CACornerMask</span> { <span class="hljs-keyword">get</span> }<br />   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> layerMaxXMinYCorner: <span class="hljs-type">CACornerMask</span> { <span class="hljs-keyword">get</span> }<br />   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> layerMinXMaxYCorner: <span class="hljs-type">CACornerMask</span> { <span class="hljs-keyword">get</span> }<br />   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> layerMaxXMaxYCorner: <span class="hljs-type">CACornerMask</span> { <span class="hljs-keyword">get</span> }<br />}</span></pre><p name="d3e7" id="d3e7" class="graf graf--p graf-after--pre">如下圖所示，{ } 裡定義的四個變數，剛好對應長方形的四個頂點。比方 layerMinXMinYCorner 表示 X 和 Y 都是最小值，對應長方形的左上角。(因為 iOS 的座標系統，愈向右 X 愈大，愈向下 Y 愈大)</p><figure name="bf2c" id="bf2c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Kw1BzTCOY5i4oquslCwD0w.jpeg" data-width="1098" data-height="596" src="https://cdn-images-1.medium.com/max/800/1*Kw1BzTCOY5i4oquslCwD0w.jpeg"></figure><p name="08fe" id="08fe" class="graf graf--p graf-after--figure">當我們希望只有左上角有圓角時，只要將 maskedCorners 設為 layerMinXMinYCorner 即可。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="30f9" id="30f9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">imageView.layer.maskedCorners <span class="hljs-operator">=</span> .layerMinXMinYCorner</span></pre><figure name="c604" id="c604" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*hzx1251dTOxZqM45AmU7cw.jpeg" data-width="462" data-height="594" src="https://cdn-images-1.medium.com/max/800/1*hzx1251dTOxZqM45AmU7cw.jpeg"></figure><p name="83bd" id="83bd" class="graf graf--p graf-after--figure">想要多個地方圓角也不是問題。比方想要左上和右下都是圓角，只要在 [ ] 裡加入 layerMinXMinYCorner 和 layerMaxXMaxYCorner。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="42ab" id="42ab" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">imageView.layer.maskedCorners <span class="hljs-operator">=</span> [.layerMinXMinYCorner, .layerMaxXMaxYCorner]</span></pre><figure name="7856" id="7856" class="graf graf--figure graf-after--pre graf--trailing"><img class="graf-image" data-image-id="1*RmBwF6aKVf47mGGhG-pApg.jpeg" data-width="716" data-height="736" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*RmBwF6aKVf47mGGhG-pApg.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/e688d29f4559"><time class="dt-published" datetime="2018-02-14T08:45:44.924Z">February 14, 2018</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-ios-11-%E7%9A%84-maskedcorners-%E8%A8%AD%E5%AE%9A%E5%9C%93%E8%A7%92-e688d29f4559" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>