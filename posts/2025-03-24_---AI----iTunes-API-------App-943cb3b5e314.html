<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 AI 開發 iTunes API 的歌曲查詢 App</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 AI 開發 iTunes API 的歌曲查詢 App</h1>
</header>
<section data-field="subtitle" class="p-summary">
彼得潘常常用 iTunes API 查詢歌曲的相關資訊，最近也研究出利用 Windsurf 快速找到歌曲的試聽網址。
</section>
<section data-field="body" class="e-content">
<section name="708c" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="abf5" id="abf5" class="graf graf--h3 graf--leading graf--title">使用 AI 開發 iTunes API 的歌曲查詢 App</h3><p name="c5c1" id="c5c1" class="graf graf--p graf-after--h3">彼得潘常常用 iTunes API 查詢歌曲的相關資訊，最近也研究出利用 Windsurf 快速找到歌曲的試聽網址。</p><div name="a54c" id="a54c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8-zed-%E6%89%BE%E5%87%BA-itunes-api-%E6%AD%8C%E6%9B%B2-%E5%BD%B1%E7%89%87%E7%9A%84%E9%A0%90%E8%A6%BD%E7%B6%B2%E5%9D%80-previewurl-035e3290ff61" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8-zed-%E6%89%BE%E5%87%BA-itunes-api-%E6%AD%8C%E6%9B%B2-%E5%BD%B1%E7%89%87%E7%9A%84%E9%A0%90%E8%A6%BD%E7%B6%B2%E5%9D%80-previewurl-035e3290ff61" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8-zed-%E6%89%BE%E5%87%BA-itunes-api-%E6%AD%8C%E6%9B%B2-%E5%BD%B1%E7%89%87%E7%9A%84%E9%A0%90%E8%A6%BD%E7%B6%B2%E5%9D%80-previewurl-035e3290ff61"><strong class="markup--strong markup--mixtapeEmbed-strong">使用 Windsurf / Zed 找出 iTunes API 歌曲 / 影片的預覽網址(previewUrl)</strong><br><em class="markup--em markup--mixtapeEmbed-em">Windsurf / Zed 內建方便的連網抓資料功能，以下彼得潘以偶像戴佩妮的歌曲勢在必行為例，示範透過它們找出 iTunes API 歌曲 / 影片的預覽網址。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E4%BD%BF%E7%94%A8-zed-%E6%89%BE%E5%87%BA-itunes-api-%E6%AD%8C%E6%9B%B2-%E5%BD%B1%E7%89%87%E7%9A%84%E9%A0%90%E8%A6%BD%E7%B6%B2%E5%9D%80-previewurl-035e3290ff61" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="92f4d3a188b81734dd66a600e25a770b" data-thumbnail-img-id="1*-ZB4U8TWrp1Ozr9olgSZ-w.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*-ZB4U8TWrp1Ozr9olgSZ-w.png);"></a></div><p name="573b" id="573b" class="graf graf--p graf-after--mixtapeEmbed">不過從 Windsurf 操作還是有點麻煩，如果能有個 App 或網頁，輸入歌名和歌手名查詢歌曲資料該有多好 ?</p><p name="5446" id="5446" class="graf graf--p graf-after--p">彼得潘懶得自己寫，以下就請 AI 幫忙寫一個吧，使用 VS Code GitHub Copilot 搭配 Claude 3.7 Sonnet Thinking 開發 Flutter App。</p><p name="ca3a" id="ca3a" class="graf graf--p graf-after--p">prompt:</p><pre data-code-block-mode="0" spellcheck="false" name="4687" id="4687" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">寫一個串接 iTunes API 查歌曲資訊的網頁，可輸入歌名和歌手名，顯示以下資訊。<br>1 歌名<br>2 歌手名<br>3 專輯名<br>4 專輯圖片<br>5 預覽網址<br>點選播放鍵可播放音樂<br>點選複製鍵可複製內容，包含歌名、歌手名、專輯名、專輯圖片網址、預覽網址。<br>使用套件 just_audio。<br>API 格式如下<br>https://itunes.apple.com/search?term=歌名+歌手名&amp;media=music&amp;country=tw。</span></pre><p name="2ebc" id="2ebc" class="graf graf--p graf-after--pre">不用三分鐘，AI 成功實現彼得潘想要的 App。</p><p name="4ebf" id="4ebf" class="graf graf--p graf-after--p"><a href="https://gist.github.com/PeterPanSwift/6b8b5ab3f4418ffdc28162a8085b857b" data-href="https://gist.github.com/PeterPanSwift/6b8b5ab3f4418ffdc28162a8085b857b" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://gist.github.com/PeterPanSwift/6b8b5ab3f4418ffdc28162a8085b857b</a></p><figure name="8a8d" id="8a8d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ep18XrUtiLlUmkJI-uBQiA.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*ep18XrUtiLlUmkJI-uBQiA.png"></figure><p name="ea00" id="ea00" class="graf graf--p graf-after--figure">找到戴佩妮好聽的勢在必行後還能點擊試聽。</p><figure name="44dc" id="44dc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Slp-3zJuDGnIXuNUPkDnJw.png" data-width="1206" data-height="2622" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Slp-3zJuDGnIXuNUPkDnJw.png"></figure><p name="b0ba" id="b0ba" class="graf graf--p graf-after--figure">點擊複製按鈕可取得歌曲的詳細資訊。</p><pre data-code-block-mode="0" spellcheck="false" name="9b2d" id="9b2d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">歌名: 勢在必行<br>歌手名: 戴佩妮<br>專輯名: 雙生火焰<br>專輯圖片網址: https://is1-ssl.mzstatic.com/image/thumb/Music211/v4/cd/a9/1d/cda91d38-6d33-8a78-95ad-4e50f7926f74/4712592250584.jpg/600x600bb.jpg<br>預覽網址: https://audio-ssl.itunes.apple.com/itunes-assets/AudioPreview221/v4/92/17/31/921731e0-d123-b5f9-a8d0-b73ea14b1275/mzaf_15112140117265056641.plus.aac.p.m4a</span></pre><p name="1827" id="1827" class="graf graf--p graf-after--pre">ps: 專輯圖片可改大小，比方 1024 * 1024 的網址結尾為 1024x1024bb.jpg。</p><p name="9700" id="9700" class="graf graf--p graf-after--p">以下我們再請 AI 改進一下，將畫面變得更漂亮。</p><pre data-code-block-mode="0" spellcheck="false" name="429e" id="429e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">畫面漂亮一點</span></pre><div name="102b" id="102b" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://github.com/PeterPanSwift/flutter_iTunes_song_search" data-href="https://github.com/PeterPanSwift/flutter_iTunes_song_search" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/PeterPanSwift/flutter_iTunes_song_search"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub — PeterPanSwift/flutter_iTunes_song_search</strong><br><em class="markup--em markup--mixtapeEmbed-em">Contribute to PeterPanSwift/flutter_iTunes_song_search development by creating an account on GitHub.</em>github.com</a><a href="https://github.com/PeterPanSwift/flutter_iTunes_song_search" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1b97c705544148086a76995e3323117b" data-thumbnail-img-id="0*TKqxSzTGG_5tYFWp" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*TKqxSzTGG_5tYFWp);"></a></div><figure name="d6f7" id="d6f7" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*2y-TZrdjaZGJW9-8xXvmEQ.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*2y-TZrdjaZGJW9-8xXvmEQ.png"></figure><figure name="5c46" id="5c46" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*yumoPxsogaWhtuqBTwbkCg.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*yumoPxsogaWhtuqBTwbkCg.png"></figure><p name="a7c4" id="a7c4" class="graf graf--p graf-after--figure">當查到多筆資料時，畫面上還能一次呈現多首歌曲。</p><figure name="9241" id="9241" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ibnpCZ8nuZjdsHTUHMnHDQ.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*ibnpCZ8nuZjdsHTUHMnHDQ.png"></figure><h3 name="8dfa" id="8dfa" class="graf graf--h3 graf-after--figure">製作網頁版</h3><p name="d4ac" id="d4ac" class="graf graf--p graf-after--h3">為了能隨時查詢，我們還可將 Flutter App 變成部署到 Firebase 的網頁。不過 iTunes API 有 CORS 限制，無法直接從網頁串接 API 抓資料。</p><p name="9d78" id="9d78" class="graf graf--p graf-after--p">因此我們要改一下程式，使用 CORS 代理伺服器 allOrigins 和處理 allOrigins 回傳資料的亂碼問題。</p><div name="f6cb" id="f6cb" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://allorigins.win/" data-href="https://allorigins.win/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://allorigins.win/"><strong class="markup--strong markup--mixtapeEmbed-strong">All Origins</strong><br><em class="markup--em markup--mixtapeEmbed-em">Pull contents from any page via API (as JSON/P or raw) and avoid Same-origin policy problems.</em>allorigins.win</a><a href="https://allorigins.win/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="a758792608674581956c18cee192a80f"></a></div><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="dart" name="a901" id="a901" class="graf graf--pre graf-after--mixtapeEmbed graf--preV2"><span class="pre--content">Future&lt;<span class="hljs-keyword">void</span>&gt; _searchSongs() <span class="hljs-keyword">async</span> {<br />    <span class="hljs-keyword">if</span> (_songController.text.isEmpty &amp;&amp; _artistController.text.isEmpty) {<br />      ScaffoldMessenger.of(<br />        context,<br />      ).showSnackBar(<span class="hljs-keyword">const</span> SnackBar(content: Text(<span class="hljs-string">&#x27;請輸入歌名或歌手名&#x27;</span>)));<br />      <span class="hljs-keyword">return</span>;<br />    }<br /><br />    setState(() {<br />      _isLoading = <span class="hljs-keyword">true</span>;<br />      _searchResults = [];<br />    });<br /><br />    <span class="hljs-keyword">try</span> {<br />      <span class="hljs-keyword">final</span> query = <span class="hljs-string">&#x27;<span class="hljs-subst">${_songController.text}</span>+<span class="hljs-subst">${_artistController.text}</span>&#x27;</span>;<br />      <span class="hljs-keyword">final</span> url =<br />          <span class="hljs-string">&#x27;https://api.allorigins.win/get?url=<span class="hljs-subst">${Uri.encodeComponent(<span class="hljs-string">&#x27;https://itunes.apple.com/search?term=<span class="hljs-subst">$query</span>&amp;media=music&amp;country=tw&#x27;</span>)}</span>&#x27;</span>;<br />      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(<span class="hljs-built_in">Uri</span>.parse(url));<br />      <span class="hljs-keyword">if</span> (response.statusCode == <span class="hljs-number">200</span>) {<br />        <span class="hljs-keyword">final</span> allOriginsData = json.decode(response.body);<br />        <span class="hljs-keyword">final</span> jsonString = allOriginsData[<span class="hljs-string">&#x27;contents&#x27;</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">String</span>;<br />        <span class="hljs-keyword">final</span> data = json.decode(utf8.decode(latin1.encode(jsonString)));<br />        setState(() {<br />          <span class="hljs-keyword">if</span> (data[<span class="hljs-string">&#x27;resultCount&#x27;</span>] &gt; <span class="hljs-number">0</span>) {<br />            _searchResults = <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;&gt;.from(data[<span class="hljs-string">&#x27;results&#x27;</span>]);<br />          }<br />        });<br />      } <span class="hljs-keyword">else</span> {<br />        ScaffoldMessenger.of(<br />          context,<br />        ).showSnackBar(SnackBar(content: Text(<span class="hljs-string">&#x27;搜尋失敗: <span class="hljs-subst">${response.statusCode}</span>&#x27;</span>)));<br />      }<br />    } <span class="hljs-keyword">catch</span> (e) {<br />      ScaffoldMessenger.of(<br />        context,<br />      ).showSnackBar(SnackBar(content: Text(<span class="hljs-string">&#x27;發生錯誤: <span class="hljs-subst">$e</span>&#x27;</span>)));<br />    } <span class="hljs-keyword">finally</span> {<br />      setState(() {<br />        _isLoading = <span class="hljs-keyword">false</span>;<br />      });<br />    }<br />  }</span></pre><div name="0342" id="0342" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-flutter-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E7%B6%B2%E9%A0%81%E7%89%88%E7%9A%84-flutter-app-%E9%83%A8%E7%BD%B2%E5%88%B0-firebase-3a271bdc6f05" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-flutter-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E7%B6%B2%E9%A0%81%E7%89%88%E7%9A%84-flutter-app-%E9%83%A8%E7%BD%B2%E5%88%B0-firebase-3a271bdc6f05" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-flutter-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E7%B6%B2%E9%A0%81%E7%89%88%E7%9A%84-flutter-app-%E9%83%A8%E7%BD%B2%E5%88%B0-firebase-3a271bdc6f05"><strong class="markup--strong markup--mixtapeEmbed-strong">將網頁版的 Flutter App 部署到 Firebase</strong><br><em class="markup--em markup--mixtapeEmbed-em">透過 Flutter 我們可以開發跨平台 App，它不只能運行在 iOS &amp; Android 上，也能變成透過瀏覽器存取的網頁。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-flutter-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E7%B6%B2%E9%A0%81%E7%89%88%E7%9A%84-flutter-app-%E9%83%A8%E7%BD%B2%E5%88%B0-firebase-3a271bdc6f05" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="251aa661836cab12ad7f9466f07c5ddd" data-thumbnail-img-id="1*hGQPj3dCgBzVw5NbCGVuTw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*hGQPj3dCgBzVw5NbCGVuTw.png);"></a></div><p name="08a1" id="08a1" class="graf graf--p graf-after--mixtapeEmbed">部署到 Firebase 的網頁如下，現在彼得潘可以隨時連網找偶像戴佩妮的歌曲了 ~</p><div name="7d6d" id="7d6d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://flutter-itunes-search.web.app/" data-href="https://flutter-itunes-search.web.app/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://flutter-itunes-search.web.app/"><strong class="markup--strong markup--mixtapeEmbed-strong">flutter_application_1</strong><br><em class="markup--em markup--mixtapeEmbed-em">A new Flutter project.</em>flutter-itunes-search.web.app</a><a href="https://flutter-itunes-search.web.app/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="2f7dfccedf6049292938acff76d4edcf"></a></div><figure name="91c8" id="91c8" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*B_N2cDR1w6f3qi2OAxGjPQ.png" data-width="2324" data-height="1086" src="https://cdn-images-1.medium.com/max/800/1*B_N2cDR1w6f3qi2OAxGjPQ.png"></figure><figure name="85b1" id="85b1" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*bp-n62L5smbgbAOK2oSs2Q.png" data-width="2544" data-height="1750" src="https://cdn-images-1.medium.com/max/800/1*bp-n62L5smbgbAOK2oSs2Q.png"></figure><h3 name="f817" id="f817" class="graf graf--h3 graf-after--figure">One more thing，顯示歌詞</h3><p name="0fb3" id="0fb3" class="graf graf--p graf-after--h3">有興趣的朋友還可以加入顯示歌詞的功能，打開網頁顯示歌詞。</p><p name="267e" id="267e" class="graf graf--p graf-after--p">Musixmatch 的歌詞網址格式如下。</p><p name="6d1e" id="6d1e" class="graf graf--p graf-after--p"><a href="https://www.musixmatch.com/lyrics/" data-href="https://www.musixmatch.com/lyrics/" class="markup--anchor markup--p-anchor" rel="noopener ugc nofollow noopener" target="_blank">https://www.musixmatch.com/lyrics/</a>歌手名/歌名</p><p name="50d0" id="50d0" class="graf graf--p graf-after--p">比方以下為戴佩妮的街角的祝福。</p><div name="2684" id="2684" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://www.musixmatch.com/lyrics/%E6%88%B4%E4%BD%A9%E5%A6%AE/%E8%A1%97%E8%A7%92%E7%9A%84%E7%A5%9D%E7%A6%8F" data-href="https://www.musixmatch.com/lyrics/%E6%88%B4%E4%BD%A9%E5%A6%AE/%E8%A1%97%E8%A7%92%E7%9A%84%E7%A5%9D%E7%A6%8F" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.musixmatch.com/lyrics/%E6%88%B4%E4%BD%A9%E5%A6%AE/%E8%A1%97%E8%A7%92%E7%9A%84%E7%A5%9D%E7%A6%8F"><strong class="markup--strong markup--mixtapeEmbed-strong">戴佩妮 - 街角的祝福 lyrics | Musixmatch</strong><br><em class="markup--em markup--mixtapeEmbed-em">Lyrics for 街角的祝福 by 戴佩妮.</em>www.musixmatch.com</a><a href="https://www.musixmatch.com/lyrics/%E6%88%B4%E4%BD%A9%E5%A6%AE/%E8%A1%97%E8%A7%92%E7%9A%84%E7%A5%9D%E7%A6%8F" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="35dea248528a6d6dd288d7f5315b51e6" data-thumbnail-img-id="0*6NlRyh6QZvXk4XLx" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*6NlRyh6QZvXk4XLx);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/943cb3b5e314"><time class="dt-published" datetime="2025-03-24T07:40:06.926Z">March 24, 2025</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-ai-%E9%96%8B%E7%99%BC-itunes-api-%E7%9A%84%E6%AD%8C%E6%9B%B2%E6%9F%A5%E8%A9%A2-app-943cb3b5e314" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>