<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>遇 nil 即臨陣脫逃的 optional chaining</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">遇 nil 即臨陣脫逃的 optional chaining</h1>
</header>
<section data-field="subtitle" class="p-summary">
optional binding 造成的複雜程式問題
</section>
<section data-field="body" class="e-content">
<section name="27c7" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b3c1" id="b3c1" class="graf graf--h3 graf--leading graf--title">遇 <strong class="markup--strong markup--h3-strong">nil </strong>即臨陣脫逃的 <strong class="markup--strong markup--h3-strong">optional chaining</strong></h3><h3 name="1f19" id="1f19" class="graf graf--h3 graf-after--h3">optional binding 造成的複雜程式問題</h3><p name="65c1" id="65c1" class="graf graf--p graf-after--h3">利用 optional binding，我們可以防止因為讀取 nil 造成的閃退問題。但有時它卻會產生剪不斷，理還亂，層層錯綜複雜的 if let 程式碼，例如以下例子:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6c08" id="6c08" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rabbit</span> {<br />   <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;白彼得&quot;</span><br />   <span class="hljs-keyword">func</span> <span class="hljs-title function_">run</span>() {<br />      <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;跑跑跑&quot;</span>)<br />   }<br />}<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">Baby</span> {<br />   <span class="hljs-keyword">var</span> cuteRabbit: <span class="hljs-type">Rabbit</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Rabbit</span>()<br />}<br /><br /><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> cuteBaby {<br />   <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> cuteRabbit <span class="hljs-operator">=</span> cuteBaby.cuteRabbit {<br />      <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;寶寶的兔子是<span class="hljs-subst">\(cuteRabbit.name)</span>&quot;</span><br />      <span class="hljs-built_in">print</span>(message)<br />   }<br />}</span></pre><p name="0e86" id="0e86" class="graf graf--p graf-after--pre">結果</p><figure name="4ad8" id="4ad8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dUQemokuAXN7JXp3gj9nAA.jpeg" data-width="394" data-height="156" src="https://cdn-images-1.medium.com/max/800/1*dUQemokuAXN7JXp3gj9nAA.jpeg"></figure><p name="761d" id="761d" class="graf graf--p graf-after--figure">由於 cuteBaby 和 cuteRabbit 皆為 optional，當我們想取得兔子的名字時，必須麻煩地經歷層層的 optional binding 檢查和讀取內容。當 optional 的東西愈多層時，我們也要寫愈多的 if let。</p><h3 name="6e9e" id="6e9e" class="graf graf--h3 graf-after--p">利用逗號串接多個 optional binding 簡化程式</h3><p name="a809" id="a809" class="graf graf--p graf-after--h3">利用逗號串接多個 optional binding 的技巧，我們可以簡化剛剛的程式，只要寫一個 if let。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="741c" id="741c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> cuteBaby, <br />   <span class="hljs-keyword">let</span> cuteRabbit <span class="hljs-operator">=</span> cuteBaby.cuteRabbit {<br />   <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;寶寶的兔子是<span class="hljs-subst">\(cuteRabbit.name)</span>&quot;</span><br />   <span class="hljs-built_in">print</span>(message)<br />}</span></pre><p name="926b" id="926b" class="graf graf--p graf-after--pre">但在較為複雜的例子，還是得用好幾個逗號串接多個 optional，比方想讀取妹妹的朋友的同學的兔子的名字。(妹妹 ，朋友，同學，兔子都是 optional，因為你不一定有妹妹，妹妹也不一定有朋友。)</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="049c" id="049c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> 妹妹, <br />   <span class="hljs-keyword">let</span> 朋友 <span class="hljs-operator">=</span> 妹妹.朋友, <br />   <span class="hljs-keyword">let</span> 同學 <span class="hljs-operator">=</span> 朋友.同學, <br />   <span class="hljs-keyword">let</span> 兔子 <span class="hljs-operator">=</span> 同學.兔子 {<br />   <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;兔子的名字是<span class="hljs-subst">\(兔子.name)</span>&quot;</span><br />   <span class="hljs-built_in">print</span>(message)<br />}</span></pre><h3 name="d381" id="d381" class="graf graf--h3 graf-after--pre">遇 nil 即臨陣脫逃的 optional chaining</h3><p name="bcd5" id="bcd5" class="graf graf--p graf-after--h3">optional chaining 正是 Swift 為了解決此問題發明的偉大設計。在 optional 的變數(常數)，或是回傳 optional 的 function 後，我們可用 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">?. </strong></code>存取屬性或呼叫方法。一旦檢查到 nil，它將馬上臨陣脫逃，回傳 nil，不會傻傻地解包裝取值，引發覆水難收的閃退。</p><p name="ac2f" id="ac2f" class="graf graf--p graf-after--p">讓我們看看以下讀取寶寶的兔子例子:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b940" id="b940" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<br />cuteBaby <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span><br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit</span></pre><p name="2c6f" id="2c6f" class="graf graf--p graf-after--pre">結果</p><figure name="7749" id="7749" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LWS2bgod2Sf7wuZWPgYB1A.jpeg" data-width="1054" data-height="540" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*LWS2bgod2Sf7wuZWPgYB1A.jpeg"></figure><p name="c412" id="c412" class="graf graf--p graf-after--figure">當 cuteBaby 不為 nil 時，我們將順利透過 optional chaining 讀出寶寶的兔子。但當 cuteBaby 為 nil 時，optional chaining 也能緊急煞車，馬上回傳 nil，不會繼續往下讀取 cuteRabbit。</p><p name="8039" id="8039" class="graf graf--p graf-after--p">接著讓我們再進一步讀取寶寶的兔子的名字:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5df6" id="5df6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.name<br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span><br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.name<br />cuteBaby <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span><br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.name</span></pre><p name="0770" id="0770" class="graf graf--p graf-after--pre">結果</p><figure name="3ed7" id="3ed7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*UVAO9vHKLmqN_ksZfEJApg.jpeg" data-width="1066" data-height="738" src="https://cdn-images-1.medium.com/max/800/1*UVAO9vHKLmqN_ksZfEJApg.jpeg"></figure><p name="a18a" id="a18a" class="graf graf--p graf-after--figure">當 cuteBaby 和 cuteRabbit 皆不為 nil 時，我們將順利透過 optional chaining 取得寶寶裡的兔子，然後再讀到兔子的名字。但當 cuteBaby 或 cuteRabbit 為 nil 時，optional chaining 也能緊急煞車，馬上回傳 nil。</p><p name="4023" id="4023" class="graf graf--p graf-after--p">透過 chaining 的技巧，我們可以無止盡地一個串一個。當讀取的屬性或呼叫的方法回傳的型別是 optional 時，即可再接 <code class="markup--code markup--p-code">?.</code> 繼續存取它的屬性或呼叫方法。因此剛剛讀取妹妹的朋友的同學的兔子的名字，可以簡單地用一行程式表達:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7945" id="7945" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">妹妹<span class="hljs-operator">?</span>.朋友<span class="hljs-operator">?</span>.同學<span class="hljs-operator">?</span>.兔子<span class="hljs-operator">?</span>.名字</span></pre><h3 name="9d53" id="9d53" class="graf graf--h3 graf-after--pre">Xcode 會幫我們輸入 optional chaining 的問號</h3><p name="e520" id="e520" class="graf graf--p graf-after--h3">輸入<code class="markup--code markup--p-code"> ?.</code> 會不會很麻煩呢? 一點也不，我們輸入時只要打 <strong class="markup--strong markup--p-strong">.</strong>，不用自己打問號。當 Xcode 發現 . 之前的變數(常數)型別或 function 回傳的型別是加了問號的 optional 時，即會在我們按下 <code class="markup--code markup--p-code">Enter</code> 後幫忙補上問號。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="0dbd" id="0dbd" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 40.167%;"><img class="graf-image" data-image-id="1*N3iTM-ZMTqmrg1JQD3A4yA.jpeg" data-width="936" data-height="318" src="https://cdn-images-1.medium.com/max/600/1*N3iTM-ZMTqmrg1JQD3A4yA.jpeg"></figure><figure name="b571" id="b571" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 59.833%;"><img class="graf-image" data-image-id="1*5UxzrB6F1Dz98fvByWMkQg.jpeg" data-width="754" data-height="172" src="https://cdn-images-1.medium.com/max/800/1*5UxzrB6F1Dz98fvByWMkQg.jpeg"><figcaption class="imageCaption" style="width: 167.132%; left: -67.132%;">按下 Enter 鍵後， cuteBaby.cu 變成 cuteBaby?.cuteRabbit</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="a940" id="a940" class="graf graf--p graf-after--figure">不過如果是加了驚嘆號的 optional，可就沒那麼幸運。因為 Xcode 認為加了驚嘆號的 optional 大部分的情況下是有值的，可以放心讀取，並不需要 optional chaining，所以不會幫忙補上問號。</p><div name="6807" id="6807" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%87%AA%E5%8B%95%E5%AE%8C%E6%88%90%E6%9A%97%E8%97%8F%E6%AE%BA%E6%A9%9F%E7%9A%84-implicitly-unwrapped-optional-fbfdd21b7755" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%87%AA%E5%8B%95%E5%AE%8C%E6%88%90%E6%9A%97%E8%97%8F%E6%AE%BA%E6%A9%9F%E7%9A%84-implicitly-unwrapped-optional-fbfdd21b7755" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%87%AA%E5%8B%95%E5%AE%8C%E6%88%90%E6%9A%97%E8%97%8F%E6%AE%BA%E6%A9%9F%E7%9A%84-implicitly-unwrapped-optional-fbfdd21b7755"><strong class="markup--strong markup--mixtapeEmbed-strong">自動完成暗藏殺機的 Implicitly Unwrapped Optional</strong><br><em class="markup--em markup--mixtapeEmbed-em">熟悉 optional 的朋友都知道，宣告 optional 有兩種方法，一種是加問號，一種是加驚嘆號。加驚嘆號的又稱為 Implicitly Unwrapped Optional，因為到時候讀取它的內容時不用再加驚嘆號，可以自動取值。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%87%AA%E5%8B%95%E5%AE%8C%E6%88%90%E6%9A%97%E8%97%8F%E6%AE%BA%E6%A9%9F%E7%9A%84-implicitly-unwrapped-optional-fbfdd21b7755" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1a07bd65adc1e7d73553d2717aa5c04b" data-thumbnail-img-id="1*M2QVe3Mml9IQYN4NI5fACA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*M2QVe3Mml9IQYN4NI5fACA.png);"></a></div><h3 name="c769" id="c769" class="graf graf--h3 graf-after--mixtapeEmbed">optional chaining 的回傳結果也會是 optional</h3><p name="23a0" id="23a0" class="graf graf--p graf-after--h3">學會了 optional chaining，讓我們試試用它讀出兔子的名字跟 “可愛的” 相加吧。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3228" id="3228" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;可愛的&quot;</span> <span class="hljs-operator">+</span> cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.name</span></pre><figure name="8e38" id="8e38" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*O_QJtLUGITLxIWD3DR-9ng.jpeg" data-width="1764" data-height="166" src="https://cdn-images-1.medium.com/max/800/1*O_QJtLUGITLxIWD3DR-9ng.jpeg"></figure><p name="6c97" id="6c97" class="graf graf--p graf-after--figure">怪了，Rabbit 的 name 的型別明明是 String，應該可以跟字串 “可愛的”相加呀 ? 難道是因為兔子不夠可愛 ?</p><figure name="2eeb" id="2eeb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_hN-wotoHjHSWEDh1bSP7w.jpeg" data-width="1058" data-height="278" src="https://cdn-images-1.medium.com/max/800/1*_hN-wotoHjHSWEDh1bSP7w.jpeg"></figure><p name="2eac" id="2eac" class="graf graf--p graf-after--figure">錯不在兔子，也不在 name，一切都是 optional chaining 的副作用造成的。透過 optional chaining 取得的東西，因為有可能 nil，所以它的型別也會變成 optional。</p><figure name="b086" id="b086" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*BGuq8w9GuWgv980jqsI0bA.jpeg" data-width="1100" data-height="292" src="https://cdn-images-1.medium.com/max/800/1*BGuq8w9GuWgv980jqsI0bA.jpeg"><figcaption class="imageCaption">第 13 行宣告的常數 name 的型別為 String?</figcaption></figure><h3 name="065b" id="065b" class="graf graf--h3 graf-after--figure">結合 optional binding &amp; optional chaining</h3><p name="552a" id="552a" class="graf graf--p graf-after--h3">由於 optional chaining 的結果也會是 optional，因此我們時常結合 optional binding &amp; optional chaining，利用 optional binding 讀取 optional chaining 的結果。</p><figure name="72a3" id="72a3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*DKudUtwVTCnYHlr4ptg-tA.jpeg" data-width="1638" data-height="314" src="https://cdn-images-1.medium.com/max/800/1*DKudUtwVTCnYHlr4ptg-tA.jpeg"></figure><p name="9f8f" id="9f8f" class="graf graf--p graf-after--figure">比方以下例子讀出兔子的名字，然後再進行字串相加。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4715" id="4715" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> name <span class="hljs-operator">=</span> cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.name {<br />   <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-string">&quot;可愛的&quot;</span> <span class="hljs-operator">+</span> name<br />   <span class="hljs-built_in">print</span>(message)<br />}</span></pre><p name="43d1" id="43d1" class="graf graf--p graf-after--pre">利用 <code class="markup--code markup--p-code">if let name = cuteBaby?.cuteRabbit?.name</code> 讀取兔子的名字。if let 的 = 右邊要接 optional，而 <code class="markup--code markup--p-code">cuteBaby?.cuteRabbit?.name</code> 因為 optional chaining 的關係也會是 optional ，所以可以接在 = 的右邊。</p><h3 name="4d20" id="4d20" class="graf graf--h3 graf-after--p">什麼時候使用 optional chaining ?</h3><p name="87e7" id="87e7" class="graf graf--p graf-after--h3">有了 optional chaining，大部分的時候我們都可以透過它存取 optional 的資料，不用寫危險的 ! (force-unwrap)，也不用寫麻煩的 if let(optional binding)。</p><p name="ab4d" id="ab4d" class="graf graf--p graf-after--p">比方覺得兔子太胖，希望牠跑步瘦身一下時，我們可利用 optional chaining 呼叫 Rabbit 的 function run。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1266" id="1266" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">cuteBaby<span class="hljs-operator">?</span>.cuteRabbit<span class="hljs-operator">?</span>.run()</span></pre><p name="caa6" id="caa6" class="graf graf--p graf-after--pre">不過有時會遇到像剛剛字串相加的例子，我們需要讀出 optional chaining 回傳的結果。此時我們可以利用 optional binding 接收 optional chaining 得到的東西，先寫 <code class="markup--code markup--p-code">if let name =</code>，然後在 = 的右邊再寫 optional chaining，<code class="markup--code markup--p-code">cuteBaby?.cuteRabbit?.name</code>。</p><h3 name="06c9" id="06c9" class="graf graf--h3 graf-after--p">唯有型別 optional 的東西才能使用 optional chaining</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2e36" id="2e36" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rabbit</span> {<br />   <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;白彼得&quot;</span><br />   <span class="hljs-keyword">func</span> <span class="hljs-title function_">eat</span>() {<br />      <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;吃吃吃&quot;</span>)<br />   }<br />}<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">Baby</span> {<br />   <span class="hljs-keyword">var</span> cuteRabbit1: <span class="hljs-type">Rabbit</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Rabbit</span>()<br />   <span class="hljs-keyword">var</span> cuteRabbit2 <span class="hljs-operator">=</span> <span class="hljs-type">Rabbit</span>()<br />}<br /><br /><span class="hljs-keyword">var</span> cuteBaby: <span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit1<span class="hljs-operator">?</span>.name<br />cuteBaby<span class="hljs-operator">?</span>.cuteRabbit2.name</span></pre><p name="cede" id="cede" class="graf graf--p graf-after--pre graf--trailing">唯有型別 optional 的東西才能使用 optional chaining。比方以上例子，cuteRabbit1 是 optional，cuteRabbit2 不是，所以 cuteRabbit1 讀取 name 時要加問號，cuteRabbit2 不用。前面提到 Xcode 會貼心地幫我們補上 optional chaining ?. 的問號，所以基本上你也不用煩惱，該加時 Xcode 就會幫你加了。</p></div></div></section><section name="93c6" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="c482" id="c482" class="graf graf--p graf--leading"><strong class="markup--strong markup--p-strong">小測驗</strong></p><p name="6a87" id="6a87" class="graf graf--p graf-after--p">請找出以下程式的問題</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8c7b" id="8c7b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Baby</span> {<br />   <span class="hljs-keyword">var</span> age:<span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />}<br /><br /><span class="hljs-keyword">var</span> cuteBaby:<span class="hljs-type">Baby</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-keyword">var</span> age1 <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />age1 <span class="hljs-operator">=</span> cuteBaby<span class="hljs-operator">?</span>.age</span></pre><p name="83f7" id="83f7" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">解答</strong></p><figure name="1354" id="1354" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*j3eej1x4wtkq7Lvm605GKw.jpeg" data-width="1650" data-height="162" src="https://cdn-images-1.medium.com/max/800/1*j3eej1x4wtkq7Lvm605GKw.jpeg"></figure><p name="bea4" id="bea4" class="graf graf--p graf-after--figure">age1 的型別是 Int，cuteBaby?.age 的型別是 Int?，我們需要讀出 cuteBaby?.age 的內容後，才能存到 age1。</p><figure name="73b8" id="73b8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3XCGYRJzRq01x1175TV5eQ.jpeg" data-width="1030" data-height="222" src="https://cdn-images-1.medium.com/max/800/1*3XCGYRJzRq01x1175TV5eQ.jpeg"></figure><p name="b4e3" id="b4e3" class="graf graf--p graf-after--figure">剛剛的問題，基本的解法有三種(還有其它解法，比方 ?? 和 guard let )</p><p name="2f1e" id="2f1e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">解法1:</strong></p><p name="ae2f" id="ae2f" class="graf graf--p graf-after--p">使用 !，cuteBaby 是 nil 就死了 !</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0ed9" id="0ed9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">age1 <span class="hljs-operator">=</span> cuteBaby<span class="hljs-operator">!</span>.age</span></pre><p name="72dc" id="72dc" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">解法 2:</strong></p><p name="f802" id="f802" class="graf graf--p graf-after--p">使用 !，cuteBaby 是 nil 就死了 !</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6f81" id="6f81" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">age1 <span class="hljs-operator">=</span> (cuteBaby<span class="hljs-operator">?</span>.age)<span class="hljs-operator">!</span></span></pre><p name="fe06" id="fe06" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">解法 3:</strong></p><p name="2e98" id="2e98" class="graf graf--p graf-after--p">比較好的解法，使用 optional binding，很安全，就算 cuteBaby 是 nil，還是不會死。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8565" id="8565" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> age <span class="hljs-operator">=</span> cuteBaby<span class="hljs-operator">?</span>.age {<br />   age1 <span class="hljs-operator">=</span> age<br />}</span></pre><h3 name="d191" id="d191" class="graf graf--h3 graf-after--pre">結合 optional chaining &amp; compound assignment</h3><div name="78de" id="78de" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B5%90%E5%90%88-optional-chaining-compound-assignment-7e3e0862888c" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B5%90%E5%90%88-optional-chaining-compound-assignment-7e3e0862888c" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B5%90%E5%90%88-optional-chaining-compound-assignment-7e3e0862888c"><strong class="markup--strong markup--mixtapeEmbed-strong">結合 optional chaining &amp; compound assignment</strong><br><em class="markup--em markup--mixtapeEmbed-em">當我們使用 optional chaining 時，讀取的內容會變成 optional，不過若是內容的型別當初宣告時不是 optional，我們將可方便地使用 compound assignment 做運算。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B5%90%E5%90%88-optional-chaining-compound-assignment-7e3e0862888c" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="388267061123dcb328ad0e06f7659dea" data-thumbnail-img-id="1*gXpSnUb7VuvcN9AwN2uKrw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*gXpSnUb7VuvcN9AwN2uKrw.png);"></a></div><h3 name="08a0" id="08a0" class="graf graf--h3 graf-after--mixtapeEmbed">請 AI 說明</h3><p name="c777" id="c777" class="graf graf--p graf-after--h3">以台灣用語說明 Swift 的 optional chaining，說明完後再以白雪公主為例。</p><p name="4a19" id="4a19" class="graf graf--p graf-after--p">在 Swift 中，optional chaining 是一種安全訪問可選對象的方法，避免因為對象為 nil 而導致程序崩潰。這裡的「可選對象」指的是那些可能為 nil 的對象，例如可選類型的變量或屬性。</p><p name="09c1" id="09c1" class="graf graf--p graf-after--p">使用 optional chaining 的語法很簡單，就是在對象後面加上一個問號 <code class="markup--code markup--p-code">?</code>，表示「如果對象不為 nil，那麼執行下一步操作，否則返回 nil」。這樣一來，即使對象為 nil，程序也不會崩潰，而是安全地返回 nil。</p><p name="946d" id="946d" class="graf graf--p graf-after--p">現在讓我們用白雪公主的例子來解釋一下。假設我們有一個可選的變量 <code class="markup--code markup--p-code">prince</code>，它代表白雪公主的王子，但是有可能為 nil。如果我們直接訪問 <code class="markup--code markup--p-code">prince</code> 的 <code class="markup--code markup--p-code">kiss()</code> 方法，那麼如果 <code class="markup--code markup--p-code">prince</code> 為 nil，程序就會發生崩潰。</p><p name="6609" id="6609" class="graf graf--p graf-after--p">但是如果我們使用 optional chaining，就可以安全地訪問 <code class="markup--code markup--p-code">prince</code> 的 <code class="markup--code markup--p-code">kiss()</code> 方法，就像這樣：</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="52b4" id="52b4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">prince<span class="hljs-operator">?</span>.kiss()</span></pre><p name="7827" id="7827" class="graf graf--p graf-after--pre">這裡的問號 <code class="markup--code markup--p-code">?</code> 就是 optional chaining 的符號。如果 <code class="markup--code markup--p-code">prince</code> 為 nil，那麼 <code class="markup--code markup--p-code">kiss()</code> 方法就不會被執行，而是直接返回 nil。否則，它就會執行 <code class="markup--code markup--p-code">kiss()</code> 方法，完成白雪公主的拯救。</p><p name="3a92" id="3a92" class="graf graf--p graf-after--p">因此，使用 optional chaining 可以讓我們更加安全地訪問可選對象的方法和屬性，避免程序崩潰，讓我們的代碼更加健壯和安全。</p><h3 name="d8db" id="d8db" class="graf graf--h3 graf-after--p">請 AI 出題 &amp; 解答</h3><p name="eef7" id="eef7" class="graf graf--p graf-after--h3">出一個 Swift optional chaining 的練習題，以綠野仙蹤為例。</p><ul class="postList"><li name="5e26" id="5e26" class="graf graf--li graf-after--p">題目。</li></ul><p name="d6c7" id="d6c7" class="graf graf--p graf-after--li">假設你正在寫一個 iOS app，這個 app 與綠野仙蹤有關。你需要實現一個顯示綠野仙蹤的角色資訊的功能。你有一個 <code class="markup--code markup--p-code">Character</code> 類別，它有一個可選的 <code class="markup--code markup--p-code">name</code> 屬性和一個可選的 <code class="markup--code markup--p-code">friend</code> 屬性。<code class="markup--code markup--p-code">friend</code> 屬性是一個指向 <code class="markup--code markup--p-code">Character</code> 實例的指針。</p><p name="bc50" id="bc50" class="graf graf--p graf-after--p">現在，假設你有一個 <code class="markup--code markup--p-code">Character</code> 實例 <code class="markup--code markup--p-code">dorothy</code>，它的 <code class="markup--code markup--p-code">name</code> 屬性為 &quot;Dorothy Gale&quot;，並且它有一個指向 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">friend</code> 屬性。但是，由於 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">name</code> 屬性是可選的，因此你需要使用 optional chaining 來獲取它。</p><p name="9da7" id="9da7" class="graf graf--p graf-after--p">請使用 optional chaining 獲取 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">name</code> 屬性，如果 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">name</code> 屬性存在，則輸出「Tin Man 的名字是 [name]」，否則輸出「Tin Man 的名字未知」。</p><ul class="postList"><li name="a661" id="a661" class="graf graf--li graf-after--p">解答。</li></ul><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="044b" id="044b" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Character</span> {<br />    <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span>?<br />    <span class="hljs-keyword">var</span> friend: <span class="hljs-type">Character</span>?<br />}<br /><br /><span class="hljs-keyword">let</span> dorothy <span class="hljs-operator">=</span> <span class="hljs-type">Character</span>()<br />dorothy.name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Dorothy Gale&quot;</span><br /><br /><span class="hljs-keyword">let</span> tinMan <span class="hljs-operator">=</span> <span class="hljs-type">Character</span>()<br />tinMan.name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Tin Man&quot;</span><br /><br />dorothy.friend <span class="hljs-operator">=</span> tinMan<br /><br /><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> tinManName <span class="hljs-operator">=</span> dorothy.friend<span class="hljs-operator">?</span>.name {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Tin Man 的名字是 <span class="hljs-subst">\(tinManName)</span>&quot;</span>)<br />} <span class="hljs-keyword">else</span> {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Tin Man 的名字未知&quot;</span>)<br />}</span></pre><p name="da57" id="da57" class="graf graf--p graf-after--pre">在這個解答中，我們首先建立了 <code class="markup--code markup--p-code">dorothy</code> 和 <code class="markup--code markup--p-code">tinMan</code> 兩個 <code class="markup--code markup--p-code">Character</code> 實例。我們將 <code class="markup--code markup--p-code">dorothy</code> 的 <code class="markup--code markup--p-code">name</code> 屬性設置為 &quot;Dorothy Gale&quot;，並將 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">name</code> 屬性設置為 &quot;Tin Man&quot;。然後，我們將 <code class="markup--code markup--p-code">dorothy</code> 的 <code class="markup--code markup--p-code">friend</code> 屬性設置為指向 <code class="markup--code markup--p-code">tinMan</code> 實例。</p><p name="5cd1" id="5cd1" class="graf graf--p graf-after--p">接下來，我們使用可選綁定來訪問 <code class="markup--code markup--p-code">dorothy</code> 的 <code class="markup--code markup--p-code">friend</code> 屬性，這樣我們就可以使用 optional chaining 訪問 <code class="markup--code markup--p-code">tinMan</code> 的 <code class="markup--code markup--p-code">name</code> 屬性。如果 <code class="markup--code markup--p-code">tinMan</code> 實例的 <code class="markup--code markup--p-code">name</code> 屬性存在，就輸出「Tin Man 的名字是 [name]」。否則，就輸出「Tin Man 的名字未知」。</p><h3 name="7f49" id="7f49" class="graf graf--h3 graf-after--p">比較 force-unwrap，optional binding，optional chaining，Nil-Coalescing Operator</h3><figure name="fd66" id="fd66" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*LqNMyXjD7iiFJyizlQxd9Q.jpeg" data-width="1052" data-height="788" src="https://cdn-images-1.medium.com/max/800/1*LqNMyXjD7iiFJyizlQxd9Q.jpeg"></figure><figure name="0088" id="0088" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*5v5VFCm4ssFUldEF9nopXA.png" data-width="1190" data-height="860" src="https://cdn-images-1.medium.com/max/800/1*5v5VFCm4ssFUldEF9nopXA.png"></figure><p name="f39d" id="f39d" class="graf graf--p graf-after--figure">Claude 的比較。</p><div name="aa1a" id="aa1a" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://claude.site/artifacts/0231cb36-accc-49a8-a892-9a8620a9f7e4" data-href="https://claude.site/artifacts/0231cb36-accc-49a8-a892-9a8620a9f7e4" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://claude.site/artifacts/0231cb36-accc-49a8-a892-9a8620a9f7e4"><strong class="markup--strong markup--mixtapeEmbed-strong">Claude Artifact</strong><br><em class="markup--em markup--mixtapeEmbed-em">Try out Artifacts created by Claude users</em>claude.site</a><a href="https://claude.site/artifacts/0231cb36-accc-49a8-a892-9a8620a9f7e4" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e2ce447b8f1b20db599cb520c062ae33" data-thumbnail-img-id="0*07zNHxT3mGVta3zU" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*07zNHxT3mGVta3zU);"></a></div><figure name="d5c9" id="d5c9" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*B_vEDl0aGTGTl3ZngAFpGg.png" data-width="1358" data-height="748" src="https://cdn-images-1.medium.com/max/800/1*B_vEDl0aGTGTl3ZngAFpGg.png"></figure><p name="18d9" id="18d9" class="graf graf--p graf-after--figure">Gemini 的比較。</p><div name="bc94" id="bc94" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://gemini.google.com/share/0fc642c148ec" data-href="https://gemini.google.com/share/0fc642c148ec" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://gemini.google.com/share/0fc642c148ec"><strong class="markup--strong markup--mixtapeEmbed-strong">‎Gemini - Swift Optional 處理方式比較</strong><br><em class="markup--em markup--mixtapeEmbed-em">Created with Gemini</em>gemini.google.com</a><a href="https://gemini.google.com/share/0fc642c148ec" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6008c3267fe47055758c6918f78471cc" data-thumbnail-img-id="0*agefsv8ogURRYa4r" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*agefsv8ogURRYa4r);"></a></div><figure name="1a91" id="1a91" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*rr3QJgQW5StoKAxcU4qUgQ.png" data-width="3438" data-height="1342" src="https://cdn-images-1.medium.com/max/800/1*rr3QJgQW5StoKAxcU4qUgQ.png"></figure><p name="1d07" id="1d07" class="graf graf--p graf-after--figure">ChatGPT 的比較。</p><div name="2e77" id="2e77" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://chatgpt.com/canvas/shared/67e0c13e591481918c73cdea1e31b44f" data-href="https://chatgpt.com/canvas/shared/67e0c13e591481918c73cdea1e31b44f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://chatgpt.com/canvas/shared/67e0c13e591481918c73cdea1e31b44f"><strong class="markup--strong markup--mixtapeEmbed-strong">Swift Optional Compare</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>chatgpt.com</a><a href="https://chatgpt.com/canvas/shared/67e0c13e591481918c73cdea1e31b44f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="94230e6c1df5eb4527deb394ea7a8012" data-thumbnail-img-id="0*mfr_aL-97_-f0RSB" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*mfr_aL-97_-f0RSB);"></a></div><figure name="57cd" id="57cd" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*dgxh7tqb6zsm7vHg3WchAw.png" data-width="3446" data-height="698" src="https://cdn-images-1.medium.com/max/800/1*dgxh7tqb6zsm7vHg3WchAw.png"></figure><p name="091b" id="091b" class="graf graf--p graf-after--figure">Notion AI 的整理。</p><figure name="fe95" id="fe95" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9qppwDdyhMj2XFjSiR_gfg.png" data-width="1388" data-height="388" src="https://cdn-images-1.medium.com/max/800/1*9qppwDdyhMj2XFjSiR_gfg.png"></figure><h3 name="178d" id="178d" class="graf graf--h3 graf-after--figure">請 AI 寫詩 &amp; 唱歌</h3><p name="3e3b" id="3e3b" class="graf graf--p graf-after--h3">write a rhyming poem to explain Swift’s optional chaining</p><pre data-code-block-mode="0" spellcheck="false" name="27be" id="27be" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">In Swift, there&#39;s a concept called optional chaining<br>It&#39;s a tool for programmers, and it&#39;s worth explaining<br><br>Say you have a variable, but it might be nil<br>With optional chaining, you can avoid a big spill<br><br>Just put a question mark after the variable&#39;s name<br>Then you can access properties without playing a guessing game<br><br>If the variable is nil, the code won&#39;t crash and burn<br>Instead, it will gracefully just return nil in turn<br><br>You can even chain multiple variables together<br>And access their properties, no matter the weather<br><br>So next time you write Swift code, remember this trick<br>Optional chaining can save you from a nasty code pick!</span></pre><div name="8050" id="8050" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://app.suno.ai/song/ec9b6484-d971-4d00-9e34-2e6e8bce6b91/" data-href="https://app.suno.ai/song/ec9b6484-d971-4d00-9e34-2e6e8bce6b91/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://app.suno.ai/song/ec9b6484-d971-4d00-9e34-2e6e8bce6b91/"><strong class="markup--strong markup--mixtapeEmbed-strong">optional chaining | Suno</strong><br><em class="markup--em markup--mixtapeEmbed-em">A song. Listen and make your own with Suno.</em>app.suno.ai</a><a href="https://app.suno.ai/song/ec9b6484-d971-4d00-9e34-2e6e8bce6b91/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="fffa939f00936a0fb174fa1d2bdf8f63" data-thumbnail-img-id="0*Vfs8l0YZEgvHH_MP" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Vfs8l0YZEgvHH_MP);"></a></div><p name="d4e9" id="d4e9" class="graf graf--p graf-after--mixtapeEmbed">write a rhyming poem about Swift’s optional chaining</p><pre data-code-block-mode="0" spellcheck="false" name="9e23" id="9e23" class="graf graf--pre graf-after--p graf--trailing graf--preV2"><span class="pre--content">In Swift there&#39;s a tool quite divine<br>It makes code elegant and fine<br>Optional chaining is its name<br>And it&#39;s become quite the fame<br><br>It saves us from the dreaded crash<br>When unwrapping an optional stash<br>No more forced unwrapping, oh no<br>Optional chaining helps us grow<br><br>We can check for nil with ease<br>And avoid those pesky sneeze<br>By using the question mark so bold<br>Our code&#39;s safer, or so we&#39;re told<br><br>We can traverse a chain so long<br>And never fear that things go wrong<br>Each link can be optional, you see<br>And we can navigate them, oh so free<br><br>Optional chaining, we thank you so<br>For making our code much more mellow<br>You&#39;ve saved us from crashes and bugs<br>And made our code much more snug.</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/e763c1a10da5"><time class="dt-published" datetime="2019-03-19T08:33:38.465Z">March 19, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E9%81%87-nil-%E5%8D%B3%E8%87%A8%E9%99%A3%E8%84%AB%E9%80%83%E7%9A%84-optional-chaining-e763c1a10da5" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>