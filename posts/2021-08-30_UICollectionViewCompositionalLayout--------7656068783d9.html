<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>UICollectionViewCompositionalLayout 常見排版範例</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">UICollectionViewCompositionalLayout 常見排版範例</h1>
</header>
<section data-field="subtitle" class="p-summary">
iOS 13 推出了 UICollectionViewCompositionalLayout，幫助我們更方便排版畫面，以下連結說明它的相關排版原理。
</section>
<section data-field="body" class="e-content">
<section name="de15" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d24e" id="d24e" class="graf graf--h3 graf--leading graf--title">UICollectionViewCompositionalLayout 常見排版範例</h3><p name="a471" id="a471" class="graf graf--p graf-after--h3">iOS 13 推出了 UICollectionViewCompositionalLayout，幫助我們更方便排版畫面，以下連結說明它的相關排版原理。</p><div name="aaf3" id="aaf3" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E6%8E%92%E7%89%88%E7%9A%84-uicollectionviewcompositionallayout-%E5%88%9D%E9%AB%94%E9%A9%97-ab0c81ffecf6" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E6%8E%92%E7%89%88%E7%9A%84-uicollectionviewcompositionallayout-%E5%88%9D%E9%AB%94%E9%A9%97-ab0c81ffecf6" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E6%8E%92%E7%89%88%E7%9A%84-uicollectionviewcompositionallayout-%E5%88%9D%E9%AB%94%E9%A9%97-ab0c81ffecf6"><strong class="markup--strong markup--mixtapeEmbed-strong">方便排版的 UICollectionViewCompositionalLayout 初體驗</strong><br><em class="markup--em markup--mixtapeEmbed-em">從 iOS 13 開始，iOS SDK 推出了 UICollectionViewCompositionalLayout，幫助我們更方便排版 collection view 的內容。從前在 collection view…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E6%8E%92%E7%89%88%E7%9A%84-uicollectionviewcompositionallayout-%E5%88%9D%E9%AB%94%E9%A9%97-ab0c81ffecf6" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="657ce4c60bdcbb5624188243fff81105" data-thumbnail-img-id="1*mojzsw0mWBBSBz170jVk9Q.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*mojzsw0mWBBSBz170jVk9Q.png);"></a></div><p name="fe69" id="fe69" class="graf graf--p graf-after--mixtapeEmbed">接下來我們將以推理女王克莉絲蒂的作品為例，以 UICollectionViewCompositionalLayout 實現各種 iOS App 的常見排版。</p><ul class="postList"><li name="adb3" id="adb3" class="graf graf--li graf-after--p">格子狀照片牆(grid)</li><li name="d0d6" id="d0d6" class="graf graf--li graf-after--li">水平捲動</li><li name="365c" id="365c" class="graf graf--li graf-after--li">水平捲動 &amp; 分頁</li><li name="eeaa" id="eeaa" class="graf graf--li graf-after--li">水平捲動，分頁 &amp; 顯示下一個的部分內容</li><li name="7e07" id="7e07" class="graf graf--li graf-after--li">水平捲動，不分頁，滑動停止時剛好停在 group 的起點</li><li name="c681" id="c681" class="graf graf--li graf-after--li">水平捲動，分頁 &amp; 顯示上一個 / 下一個的部分內容</li><li name="a25e" id="a25e" class="graf graf--li graf-after--li">整個頁面垂直捲動，頁面裡有水平捲動的區塊</li><li name="5c7e" id="5c7e" class="graf graf--li graf-after--li">水平捲動的分頁，分頁的內容垂直捲動</li><li name="d054" id="d054" class="graf graf--li graf-after--li">表格(table)</li><li name="f99e" id="f99e" class="graf graf--li graf-after--li">畫面不能捲動的九宮格</li></ul><h3 name="e08e" id="e08e" class="graf graf--h3 graf-after--li">格子狀照片牆(grid)</h3><h4 name="1412" id="1412" class="graf graf--h4 graf-after--h3"><strong class="markup--strong markup--h4-strong">範例 1: item &amp; group 的高度傳入 estimated，由 auto layout 自動計算高度</strong></h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="47ff" id="47ff" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .estimated(<span class="hljs-number">100</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .estimated(<span class="hljs-number">100</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitem: item, count: <span class="hljs-number">2</span>)<br />        group.interItemSpacing <span class="hljs-operator">=</span> .fixed(space)<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="86ef" id="86ef" class="graf graf--p graf-after--pre">image view 比例設為 0.7，priority 要設成 999，否則會有 auto layout breaking constraint 的警告訊息。</p><figure name="53eb" id="53eb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ya0TLhN54qgvSJweigWJ2Q.png" data-width="1256" data-height="912" src="https://cdn-images-1.medium.com/max/800/1*Ya0TLhN54qgvSJweigWJ2Q.png"></figure><figure name="976f" id="976f" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*CbcYe7wKlNC5uG8VhqI3SA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*CbcYe7wKlNC5uG8VhqI3SA.png"></figure><h4 name="7928" id="7928" class="graf graf--h4 graf-after--figure"><strong class="markup--strong markup--h4-strong">範例 2: itemSize 設為 fractionalWidth(0.5) &amp; fractionalWidth(0.5 / 0.7)，實現寬度是高度的 0.7 倍</strong></h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3be8" id="3be8" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">0.5</span>), heightDimension: .fractionalWidth(<span class="hljs-number">0.5</span> <span class="hljs-operator">/</span> <span class="hljs-number">0.7</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .estimated(<span class="hljs-number">100</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><figure name="dcb4" id="dcb4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*a3ZdpJiypx7dKkSiE8wpVQ.png" data-width="1224" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*a3ZdpJiypx7dKkSiE8wpVQ.png"></figure><figure name="83e9" id="83e9" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*gf8lJy69UcTtmnyi_bhM1Q.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*gf8lJy69UcTtmnyi_bhM1Q.png"></figure><h3 name="eba4" id="eba4" class="graf graf--h3 graf-after--figure">水平捲動</h3><h4 name="89af" id="89af" class="graf graf--h4 graf-after--h3">方法 1: UICollectionViewCompositionalLayoutConfiguration 的 scrollDirection 設成 horizontal</h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="edad" id="edad" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .absolute(<span class="hljs-number">200</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: space)<br />        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">UICollectionViewCompositionalLayoutConfiguration</span>()<br />        configuration.scrollDirection <span class="hljs-operator">=</span> .horizontal<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section, configuration: configuration)<br />}</span></pre><figure name="5c1b" id="5c1b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*f9WdhgSPZ1cKVwCClDBVew.png" data-width="1272" data-height="1020" src="https://cdn-images-1.medium.com/max/800/1*f9WdhgSPZ1cKVwCClDBVew.png"></figure><figure name="bd3e" id="bd3e" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*1bS9O0ctth8QaLPYroloFQ.png" data-width="1082" data-height="1092" src="https://cdn-images-1.medium.com/max/800/1*1bS9O0ctth8QaLPYroloFQ.png"></figure><h4 name="4ec8" id="4ec8" class="graf graf--h4 graf-after--figure">方法 2: 設定 orthogonalScrollingBehavior</h4><p name="2b09" id="2b09" class="graf graf--p graf-after--h4">orthogonalScrollingBehavior 設為 continuous，group 的寬度固定 200，group 的高度等於 collection view 的高度。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。(因為 collection view 採用 UICollectionViewCompositionalLayout 時，預設的捲動方向是 vertical)</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4d6b" id="4d6b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />            <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />            <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />            <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .absolute(<span class="hljs-number">200</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />            <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />            section.interGroupSpacing <span class="hljs-operator">=</span> space<br />            section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: space)<br />            section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .continuous<br />            <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><figure name="dcc6" id="dcc6" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*f9WdhgSPZ1cKVwCClDBVew.png" data-width="1272" data-height="1020" src="https://cdn-images-1.medium.com/max/800/1*f9WdhgSPZ1cKVwCClDBVew.png"></figure><figure name="4924" id="4924" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*1bS9O0ctth8QaLPYroloFQ.png" data-width="1082" data-height="1092" src="https://cdn-images-1.medium.com/max/800/1*1bS9O0ctth8QaLPYroloFQ.png"></figure><h3 name="22f2" id="22f2" class="graf graf--h3 graf-after--figure">水平捲動 &amp; 分頁</h3><h4 name="df4f" id="df4f" class="graf graf--h4 graf-after--h3"><strong class="markup--strong markup--h4-strong">範例 1:書本之間無間距</strong></h4><ul class="postList"><li name="e49b" id="e49b" class="graf graf--li graf-after--h4"><strong class="markup--strong markup--li-strong">方法 1: UICollectionViewCompositionalLayoutConfiguration 的 scrollDirection 設成 horizontal， collectionView 的 isPagingEnabled 設成 true</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4d4d" id="4d4d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">UICollectionViewCompositionalLayoutConfiguration</span>()<br />        configuration.scrollDirection <span class="hljs-operator">=</span> .horizontal<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section, configuration: configuration)<br />}</span></pre><p name="0fe5" id="0fe5" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="91f8" id="91f8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TefWq6nXP89MS3ZgjHNSQA.png" data-width="1318" data-height="952" src="https://cdn-images-1.medium.com/max/800/1*TefWq6nXP89MS3ZgjHNSQA.png"></figure><figure name="808e" id="808e" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*T9N6ANI5WywXpSK5BG10hg.png" data-width="1444" data-height="974" src="https://cdn-images-1.medium.com/max/800/1*T9N6ANI5WywXpSK5BG10hg.png"></figure><ul class="postList"><li name="ade3" id="ade3" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">方法 2: orthogonalScrollingBehavior 設為 paging</strong></li></ul><p name="8f3f" id="8f3f" class="graf graf--p graf-after--li">orthogonalScrollingBehavior 設為 paging。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e3de" id="e3de" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />            <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />            <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />            <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />            section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .paging<br />            <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="47b9" id="47b9" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="bd81" id="bd81" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TefWq6nXP89MS3ZgjHNSQA.png" data-width="1318" data-height="952" src="https://cdn-images-1.medium.com/max/800/1*TefWq6nXP89MS3ZgjHNSQA.png"></figure><figure name="4297" id="4297" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*T9N6ANI5WywXpSK5BG10hg.png" data-width="1444" data-height="974" src="https://cdn-images-1.medium.com/max/800/1*T9N6ANI5WywXpSK5BG10hg.png"></figure><h4 name="17b2" id="17b2" class="graf graf--h4 graf-after--figure"><strong class="markup--strong markup--h4-strong">範例 2: 全螢幕照片，滑動時可看到間距，滑動停止時不會看到間距</strong></h4><p name="2463" id="2463" class="graf graf--p graf-after--h4">orthogonalScrollingBehavior 設為 groupPaging，利用 section 的. interGroupSpacing 設定間距。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4a92" id="4a92" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .groupPaging<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="556e" id="556e" class="graf graf--p graf-after--pre">image view 的 content mode 設為 aspect fit。</p><figure name="e097" id="e097" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*vDc5FXXSFpjqnQiwBIDD5g.png" data-width="1112" data-height="758" src="https://cdn-images-1.medium.com/max/800/1*vDc5FXXSFpjqnQiwBIDD5g.png"></figure><figure name="36dd" id="36dd" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*L5qHkpxzWWdEI6D4y0YqnQ.png" data-width="1390" data-height="964" src="https://cdn-images-1.medium.com/max/800/1*L5qHkpxzWWdEI6D4y0YqnQ.png"></figure><h4 name="f8e3" id="f8e3" class="graf graf--h4 graf-after--figure"><strong class="markup--strong markup--h4-strong">範例 3: 圖文頁面</strong></h4><ul class="postList"><li name="eb3a" id="eb3a" class="graf graf--li graf-after--h4"><strong class="markup--strong markup--li-strong">方法 1: UICollectionViewCompositionalLayoutConfiguration 的 scrollDirection 設成 horizontal， collectionView 的 isPagingEnabled 設成 true</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3f48" id="3f48" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> inset: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">50</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: inset, leading: inset, bottom: inset, trailing: inset)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">UICollectionViewCompositionalLayoutConfiguration</span>()<br />        configuration.scrollDirection <span class="hljs-operator">=</span> .horizontal<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section, configuration: configuration)<br />}</span></pre><p name="9338" id="9338" class="graf graf--p graf-after--pre">書名 label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="b034" id="b034" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NE9GiJyoxaM_XdyRGW-5hg.png" data-width="1232" data-height="1056" src="https://cdn-images-1.medium.com/max/800/1*NE9GiJyoxaM_XdyRGW-5hg.png"></figure><figure name="b29e" id="b29e" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*FGzSa1mdJeqGtUT5dpCdzQ.png" data-width="942" data-height="958" src="https://cdn-images-1.medium.com/max/800/1*FGzSa1mdJeqGtUT5dpCdzQ.png"></figure><ul class="postList"><li name="5929" id="5929" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">方法 2: orthogonalScrollingBehavior 設為 paging</strong></li></ul><p name="536f" id="536f" class="graf graf--p graf-after--li">orthogonalScrollingBehavior 設為 paging，利用 item 的 contentInsets 設定內容和邊界的間距。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5d19" id="5d19" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> inset: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">50</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: inset, leading: inset, bottom: inset, trailing: inset)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .paging<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="6d3b" id="6d3b" class="graf graf--p graf-after--pre">書名 label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="6589" id="6589" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NE9GiJyoxaM_XdyRGW-5hg.png" data-width="1232" data-height="1056" src="https://cdn-images-1.medium.com/max/800/1*NE9GiJyoxaM_XdyRGW-5hg.png"></figure><figure name="510f" id="510f" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*FGzSa1mdJeqGtUT5dpCdzQ.png" data-width="942" data-height="958" src="https://cdn-images-1.medium.com/max/800/1*FGzSa1mdJeqGtUT5dpCdzQ.png"></figure><h3 name="e6aa" id="e6aa" class="graf graf--h3 graf-after--figure">水平捲動，分頁 &amp; 顯示下一個的部分內容</h3><p name="2426" id="2426" class="graf graf--p graf-after--h3">orthogonalScrollingBehavior 設為 groupPaging，group 的寬度設為 fractionalWidth(0.9)。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3617" id="3617" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: <span class="hljs-number">0</span>)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">0.9</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .groupPaging<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="e5c3" id="e5c3" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="3b0c" id="3b0c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FCup6PG_r0WuOz7iVOs3Cg.png" data-width="1244" data-height="838" src="https://cdn-images-1.medium.com/max/800/1*FCup6PG_r0WuOz7iVOs3Cg.png"></figure><figure name="9940" id="9940" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*SoraGJXO3Vh4Q35u3wo4Hg.png" data-width="1052" data-height="1086" src="https://cdn-images-1.medium.com/max/800/1*SoraGJXO3Vh4Q35u3wo4Hg.png"></figure><h3 name="06e4" id="06e4" class="graf graf--h3 graf-after--figure">水平捲動，不分頁，滑動停止時剛好停在 group 的起點</h3><p name="2653" id="2653" class="graf graf--p graf-after--h3">orthogonalScrollingBehavior 設為 continuousGroupLeadingBoundary，group 的寬度設為 fractionalWidth(0.9)。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="a602" id="a602" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />            <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />            <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />            item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: <span class="hljs-number">0</span>)<br />            <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">0.9</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />            <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />            <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />            section.interGroupSpacing <span class="hljs-operator">=</span> space<br />            section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .continuousGroupLeadingBoundary<br />            <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="067f" id="067f" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="c43e" id="c43e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FCup6PG_r0WuOz7iVOs3Cg.png" data-width="1244" data-height="838" src="https://cdn-images-1.medium.com/max/800/1*FCup6PG_r0WuOz7iVOs3Cg.png"></figure><figure name="30a3" id="30a3" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*CaSsahO5bnNEOrOK-9_uFQ.png" data-width="1046" data-height="1090" src="https://cdn-images-1.medium.com/max/800/1*CaSsahO5bnNEOrOK-9_uFQ.png"></figure><h3 name="7527" id="7527" class="graf graf--h3 graf-after--figure">水平捲動，分頁 &amp; 顯示上一個 / 下一個的部分內容</h3><h4 name="8370" id="8370" class="graf graf--h4 graf-after--h3"><strong class="markup--strong markup--h4-strong">範例 1: group 裡有一個 item</strong></h4><p name="3820" id="3820" class="graf graf--p graf-after--h4">使用 groupPagingCentered。從 item 的 contentInsets 設間距，item 之間的間距將是 space * 2。另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4016" id="4016" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: space)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">0.9</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .groupPagingCentered<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="1beb" id="1beb" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="abea" id="abea" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FCup6PG_r0WuOz7iVOs3Cg.png" data-width="1244" data-height="838" src="https://cdn-images-1.medium.com/max/800/1*FCup6PG_r0WuOz7iVOs3Cg.png"></figure><figure name="dcb6" id="dcb6" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*KheEb5bxP9LAiFRyR2_aCQ.png" data-width="1070" data-height="1096" src="https://cdn-images-1.medium.com/max/800/1*KheEb5bxP9LAiFRyR2_aCQ.png"></figure><h4 name="ac3a" id="ac3a" class="graf graf--h4 graf-after--figure"><strong class="markup--strong markup--h4-strong">範例 2: group 裡有兩個 item</strong></h4><p name="964c" id="964c" class="graf graf--p graf-after--h4">另外記得要將 collectionView 的 isScrollEnabled 設為 false，不然畫面還是可以垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b710" id="b710" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: space)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">0.9</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.vertical(layoutSize: groupSize, subitem: item, count: <span class="hljs-number">2</span>)<br />        group.interItemSpacing <span class="hljs-operator">=</span> .fixed(space <span class="hljs-operator">*</span> <span class="hljs-number">2</span>)<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .groupPagingCentered<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><p name="d051" id="d051" class="graf graf--p graf-after--pre">label 的 vertical content hugging 設為 252，vertical content compression 設為 751。</p><figure name="dd5d" id="dd5d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*FCup6PG_r0WuOz7iVOs3Cg.png" data-width="1244" data-height="838" src="https://cdn-images-1.medium.com/max/800/1*FCup6PG_r0WuOz7iVOs3Cg.png"></figure><figure name="e1db" id="e1db" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*CkpX_4Mxw81MyHgq0U2V9A.png" data-width="1062" data-height="1090" src="https://cdn-images-1.medium.com/max/800/1*CkpX_4Mxw81MyHgq0U2V9A.png"></figure><h3 name="ba35" id="ba35" class="graf graf--h3 graf-after--figure">整個頁面垂直捲動，頁面裡有水平捲動的區塊</h3><h4 name="c151" id="c151" class="graf graf--h4 graf-after--h3">範例 1: 多個 section，每個 section 搭配一樣的 NSCollectionLayoutSection 排版</h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0667" id="0667" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .absolute(<span class="hljs-number">200</span>), heightDimension: .absolute(<span class="hljs-number">318</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: <span class="hljs-number">0</span>, leading: space, bottom: <span class="hljs-number">0</span>, trailing: space)<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .continuous<br />        <span class="hljs-keyword">let</span> headerSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .absolute(<span class="hljs-number">50</span>))<br />        <span class="hljs-keyword">let</span> header <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutBoundarySupplementaryItem</span>(layoutSize: headerSize, elementKind: <span class="hljs-type">UICollectionView</span>.elementKindSectionHeader, alignment: .top)<br />        section.boundarySupplementaryItems <span class="hljs-operator">=</span> [header]<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><figure name="850b" id="850b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*n49V9eCHdKBKcO3Ku55sdQ.png" data-width="1374" data-height="1126" src="https://cdn-images-1.medium.com/max/800/1*n49V9eCHdKBKcO3Ku55sdQ.png"></figure><figure name="35e0" id="35e0" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*z4TX0HW9f5QdSidTAgjrWg.png" data-width="1048" data-height="1086" src="https://cdn-images-1.medium.com/max/800/1*z4TX0HW9f5QdSidTAgjrWg.png"></figure><h4 name="eff9" id="eff9" class="graf graf--h4 graf-after--figure">範例 2: 多個 section，每個 section 搭配不同的 NSCollectionLayoutSection 排版</h4><p name="8049" id="8049" class="graf graf--p graf-after--h4">分成多個 section，依據以下規則排版:</p><ul class="postList"><li name="20f4" id="20f4" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">section number 偶數的 section</strong></li></ul><p name="4e8e" id="4e8e" class="graf graf--p graf-after--li">group 延水平方向排列，可水平滑動。</p><ul class="postList"><li name="9619" id="9619" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">section number 奇數的 section</strong></li></ul><p name="bd27" id="bd27" class="graf graf--p graf-after--li">group 延垂直方向排列。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4b97" id="4b97" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <br />        <span class="hljs-type">UICollectionViewCompositionalLayout</span> { [<span class="hljs-keyword">unowned</span> <span class="hljs-keyword">self</span>] section, environment <span class="hljs-keyword">in</span><br />            <span class="hljs-keyword">if</span> section.isMultiple(of: <span class="hljs-number">2</span>) {<br />                <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.horizontalScrollLayoutSection<br />            } <span class="hljs-keyword">else</span> {<br />                <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.verticalScrollLayoutSection<br />            }<br />        }<br />}<br />    <br />    <br /><span class="hljs-keyword">var</span> horizontalScrollLayoutSection: <span class="hljs-type">NSCollectionLayoutSection</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .absolute(<span class="hljs-number">200</span>), heightDimension: .absolute(<span class="hljs-number">318</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .continuous<br />        <span class="hljs-keyword">let</span> headerSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .absolute(<span class="hljs-number">50</span>))<br />        <span class="hljs-keyword">let</span> header <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutBoundarySupplementaryItem</span>(layoutSize: headerSize, elementKind: <span class="hljs-type">UICollectionView</span>.elementKindSectionHeader, alignment: .top)<br />        section.boundarySupplementaryItems <span class="hljs-operator">=</span> [header]<br />        <span class="hljs-keyword">return</span> section<br />}<br />    <br /><span class="hljs-keyword">var</span> verticalScrollLayoutSection: <span class="hljs-type">NSCollectionLayoutSection</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .absolute(<span class="hljs-number">143</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">let</span> headerSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .absolute(<span class="hljs-number">50</span>))<br />        <span class="hljs-keyword">let</span> header <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutBoundarySupplementaryItem</span>(layoutSize: headerSize, elementKind: <span class="hljs-type">UICollectionView</span>.elementKindSectionHeader, alignment: .top)<br />        section.boundarySupplementaryItems <span class="hljs-operator">=</span> [header]<br />        <span class="hljs-keyword">return</span> section<br />}</span></pre><p name="8e05" id="8e05" class="graf graf--p graf-after--pre">設定搭配不同 section 的 cell，section number 奇數的 section 顯示 VerticalCollectionViewCell，section number 偶數的 section 顯示 HorizontalCollectionViewCell。VerticalCollectionViewCell 的圖片比例 0.7，HorizontalCollectionViewCell 的圖片寬度 100。</p><figure name="8f1f" id="8f1f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cZ7S6euZY-76M5mmscjA2Q.png" data-width="1312" data-height="1310" src="https://cdn-images-1.medium.com/max/800/1*cZ7S6euZY-76M5mmscjA2Q.png"></figure><figure name="4ccf" id="4ccf" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*XBVGdXDUNmrVOlYjWLc72A.png" data-width="1066" data-height="1078" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*XBVGdXDUNmrVOlYjWLc72A.png"></figure><h3 name="4604" id="4604" class="graf graf--h3 graf-after--figure">水平捲動的分頁，分頁的內容垂直捲動</h3><p name="fd8a" id="fd8a" class="graf graf--p graf-after--h3">將 configuration.scrollDirection 設成 horizontal，collectionView 的 isPagingEnabled 設成 true，實現水平滑動的分頁，section.orthogonalScrollingBehavior 設成 continuous 讓分頁的內容垂直捲動。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="a7b2" id="a7b2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">UICollectionViewCompositionalLayoutConfiguration</span>()<br />        configuration.scrollDirection <span class="hljs-operator">=</span> .horizontal<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(sectionProvider: { section, environment <span class="hljs-keyword">in</span><br />            <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />            <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .estimated(<span class="hljs-number">100</span>))<br />            <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />            <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .estimated(<span class="hljs-number">100</span>))<br />            <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitem: item, count: section <span class="hljs-operator">==</span> <span class="hljs-number">0</span> <span class="hljs-operator">?</span> <span class="hljs-number">2</span> : <span class="hljs-number">3</span>)<br />            group.interItemSpacing <span class="hljs-operator">=</span> .fixed(space)<br />            <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />            section.interGroupSpacing <span class="hljs-operator">=</span> space<br />            section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />            section.orthogonalScrollingBehavior <span class="hljs-operator">=</span> .continuous<br />            <span class="hljs-keyword">return</span> section<br />            <br />        }, configuration: configuration)<br />}</span></pre><p name="ccc7" id="ccc7" class="graf graf--p graf-after--pre">image view 比例設為 0.7，priority 要設成 999，否則會有 auto layout breaking constraint 的警告訊息。</p><figure name="af7d" id="af7d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2_L2AwMkeXf4j0MN2H1NYQ.png" data-width="1698" data-height="870" src="https://cdn-images-1.medium.com/max/800/1*2_L2AwMkeXf4j0MN2H1NYQ.png"></figure><figure name="1d1e" id="1d1e" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*O3S_pE99KmqU3woQ046Faw.png" data-width="1102" data-height="1100" src="https://cdn-images-1.medium.com/max/800/1*O3S_pE99KmqU3woQ046Faw.png"></figure><h3 name="f23a" id="f23a" class="graf graf--h3 graf-after--figure">表格(table)</h3><h4 name="49ef" id="49ef" class="graf graf--h4 graf-after--h3">範例 1: iOS 14 的 UICollectionViewCompositionalLayout.list</h4><p name="dd8a" id="dd8a" class="graf graf--p graf-after--h4">使用 UICollectionViewCompositionalLayout.list 產生以表格樣式排版的 UICollectionViewCompositionalLayout，cell 高度將以 auto layout 條件自動計算。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="af65" id="af65" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />            <br />        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">UICollectionLayoutListConfiguration</span>(appearance: .grouped)<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>.list(using: configuration)<br />        <br />}</span></pre><figure name="6285" id="6285" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*IZolwU092syT75DgwDCrLg.png" data-width="1270" data-height="1034" src="https://cdn-images-1.medium.com/max/800/1*IZolwU092syT75DgwDCrLg.png"></figure><figure name="d263" id="d263" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*tr9UHvx1mllhhtRJs5ySQw.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*tr9UHvx1mllhhtRJs5ySQw.png"></figure><h4 name="8929" id="8929" class="graf graf--h4 graf-after--figure">範例 2:</h4><p name="3c6a" id="3c6a" class="graf graf--p graf-after--h4">item 的大小等於 group 的大小，group 的寬度等於 collection view 的寬度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="53d7" id="53d7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .absolute(<span class="hljs-number">143</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.interGroupSpacing <span class="hljs-operator">=</span> space<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><figure name="7745" id="7745" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*aqTY3KXZPKOw2Xf55TH3NA.png" data-width="1308" data-height="952" src="https://cdn-images-1.medium.com/max/800/1*aqTY3KXZPKOw2Xf55TH3NA.png"></figure><figure name="7612" id="7612" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*PNIdhtjBAlg4PybJXuJBYw.png" data-width="1072" data-height="1080" src="https://cdn-images-1.medium.com/max/800/1*PNIdhtjBAlg4PybJXuJBYw.png"></figure><h3 name="e021" id="e021" class="graf graf--h3 graf-after--figure">畫面不能捲動的九宮格</h3><p name="84e5" id="84e5" class="graf graf--p graf-after--h3">除了設定 layout，記得也要將 collection view 的 isScrollEnabled 設為 false。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c750" id="c750" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">generateLayout</span>() -&gt; <span class="hljs-type">UICollectionViewLayout</span> {<br />        <span class="hljs-keyword">let</span> space: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br />        <span class="hljs-keyword">let</span> itemSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">3</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span>))<br />        <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutItem</span>(layoutSize: itemSize)<br />        item.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">let</span> groupSize <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSize</span>(widthDimension: .fractionalWidth(<span class="hljs-number">1</span>), heightDimension: .fractionalHeight(<span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">3</span>))<br />        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutGroup</span>.horizontal(layoutSize: groupSize, subitems: [item])<br />        <span class="hljs-keyword">let</span> section <span class="hljs-operator">=</span> <span class="hljs-type">NSCollectionLayoutSection</span>(group: group)<br />        section.contentInsets <span class="hljs-operator">=</span> <span class="hljs-type">NSDirectionalEdgeInsets</span>(top: space, leading: space, bottom: space, trailing: space)<br />        <span class="hljs-keyword">return</span> <span class="hljs-type">UICollectionViewCompositionalLayout</span>(section: section)<br />}</span></pre><figure name="c5c6" id="c5c6" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*8Zuub-5lyCXqjF5a-fwgOg.png" data-width="1128" data-height="776" src="https://cdn-images-1.medium.com/max/800/1*8Zuub-5lyCXqjF5a-fwgOg.png"></figure><figure name="1553" id="1553" class="graf graf--figure graf-after--figure graf--trailing"><img class="graf-image" data-image-id="1*xOKgms2FM70kcW6OFndO1A.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/800/1*xOKgms2FM70kcW6OFndO1A.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/7656068783d9"><time class="dt-published" datetime="2021-08-30T04:28:56.987Z">August 30, 2021</time></a>.</p><p><a href="https://medium.com/@apppeterpan/uicollectionviewcompositionallayout-%E5%B8%B8%E8%A6%8B%E6%8E%92%E7%89%88%E7%AF%84%E4%BE%8B-7656068783d9" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>