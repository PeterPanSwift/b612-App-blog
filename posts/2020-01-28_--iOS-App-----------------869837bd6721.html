<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>將 iOS App 需要的假資料集中定義在一個地方</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">將 iOS App 需要的假資料集中定義在一個地方</h1>
</header>
<section data-field="subtitle" class="p-summary">
我們將模仿 Apple 官方範例，將假資料集中定義在一個地方，方便 App 畫面和 preview 存取。
</section>
<section data-field="body" class="e-content">
<section name="52ae" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1e50" id="1e50" class="graf graf--h3 graf--leading graf--title">將 iOS App 需要的假資料集中定義在一個地方</h3><p name="1814" id="1814" class="graf graf--p graf-after--h3">透過 SwiftUI preview，我們可以方便地預覽 App 畫面。不過為了讓 preview 呈現內容，我們通常會在 preview 提供假資料。</p><p name="5460" id="5460" class="graf graf--p graf-after--p">以推理小說 App 為例，假設我們定義了資料型別 Author &amp; Book。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1485" id="1485" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Author</span>: <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">let</span> id <span class="hljs-operator">=</span> <span class="hljs-type">UUID</span>()<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> image: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> books: [<span class="hljs-type">Book</span>]<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7b1b" id="7b1b" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Book</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> author: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> coverImage: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> description: <span class="hljs-type">String</span><br />}</span></pre><p name="325b" id="325b" class="graf graf--p graf-after--pre">然後定義畫面 AuthorGallery &amp; AuthorRow。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="bfff" id="bfff" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AuthorGallery</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> authors <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, image: <span class="hljs-string">&quot;christie&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;無盡的夜&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover1&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />                年輕貌美而又富可敵國的美國女郎在一個叫「吉普賽營地」的瀕海山崖上興建了一座豪華別墅。<br />                可惜的是，她在與一位來自英國的帥氣南子新婚後不久便死於非命……<br />                誰是元兇，竟狠毒地將這對神仙眷侶拆散？<br />                某人自幼便生活在利欲的黑暗生活中，被禁錮的心靈導引他自人生的黑夜邁向地獄的黑夜?<br />                &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;尼羅河謀殺案&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover2&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />                林內特是一個擁有著如日中天事業的女強人，然而她和丈夫在蜜月旅行途中慘遭殺害。<br />                當艾及德偵探赫丘勒·白羅踏上船隻後，這個美麗的蜜月旅行變成了一場駭人的謀殺調查。<br />                每個人都有嫌疑，每個人都有不在場證明。白羅必須在這場充滿謎團的案件中找到真相。<br />                &quot;&quot;&quot;</span>)<br />        ]),<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, image: <span class="hljs-string">&quot;isakakotaro&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;重力小丑&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover3&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />                一個美國少年與他的哥哥發現，他們周遭的世界突然變得無比怪異，<br />                他們的父親遭遇不測，哥哥的生活變得混亂，弟弟開始質疑現實的本質。<br />                在一系列奇怪的事件背後，似乎隱藏著一個更大的陰謀。<br />                &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;死神的精確度&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover4&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />                年輕的死神千葉，他的工作是評估人們的死亡。<br />                他有七天時間觀察每個人，然後決定他們是否應該死亡。<br />                在這七天內，他遇到了一系列令人感動的故事，開始質疑自己的任務。<br />                &quot;&quot;&quot;</span>)<br />        ])<br />    ]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">ScrollView</span> {<br />            <span class="hljs-type">VStack</span> {<br />                <span class="hljs-type">ForEach</span>(authors) { author <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">AuthorRow</span>(author: author)<br />                }<br />            }<br />        }<br />        .contentMargins(<span class="hljs-number">10</span>)<br />    }<br />}<br /><br />#<span class="hljs-type">Preview</span> {<br />    <span class="hljs-type">AuthorGallery</span>()<br />}    </span></pre><figure name="f89f" id="f89f" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*yzplGXk4QxpV7oCmUI5wRQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*yzplGXk4QxpV7oCmUI5wRQ.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1824" id="1824" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AuthorRow</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> author: <span class="hljs-type">Author</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">HStack</span> {<br />            <span class="hljs-type">Image</span>(author.image)<br />                .resizable()<br />                .scaledToFill()<br />                .frame(width: <span class="hljs-number">100</span>, height: <span class="hljs-number">100</span>)<br />                .clipShape(.circle)<br />                .overlay {<br />                    <span class="hljs-type">Circle</span>()<br />                        .stroke(.white, lineWidth: <span class="hljs-number">2</span>)<br />                }<br />                .shadow(color: .primary, radius: <span class="hljs-number">5</span>)<br />            <span class="hljs-type">Text</span>(author.name)<br />                .font(.headline)<br />            <span class="hljs-type">Spacer</span>()<br />        }<br />    }<br />}<br /><br />#<span class="hljs-type">Preview</span>(traits: .sizeThatFitsLayout) {<br />    <span class="hljs-keyword">let</span> author <span class="hljs-operator">=</span> <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, image: <span class="hljs-string">&quot;christie&quot;</span>, books: [<br />        <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;無盡的夜&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover1&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />             年輕貌美而又富可敵國的美國女郎在一個叫「吉普賽營地」的瀕海山崖上興建了一座豪華別墅。<br />             可惜的是，她在與一位來自英國的帥氣南子新婚後不久便死於非命……<br />             誰是元兇，竟狠毒地將這對神仙眷侶拆散？<br />             某人自幼便生活在利欲的黑暗生活中，被禁錮的心靈導引他自人生的黑夜邁向地獄的黑夜?<br />             &quot;&quot;&quot;</span>),<br />        <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;尼羅河謀殺案&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover2&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />             林內特是一個擁有著如日中天事業的女強人，然而她和丈夫在蜜月旅行途中慘遭殺害。<br />             當艾及德偵探赫丘勒·白羅踏上船隻後，這個美麗的蜜月旅行變成了一場駭人的謀殺調查。<br />             每個人都有嫌疑，每個人都有不在場證明。白羅必須在這場充滿謎團的案件中找到真相。<br />             &quot;&quot;&quot;</span>)<br />    ])<br />    <span class="hljs-type">AuthorRow</span>(author: author)<br />}</span></pre><figure name="1ea4" id="1ea4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*vI-1mDZar6hXU5IRJ08XbQ.png" data-width="1179" data-height="300" src="https://cdn-images-1.medium.com/max/800/1*vI-1mDZar6hXU5IRJ08XbQ.png"></figure><p name="d052" id="d052" class="graf graf--p graf-after--figure">從剛剛的例子可看到以下缺點。</p><ul class="postList"><li name="9ad8" id="9ad8" class="graf graf--li graf-after--p">常常需要在 preview 輸入資料。</li><li name="22e2" id="22e2" class="graf graf--li graf-after--li">在多個地方定義重覆的資料，比方 Author 克莉絲蒂的相關資料。</li><li name="afef" id="afef" class="graf graf--li graf-after--li">修改資料時要修改多個地方，容易忘了改造成資料不一致。</li><li name="80a3" id="80a3" class="graf graf--li graf-after--li">AuthorGallery 的 property authors 儲存大量資料，讓 AuthorGallery 的程式變得冗長。</li></ul><p name="6d36" id="6d36" class="graf graf--p graf-after--li">因此以下我們將模仿 Apple 官方範例，將假資料集中定義在一個地方，方便 App 畫面和 preview 存取。</p><ul class="postList"><li name="107c" id="107c" class="graf graf--li graf-after--p">寫法 1: 定義存取資料的 SampleData。</li><li name="8647" id="8647" class="graf graf--li graf-after--li">寫法 2: 在資料的型別宣告 static property。</li><li name="59ea" id="59ea" class="graf graf--li graf-after--li">解法 3: 定義生成假資料的 function。</li></ul><h3 name="2081" id="2081" class="graf graf--h3 graf-after--li">寫法 1: 定義存取資料的 SampleData</h3><p name="516e" id="516e" class="graf graf--p graf-after--h3">定義提供假資料的 SampleData。(其它像 ModelData、MockData 都是常見的名字)</p><p name="aee9" id="aee9" class="graf graf--p graf-after--p">以下例子在 SampleData 宣告 static property 儲存作者們的資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="fc53" id="fc53" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SampleData</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> authors <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, image: <span class="hljs-string">&quot;christie&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;無盡的夜&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover1&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕貌美而又富可敵國的美國女郎在一個叫「吉普賽營地」的瀕海山崖上興建了一座豪華別墅。<br />            可惜的是，她在與一位來自英國的帥氣南子新婚後不久便死於非命……<br />            誰是元兇，竟狠毒地將這對神仙眷侶拆散？<br />            某人自幼便生活在利欲的黑暗生活中，被禁錮的心靈導引他自人生的黑夜邁向地獄的黑夜?<br />            &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;尼羅河謀殺案&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover2&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            林內特是一個擁有著如日中天事業的女強人，然而她和丈夫在蜜月旅行途中慘遭殺害。<br />            當艾及德偵探赫丘勒·白羅踏上船隻後，這個美麗的蜜月旅行變成了一場駭人的謀殺調查。<br />            每個人都有嫌疑，每個人都有不在場證明。白羅必須在這場充滿謎團的案件中找到真相。<br />            &quot;&quot;&quot;</span>)<br />        ]),<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, image: <span class="hljs-string">&quot;isakakotaro&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;重力小丑&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover3&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            一個美國少年與他的哥哥發現，他們周遭的世界突然變得無比怪異，<br />            他們的父親遭遇不測，哥哥的生活變得混亂，弟弟開始質疑現實的本質。<br />            在一系列奇怪的事件背後，似乎隱藏著一個更大的陰謀。<br />            &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;死神的精確度&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover4&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕的死神千葉，他的工作是評估人們的死亡。<br />            他有七天時間觀察每個人，然後決定他們是否應該死亡。<br />            在這七天內，他遇到了一系列令人感動的故事，開始質疑自己的任務。<br />            &quot;&quot;&quot;</span>)<br />        ])<br />    ]<br /><br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> author <span class="hljs-operator">=</span> authors[<span class="hljs-number">0</span>]<br /><br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> book <span class="hljs-operator">=</span> authors[<span class="hljs-number">0</span>].books[<span class="hljs-number">0</span>] <br />}</span></pre><p name="6f5e" id="6f5e" class="graf graf--p graf-after--pre">AuthorGallery 的程式大大簡化，透過 SampleData.authors 即可存取作者們的資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9f4c" id="9f4c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AuthorGallery</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> authors <span class="hljs-operator">=</span> <span class="hljs-type">SampleData</span>.authors</span></pre><p name="c7c1" id="c7c1" class="graf graf--p graf-after--pre">AuthorRow 的 preview 則可從 <code class="markup--code markup--p-code">SampleData.authors[0]</code> 或 <code class="markup--code markup--p-code">SampleData.author</code> 取得某個作者的資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9140" id="9140" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span>(traits: .sizeThatFitsLayout) {<br />    <span class="hljs-type">AuthorRow</span>(author: <span class="hljs-type">SampleData</span>.authors[<span class="hljs-number">0</span>])<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2280" id="2280" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span>(traits: .sizeThatFitsLayout) {<br />    <span class="hljs-type">AuthorRow</span>(author: <span class="hljs-type">SampleData</span>.author)<br />}</span></pre><p name="69bb" id="69bb" class="graf graf--p graf-after--pre">除了宣告為 static stored property，我們也可宣告成 static computed property 或 instance property，相關例子可參考以下 Apple 的範例。</p><p name="8bc2" id="8bc2" class="graf graf--p graf-after--p">Apple 範例參考。</p><ul class="postList"><li name="d6c5" id="d6c5" class="graf graf--li graf-after--p">宣告 static stored property。</li></ul><div name="843a" id="843a" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://developer.apple.com/documentation/visionos/destination-video" data-href="https://developer.apple.com/documentation/visionos/destination-video" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/visionos/destination-video"><strong class="markup--strong markup--mixtapeEmbed-strong">Destination Video | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Leverage SwiftUI to build an immersive media experience in a multiplatform app.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/visionos/destination-video" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="16125100be17aae2105354adf5139da9" data-thumbnail-img-id="0*Hqfgr-waJWq-z_jK" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Hqfgr-waJWq-z_jK);"></a></div><figure name="e1ce" id="e1ce" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*cRTD4_rhlwJ1r73HIXvEXQ.png" data-width="3606" data-height="1402" src="https://cdn-images-1.medium.com/max/800/1*cRTD4_rhlwJ1r73HIXvEXQ.png"></figure><ul class="postList"><li name="6441" id="6441" class="graf graf--li graf-after--figure">宣告 instance property。</li></ul><div name="1e59" id="1e59" class="graf graf--mixtapeEmbed graf-after--li"><a href="https://developer.apple.com/tutorials/swiftui" data-href="https://developer.apple.com/tutorials/swiftui" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/tutorials/swiftui"><strong class="markup--strong markup--mixtapeEmbed-strong">Introducing SwiftUI | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI is a modern way to declare user interfaces for any Apple platform. Create beautiful, dynamic apps faster than…</em>developer.apple.com</a><a href="https://developer.apple.com/tutorials/swiftui" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1743f816c9e42ad10f3d2ba29f1ea9ee" data-thumbnail-img-id="0*XThytgEpPOhBhIW7" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*XThytgEpPOhBhIW7);"></a></div><figure name="e785" id="e785" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*ZgieICGrUbySf9mcN3Je-w.png" data-width="2170" data-height="1516" src="https://cdn-images-1.medium.com/max/800/1*ZgieICGrUbySf9mcN3Je-w.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7565" id="7565" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span> {<br />    <span class="hljs-keyword">let</span> modelData <span class="hljs-operator">=</span> <span class="hljs-type">ModelData</span>()<br />    <span class="hljs-keyword">return</span> <span class="hljs-type">LandmarkDetail</span>(landmark: modelData.landmarks[<span class="hljs-number">0</span>])<br />        .environment(modelData)<br />}</span></pre><div name="05dc" id="05dc" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://developer.apple.com/tutorials/develop-in-swift/create-update-and-delete-data" data-href="https://developer.apple.com/tutorials/develop-in-swift/create-update-and-delete-data" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/tutorials/develop-in-swift/create-update-and-delete-data"><strong class="markup--strong markup--mixtapeEmbed-strong">Create, update, and delete data | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">When you base an app around a common data store, you should give people a way to create new items, update existing…</em>developer.apple.com</a><a href="https://developer.apple.com/tutorials/develop-in-swift/create-update-and-delete-data" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6b8d02a342c64cf61e5b8ec84492e14e" data-thumbnail-img-id="0*1pltLScdrXhJvnSK" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*1pltLScdrXhJvnSK);"></a></div><figure name="bae1" id="bae1" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*F2TRR6FPIvUYEiRtUG-Sgw.png" data-width="1530" data-height="746" src="https://cdn-images-1.medium.com/max/800/1*F2TRR6FPIvUYEiRtUG-Sgw.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="26a0" id="26a0" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span> {<br />    <span class="hljs-type">NavigationStack</span> {<br />        <span class="hljs-type">MovieDetail</span>(movie: <span class="hljs-type">SampleData</span>.shared.movie)<br />    }<br />    .modelContainer(<span class="hljs-type">SampleData</span>.shared.modelContainer)<br />}</span></pre><h3 name="a6d6" id="a6d6" class="graf graf--h3 graf-after--pre">寫法 2: 在資料的型別宣告 static property</h3><p name="ca89" id="ca89" class="graf graf--p graf-after--h3">以下我們在 extension Author 裡定義 sampleData &amp; christie。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="90d4" id="90d4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Author</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> image: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> books: [<span class="hljs-type">Book</span>]<br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Author</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> sampleData <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, image: <span class="hljs-string">&quot;christie&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;無盡的夜&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover1&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕貌美而又富可敵國的美國女郎在一個叫「吉普賽營地」的瀕海山崖上興建了一座豪華別墅。<br />            可惜的是，她在與一位來自英國的帥氣南子新婚後不久便死於非命……<br />            誰是元兇，竟狠毒地將這對神仙眷侶拆散？<br />            某人自幼便生活在利欲的黑暗生活中，被禁錮的心靈導引他自人生的黑夜邁向地獄的黑夜?<br />            &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;尼羅河謀殺案&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover2&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            林內特是一個擁有著如日中天事業的女強人，然而她和丈夫在蜜月旅行途中慘遭殺害。<br />            當艾及德偵探赫丘勒·白羅踏上船隻後，這個美麗的蜜月旅行變成了一場駭人的謀殺調查。<br />            每個人都有嫌疑，每個人都有不在場證明。白羅必須在這場充滿謎團的案件中找到真相。<br />            &quot;&quot;&quot;</span>)<br />        ]),<br />        <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, image: <span class="hljs-string">&quot;isakakotaro&quot;</span>, books: [<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;重力小丑&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover3&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            一個美國少年與他的哥哥發現，他們周遭的世界突然變得無比怪異，<br />            他們的父親遭遇不測，哥哥的生活變得混亂，弟弟開始質疑現實的本質。<br />            在一系列奇怪的事件背後，似乎隱藏著一個更大的陰謀。<br />            &quot;&quot;&quot;</span>),<br />            <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;死神的精確度&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover4&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕的死神千葉，他的工作是評估人們的死亡。<br />            他有七天時間觀察每個人，然後決定他們是否應該死亡。<br />            在這七天內，他遇到了一系列令人感動的故事，開始質疑自己的任務。<br />            &quot;&quot;&quot;</span>)<br />        ])<br />    ]<br />    <br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> preview <span class="hljs-operator">=</span> sampleData[<span class="hljs-number">0</span>]<br />}</span></pre><p name="5799" id="5799" class="graf graf--p graf-after--pre">AuthorGallery 的程式大大簡化，透過 Author.sampleData 即可存取作者們的資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3a85" id="3a85" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AuthorGallery</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> authors <span class="hljs-operator">=</span> <span class="hljs-type">Author</span>.sampleData</span></pre><p name="a741" id="a741" class="graf graf--p graf-after--pre">AuthorRow 的 preview 則可傳入 .preview 或 .sampleData[0]。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="d9ee" id="d9ee" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span>(traits: .sizeThatFitsLayout) {<br />    <span class="hljs-type">AuthorRow</span>(author: .preview)<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2a32" id="2a32" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span>(traits: .sizeThatFitsLayout) {<br />    <span class="hljs-type">AuthorRow</span>(author: .sampleData[<span class="hljs-number">0</span>])<br />}</span></pre><p name="01f4" id="01f4" class="graf graf--p graf-after--pre">除了宣告為 stored property，我們也可宣告成 computed property，比方以下例子。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="387f" id="387f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Author</span> {<br />    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> image: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> books: [<span class="hljs-type">Book</span>]<br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Author</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> sampleData: [<span class="hljs-type">Author</span>] {<br />        [<br />            <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, image: <span class="hljs-string">&quot;christie&quot;</span>, books: [<br />                <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;無盡的夜&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover1&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕貌美而又富可敵國的美國女郎在一個叫「吉普賽營地」的瀕海山崖上興建了一座豪華別墅。<br />            可惜的是，她在與一位來自英國的帥氣南子新婚後不久便死於非命……<br />            誰是元兇，竟狠毒地將這對神仙眷侶拆散？<br />            某人自幼便生活在利欲的黑暗生活中，被禁錮的心靈導引他自人生的黑夜邁向地獄的黑夜?<br />            &quot;&quot;&quot;</span>),<br />                <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;尼羅河謀殺案&quot;</span>, author: <span class="hljs-string">&quot;克莉絲蒂&quot;</span>, coverImage: <span class="hljs-string">&quot;cover2&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            林內特是一個擁有著如日中天事業的女強人，然而她和丈夫在蜜月旅行途中慘遭殺害。<br />            當艾及德偵探赫丘勒·白羅踏上船隻後，這個美麗的蜜月旅行變成了一場駭人的謀殺調查。<br />            每個人都有嫌疑，每個人都有不在場證明。白羅必須在這場充滿謎團的案件中找到真相。<br />            &quot;&quot;&quot;</span>)<br />            ]),<br />            <span class="hljs-type">Author</span>(name: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, image: <span class="hljs-string">&quot;isakakotaro&quot;</span>, books: [<br />                <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;重力小丑&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover3&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            一個美國少年與他的哥哥發現，他們周遭的世界突然變得無比怪異，<br />            他們的父親遭遇不測，哥哥的生活變得混亂，弟弟開始質疑現實的本質。<br />            在一系列奇怪的事件背後，似乎隱藏著一個更大的陰謀。<br />            &quot;&quot;&quot;</span>),<br />                <span class="hljs-type">Book</span>(name: <span class="hljs-string">&quot;死神的精確度&quot;</span>, author: <span class="hljs-string">&quot;伊坂幸太郎&quot;</span>, coverImage: <span class="hljs-string">&quot;cover4&quot;</span>, description: <span class="hljs-string">&quot;&quot;&quot;<br />            年輕的死神千葉，他的工作是評估人們的死亡。<br />            他有七天時間觀察每個人，然後決定他們是否應該死亡。<br />            在這七天內，他遇到了一系列令人感動的故事，開始質疑自己的任務。<br />            &quot;&quot;&quot;</span>)<br />            ])<br />        ]<br />    }<br />    <br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> preview: <span class="hljs-type">Author</span> {<br />        sampleData[<span class="hljs-number">0</span>]<br />    }<br />}</span></pre><p name="aec2" id="aec2" class="graf graf--p graf-after--pre">Apple 範例參考。</p><div name="181e" id="181e" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/tutorials/develop-in-swift/collect-model-and-store-data" data-href="https://developer.apple.com/tutorials/develop-in-swift/collect-model-and-store-data" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/tutorials/develop-in-swift/collect-model-and-store-data"><strong class="markup--strong markup--mixtapeEmbed-strong">Collect, model, and store data | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Start building an app that lets people record moments of gratitude. In this tutorial, you&#39;ll create an entry view with…</em>developer.apple.com</a><a href="https://developer.apple.com/tutorials/develop-in-swift/collect-model-and-store-data" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="305cffea2c2aaa258320bd7fc2865e79" data-thumbnail-img-id="0*UMxq9uDolrVQSMt7" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*UMxq9uDolrVQSMt7);"></a></div><figure name="ad0c" id="ad0c" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*InheMpm3-vW2wblqxvtWFA.png" data-width="2684" data-height="1428" src="https://cdn-images-1.medium.com/max/800/1*InheMpm3-vW2wblqxvtWFA.png"></figure><div name="55a7" id="55a7" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/swiftui/food_truck_building_a_swiftui_multiplatform_app" data-href="https://developer.apple.com/documentation/swiftui/food_truck_building_a_swiftui_multiplatform_app" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/food_truck_building_a_swiftui_multiplatform_app"><strong class="markup--strong markup--mixtapeEmbed-strong">Food Truck: Building a SwiftUI multiplatform app | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Create a single codebase and app target for Mac, iPad, and iPhone.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/food_truck_building_a_swiftui_multiplatform_app" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d37e33b44689bd5036734505c45e4300" data-thumbnail-img-id="0*mxTAldfgXeifErZB" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*mxTAldfgXeifErZB);"></a></div><figure name="ef24" id="ef24" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*odRhcOph8qMQTaPdxz7e9g.png" data-width="2800" data-height="1376" src="https://cdn-images-1.medium.com/max/800/1*odRhcOph8qMQTaPdxz7e9g.png"></figure><div name="1543" id="1543" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/tutorials/app-dev-training/creating-a-card-view" data-href="https://developer.apple.com/tutorials/app-dev-training/creating-a-card-view" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/tutorials/app-dev-training/creating-a-card-view"><strong class="markup--strong markup--mixtapeEmbed-strong">Creating a card view | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Scrumdinger keeps a list of daily scrums that the user attends, and it displays that list in its root view.</em>developer.apple.com</a><a href="https://developer.apple.com/tutorials/app-dev-training/creating-a-card-view" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="20905ce1b6eb5b3bcff9769e99cdce8a" data-thumbnail-img-id="0*-Lb4u8JvafkcgQoO" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*-Lb4u8JvafkcgQoO);"></a></div><figure name="0352" id="0352" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*2RX_oKUtVCVpGYXBTr9eng.png" data-width="2718" data-height="1602" src="https://cdn-images-1.medium.com/max/800/1*2RX_oKUtVCVpGYXBTr9eng.png"></figure><div name="160a" id="160a" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/tutorials/app-dev-training/creating-a-list-view" data-href="https://developer.apple.com/tutorials/app-dev-training/creating-a-list-view" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/tutorials/app-dev-training/creating-a-list-view"><strong class="markup--strong markup--mixtapeEmbed-strong">Creating a list view | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">In this tutorial, you’ll create your app’s root view, a collection view with a list layout that displays the user’s…</em>developer.apple.com</a><a href="https://developer.apple.com/tutorials/app-dev-training/creating-a-list-view" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8d614112324ac1e31b60ac4b237b0cdd" data-thumbnail-img-id="0*4U6ysq04CSKfoz1o" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*4U6ysq04CSKfoz1o);"></a></div><figure name="5879" id="5879" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*MhApOhLvHD_FoUpX5aI0jQ.png" data-width="2252" data-height="1130" src="https://cdn-images-1.medium.com/max/800/1*MhApOhLvHD_FoUpX5aI0jQ.png"></figure><h3 name="b210" id="b210" class="graf graf--h3 graf-after--figure">寫法 3: 定義生成假資料的 function</h3><p name="658e" id="658e" class="graf graf--p graf-after--h3">Apple 範例參考。</p><div name="c728" id="c728" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/swiftui/backyard-birds-sample" data-href="https://developer.apple.com/documentation/swiftui/backyard-birds-sample" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/backyard-birds-sample"><strong class="markup--strong markup--mixtapeEmbed-strong">Backyard Birds: Building an app with SwiftData and widgets | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Create an app with persistent data, interactive widgets, and an all new in-app purchase experience.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/backyard-birds-sample" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="85325be8a6abae3d13f9fe90b7e7079a" data-thumbnail-img-id="0*AXWyIv9lvMhaz3U8" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*AXWyIv9lvMhaz3U8);"></a></div><p name="b2f0" id="b2f0" class="graf graf--p graf-after--mixtapeEmbed">定義 function generateAll 產生大量 BirdFood。</p><figure name="60b5" id="60b5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gdxhnhUsdFWNe7affnLydQ.png" data-width="3270" data-height="1662" src="https://cdn-images-1.medium.com/max/800/1*gdxhnhUsdFWNe7affnLydQ.png"></figure><h3 name="c04e" id="c04e" class="graf graf--h3 graf-after--figure">建立不會加入上架 App 的假資料</h3><p name="a438" id="a438" class="graf graf--p graf-after--h3">我們也可以將假資料從上架的 App 移除，進一步縮減 App 的大小。相關說明可參考以下連結。</p><div name="997a" id="997a" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B%E4%B8%8D%E6%9C%83%E5%8A%A0%E5%85%A5%E4%B8%8A%E6%9E%B6-app-%E7%9A%84%E5%81%87%E8%B3%87%E6%96%99-development-assets-if-debug-2f353c605f43" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B%E4%B8%8D%E6%9C%83%E5%8A%A0%E5%85%A5%E4%B8%8A%E6%9E%B6-app-%E7%9A%84%E5%81%87%E8%B3%87%E6%96%99-development-assets-if-debug-2f353c605f43" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B%E4%B8%8D%E6%9C%83%E5%8A%A0%E5%85%A5%E4%B8%8A%E6%9E%B6-app-%E7%9A%84%E5%81%87%E8%B3%87%E6%96%99-development-assets-if-debug-2f353c605f43"><strong class="markup--strong markup--mixtapeEmbed-strong">建立不會加入上架 App 的假資料 — development assets &amp; #if DEBUG</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們時常會產生一些假資料，方便在 SwiftUI preview 或測試時使用。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B%E4%B8%8D%E6%9C%83%E5%8A%A0%E5%85%A5%E4%B8%8A%E6%9E%B6-app-%E7%9A%84%E5%81%87%E8%B3%87%E6%96%99-development-assets-if-debug-2f353c605f43" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="4295a0a4b186578a0c2f4bc4160cc45e" data-thumbnail-img-id="1*poDFkzUuOx3dAE6cqff0Lw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*poDFkzUuOx3dAE6cqff0Lw.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/869837bd6721"><time class="dt-published" datetime="2020-01-28T07:59:53.637Z">January 28, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E7%94%A8-static-%E5%AE%A3%E5%91%8A%E7%9A%84%E8%AE%8A%E6%95%B8-%E5%B8%B8%E6%95%B8-%E5%84%B2%E5%AD%98-swiftui-preview-%E5%91%88%E7%8F%BE%E7%9A%84%E5%81%87%E8%B3%87%E6%96%99-869837bd6721" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>