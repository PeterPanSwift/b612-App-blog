<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 UIGestureRecognizerRepresentable 實現 SwiftUI 的 swipe 手勢 — iOS 18 新功能</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 UIGestureRecognizerRepresentable 實現 SwiftUI 的 swipe 手勢 — iOS 18 新功能</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 SwiftUI App 時，有時我們需要使用來自 UIKit 的元件，此時我們可以用 UIViewControllerRepresentable &amp; UIViewRepresentable 將 UIKit 的 controller &amp; view 變成能在 SwiftUI…
</section>
<section data-field="body" class="e-content">
<section name="9d83" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6af3" id="6af3" class="graf graf--h3 graf--leading graf--title">使用 UIGestureRecognizerRepresentable 實現 SwiftUI 的 swipe 手勢 — iOS 18 新功能</h3><figure name="abd5" id="abd5" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*1vxaICQQI1gTwpFnhOe_ZQ.png" data-width="1614" data-height="1056" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*1vxaICQQI1gTwpFnhOe_ZQ.png"></figure><p name="eaa1" id="eaa1" class="graf graf--p graf-after--figure">開發 SwiftUI App 時，有時我們需要使用來自 UIKit 的元件，此時我們可用 UIViewControllerRepresentable &amp; UIViewRepresentable 將 UIKit 的 controller &amp; view 變成能在 SwiftUI 使用的 SwiftUI view。</p><div name="56cd" id="56cd" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa"><strong class="markup--strong markup--mixtapeEmbed-strong">在 SwiftUI App 加入 view controller &amp; 從 SwiftUI 畫面切換到 Storyboard 畫面</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI 有很多很棒很炫的功能，幫助我們更容易地開發 iOS App，不過因為它才剛出生，所以一些傳統 iOS App 常用的 UI 元件還不支援，比方它缺少以下這些元件:</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-view-controller-1a79353ea3aa" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="cfdaac549d2461b213660ffbfed46d11" data-thumbnail-img-id="1*AwC16s1t4z1BKMi_GeQfMQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*AwC16s1t4z1BKMi_GeQfMQ.jpeg);"></a></div><div name="62d6" id="62d6" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487"><strong class="markup--strong markup--mixtapeEmbed-strong">在 SwiftUI App 加入 UIKit View，比方網頁</strong><br><em class="markup--em markup--mixtapeEmbed-em">SwiftUI 有很多很棒很炫的功能，幫助我們更容易地開發 iOS App，不過因為它才剛出生，所以一些傳統 iOS App 常用的 UI 元件還不支援，比方它缺少以下這些元件:</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-app-%E5%8A%A0%E5%85%A5-uikit-view-f74b70282487" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="77a1e88573456859783eb5c1720418f5" data-thumbnail-img-id="1*UNgO9T_XpHisTW6G565EZg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*UNgO9T_XpHisTW6G565EZg.jpeg);"></a></div><p name="9bab" id="9bab" class="graf graf--p graf-after--mixtapeEmbed">令人開心的，iOS 18 SwiftUI 可以使用的 UIKit 元件更多了，現在我們可用 UIGestureRecognizerRepresentable 將 UIKit 的 gesture recognizer 變成能在 SwiftUI view 使用的手勢，實現的方法類似我們熟悉的 UIViewControllerRepresentable &amp; UIViewRepresentable。</p><figure name="c267" id="c267" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1sVWiRiyQNA0v559kfj09w.png" data-width="320" data-height="320" src="https://cdn-images-1.medium.com/max/800/1*1sVWiRiyQNA0v559kfj09w.png"></figure><div name="7d8b" id="7d8b" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/swiftui/uigesturerecognizerrepresentable?changes=_8" data-href="https://developer.apple.com/documentation/swiftui/uigesturerecognizerrepresentable?changes=_8" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/uigesturerecognizerrepresentable?changes=_8"><strong class="markup--strong markup--mixtapeEmbed-strong">UIGestureRecognizerRepresentable | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A wrapper for a that you use to integrate that gesture recognizer into your SwiftUI hierarchy.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/uigesturerecognizerrepresentable?changes=_8" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="939576e311e4689e4b51a577e40956c9" data-thumbnail-img-id="0*3j69SbXz7_UQJFDf" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*3j69SbXz7_UQJFDf);"></a></div><p name="25fa" id="25fa" class="graf graf--p graf-after--mixtapeEmbed">swipe 手勢是 iOS App 上常見的手勢，可惜目前 SwiftUI 尚未內建，現在有了 UIGestureRecognizerRepresentable，接下來彼得潘將以中華職棒六隊為例，將 UIKit 的 UISwipeGestureRecognizer 變成 SwiftUI 可偵測的手勢來切換下一個和上一個球隊。</p><p name="b8e3" id="b8e3" class="graf graf--p graf-after--p">以下我們定義遵從 UIGestureRecognizerRepresentable 的 SwipeGesture 時將示範三種不同的寫法。</p><ul class="postList"><li name="0939" id="0939" class="graf graf--li graf-after--p">SwipeGesture 的 property action 是 (UISwipeGestureRecognizer) -&gt; Void。</li><li name="c60e" id="c60e" class="graf graf--li graf-after--li">SwipeGesture 的 property action 是 ( ) -&gt; Void。</li><li name="3c87" id="3c87" class="graf graf--li graf-after--li">SwipeGesture 搭配 Binding 型別的 index。</li></ul><h3 name="bfc0" id="bfc0" class="graf graf--h3 graf-after--li">定義遵從 UIGestureRecognizerRepresentable 的 SwipeGesture，property action 是 (UISwipeGestureRecognizer) -&gt; Void</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="00df" id="00df" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SwipeGesture</span>: <span class="hljs-title class_">UIGestureRecognizerRepresentable</span> {<br />    <span class="hljs-keyword">let</span> direction: <span class="hljs-type">UISwipeGestureRecognizer</span>.<span class="hljs-type">Direction</span><br />    <span class="hljs-keyword">let</span> action: (<span class="hljs-type">UISwipeGestureRecognizer</span>) -&gt; <span class="hljs-type">Void</span><br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIGestureRecognizer</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -&gt; <span class="hljs-type">UISwipeGestureRecognizer</span> {<br />        <span class="hljs-keyword">let</span> gesture <span class="hljs-operator">=</span> <span class="hljs-type">UISwipeGestureRecognizer</span>()<br />        gesture.direction <span class="hljs-operator">=</span> direction<br />        <span class="hljs-keyword">return</span> gesture<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleUIGestureRecognizerAction</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">recognizer</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) {<br />        action(recognizer)<br />    }<br />    <br />}</span></pre><p name="d9bd" id="d9bd" class="graf graf--p graf-after--pre">說明。</p><ul class="postList"><li name="b267" id="b267" class="graf graf--li graf-after--p">property action。</li></ul><p name="d8ec" id="d8ec" class="graf graf--p graf-after--li">偵測到 swipe 時要做的事。</p><ul class="postList"><li name="13a2" id="13a2" class="graf graf--li graf-after--p">function makeUIGestureRecognizer。</li></ul><p name="1023" id="1023" class="graf graf--p graf-after--li">回傳的手勢代表 SwipeGesture 可偵測的手勢，我們設定手勢的方向後回傳 UISwipeGestureRecognizer。</p><ul class="postList"><li name="280e" id="280e" class="graf graf--li graf-after--p">function handleUIGestureRecognizerAction。</li></ul><p name="323a" id="323a" class="graf graf--p graf-after--li">偵測到 swipe 手勢時會觸發 handleUIGestureRecognizerAction，我們在此呼叫 action。</p><h3 name="b5aa" id="b5aa" class="graf graf--h3 graf-after--p">在 SwiftUI 畫面使用 SwipeGesture</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="4248" id="4248" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TeamsView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> teams <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;統一7-ELEVEn獅&quot;</span>,<br />        <span class="hljs-string">&quot;中信兄弟&quot;</span>,<br />        <span class="hljs-string">&quot;樂天桃猿&quot;</span>,<br />        <span class="hljs-string">&quot;富邦悍將&quot;</span>,<br />        <span class="hljs-string">&quot;味全龍&quot;</span>,<br />        <span class="hljs-string">&quot;台鋼雄鷹&quot;</span><br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(teams[index])</span>&quot;</span>)<br />            .font(.largeTitle)<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .left, action: swipeAction)<br />            )<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .right, action: swipeAction)<br />            )<br />    }<br /> <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">swipeAction</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">gesture</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>) {<br />        <span class="hljs-keyword">if</span> gesture.direction <span class="hljs-operator">==</span> .left {<br />            index <span class="hljs-operator">+=</span> <span class="hljs-number">1</span><br />            <span class="hljs-keyword">if</span> index <span class="hljs-operator">&gt;=</span> teams.count {<br />                index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />            }<br />        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> gesture.direction <span class="hljs-operator">==</span> .right {<br />            index <span class="hljs-operator">-=</span> <span class="hljs-number">1</span><br />            <span class="hljs-keyword">if</span> index <span class="hljs-operator">&lt;</span> <span class="hljs-number">0</span> {<br />                index <span class="hljs-operator">=</span> teams.count <span class="hljs-operator">-</span> <span class="hljs-number">1</span><br />            }<br />        }<br />    }<br />}</span></pre><p name="0739" id="0739" class="graf graf--p graf-after--pre">由於要偵測左滑跟右滑的手勢，因此要呼叫兩次 gesture modifier，傳入左滑和右滑的 SwipeGesture，然後再用 function swipeAction 定義切換下一個和上一個球隊的程式。</p><figure name="9305" id="9305" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Bti1lQr_XmXCe7-J8X9tMg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*Bti1lQr_XmXCe7-J8X9tMg.png"></figure><p name="7c95" id="7c95" class="graf graf--p graf-after--figure">學會第一種寫法後，以下我們再介紹另外兩種寫法。</p><h3 name="4a2a" id="4a2a" class="graf graf--h3 graf-after--p">SwipeGesture 的 property action 是 () -&gt; Void</h3><p name="a473" id="a473" class="graf graf--p graf-after--h3">左滑的 SwipeGesture action 執行 TeamsView 的 next，右滑的 SwipeGesture action 執行 TeamsView 的 pre。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="a68e" id="a68e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SwipeGesture</span>: <span class="hljs-title class_">UIGestureRecognizerRepresentable</span> {<br />    <span class="hljs-keyword">let</span> direction: <span class="hljs-type">UISwipeGestureRecognizer</span>.<span class="hljs-type">Direction</span><br />    <span class="hljs-keyword">let</span> action: () -&gt; <span class="hljs-type">Void</span><br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIGestureRecognizer</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -&gt; <span class="hljs-type">UISwipeGestureRecognizer</span> {<br />        <span class="hljs-keyword">let</span> gesture <span class="hljs-operator">=</span> <span class="hljs-type">UISwipeGestureRecognizer</span>()<br />        gesture.direction <span class="hljs-operator">=</span> direction<br />        <span class="hljs-keyword">return</span> gesture<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleUIGestureRecognizerAction</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">recognizer</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) {<br />        action()<br />    }<br />}</span></pre><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="5d07" id="5d07" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TeamsView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> teams <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;統一7-ELEVEn獅&quot;</span>,<br />        <span class="hljs-string">&quot;中信兄弟&quot;</span>,<br />        <span class="hljs-string">&quot;樂天桃猿&quot;</span>,<br />        <span class="hljs-string">&quot;富邦悍將&quot;</span>,<br />        <span class="hljs-string">&quot;味全龍&quot;</span>,<br />        <span class="hljs-string">&quot;台鋼雄鷹&quot;</span><br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(teams[index])</span>&quot;</span>)<br />            .font(.largeTitle)<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .left, action: next)<br />            )<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .right, action: pre)<br />            )<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">next</span>() {<br />        index <span class="hljs-operator">+=</span> <span class="hljs-number">1</span><br />        <span class="hljs-keyword">if</span> index <span class="hljs-operator">&gt;=</span> teams.count {<br />            index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />        }<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pre</span>() {<br />        index <span class="hljs-operator">-=</span> <span class="hljs-number">1</span><br />        <span class="hljs-keyword">if</span> index <span class="hljs-operator">&lt;</span> <span class="hljs-number">0</span> {<br />            index <span class="hljs-operator">=</span> teams.count <span class="hljs-operator">-</span> <span class="hljs-number">1</span><br />        }<br />    }<br />}</span></pre><h3 name="3a33" id="3a33" class="graf graf--h3 graf-after--pre">SwipeGesture 透過 Binding 修改 index</h3><p name="521e" id="521e" class="graf graf--p graf-after--h3">通常 swipe 觸發的功能會跟下一個 / 上一個有關，因此我們也可以從 SwipeGesture 修改 TeamsView 的 index 觸發畫面更新。除了 index，我們還新增了 property count，利用它儲存 TeamsView 傳來的成員數量。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="3ce5" id="3ce5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SwipeGesture</span>: <span class="hljs-title class_">UIGestureRecognizerRepresentable</span> {<br />    <span class="hljs-keyword">let</span> direction: <span class="hljs-type">UISwipeGestureRecognizer</span>.<span class="hljs-type">Direction</span><br />    <span class="hljs-keyword">let</span> count: <span class="hljs-type">Int</span><br />    <span class="hljs-meta">@Binding</span> <span class="hljs-keyword">var</span> index: <span class="hljs-type">Int</span><br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIGestureRecognizer</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -&gt; <span class="hljs-type">UISwipeGestureRecognizer</span> {<br />        <span class="hljs-keyword">let</span> gesture <span class="hljs-operator">=</span> <span class="hljs-type">UISwipeGestureRecognizer</span>()<br />        gesture.direction <span class="hljs-operator">=</span> direction<br />        <span class="hljs-keyword">return</span> gesture<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleUIGestureRecognizerAction</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">recognizer</span>: <span class="hljs-type">UISwipeGestureRecognizer</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) {<br />        <span class="hljs-keyword">if</span> recognizer.direction <span class="hljs-operator">==</span> .left {<br />            index <span class="hljs-operator">+=</span> <span class="hljs-number">1</span><br />            <span class="hljs-keyword">if</span> index <span class="hljs-operator">&gt;=</span> count {<br />                index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br />            }<br />        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> recognizer.direction <span class="hljs-operator">==</span> .right {<br />            index <span class="hljs-operator">-=</span> <span class="hljs-number">1</span><br />            <span class="hljs-keyword">if</span> index <span class="hljs-operator">&lt;</span> <span class="hljs-number">0</span> {<br />                index <span class="hljs-operator">=</span> count <span class="hljs-operator">-</span> <span class="hljs-number">1</span><br />            }<br />        }<br />    }<br />}</span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ef90" id="ef90" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TeamsView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> teams <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;統一7-ELEVEn獅&quot;</span>,<br />        <span class="hljs-string">&quot;中信兄弟&quot;</span>,<br />        <span class="hljs-string">&quot;樂天桃猿&quot;</span>,<br />        <span class="hljs-string">&quot;富邦悍將&quot;</span>,<br />        <span class="hljs-string">&quot;味全龍&quot;</span>,<br />        <span class="hljs-string">&quot;台鋼雄鷹&quot;</span><br />    ]<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> index <span class="hljs-operator">=</span> <span class="hljs-number">0</span><br /><br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(teams[index])</span>&quot;</span>)<br />            .font(.largeTitle)<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .left, count: teams.count, index: <span class="hljs-variable">$index</span>)<br />            )<br />            .gesture(<br />                <span class="hljs-type">SwipeGesture</span>(direction: .right, count: teams.count, index: <span class="hljs-variable">$index</span>)<br />            )<br />        <br />    }<br />}</span></pre><h3 name="9c7d" id="9c7d" class="graf graf--h3 graf-after--pre">參考連結</h3><div name="be4c" id="be4c" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://developer.apple.com/wwdc24/10144" data-href="https://developer.apple.com/wwdc24/10144" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/wwdc24/10144"><strong class="markup--strong markup--mixtapeEmbed-strong">What&#39;s new in SwiftUI - WWDC24 - Videos - Apple Developer</strong><br><em class="markup--em markup--mixtapeEmbed-em">Learn how you can use SwiftUI to build great apps for any Apple platform. Explore a fresh new look and feel for tabs…</em>developer.apple.com</a><a href="https://developer.apple.com/wwdc24/10144" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="80e46768b808aeba4611c0649a99ad2e" data-thumbnail-img-id="0*S9pCKeOVLs4raDvX" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*S9pCKeOVLs4raDvX);"></a></div><p name="223a" id="223a" class="graf graf--p graf-after--mixtapeEmbed">What’s new in SwiftUI 的範例。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="79a2" id="79a2" class="graf graf--pre graf-after--p graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">VideoThumbnailScrubGesture</span>: <span class="hljs-title class_">UIGestureRecognizerRepresentable</span> {<br />  <span class="hljs-meta">@Binding</span> <span class="hljs-keyword">var</span> progress: <span class="hljs-type">Double</span><br /><br />  <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIGestureRecognizer</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -&gt; <span class="hljs-type">VideoThumbnailScrubGestureRecognizer</span> {<br />    <span class="hljs-type">VideoThumbnailScrubGestureRecognizer</span>()<br />  }<br /><br />  <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleUIGestureRecognizerAction</span>(<br />    <span class="hljs-keyword">_</span> <span class="hljs-params">recognizer</span>: <span class="hljs-type">VideoThumbnailScrubGestureRecognizer</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span><br />  ) {<br />    progress <span class="hljs-operator">=</span> recognizer.progress<br />  }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">VideoThumbnailTile</span>: <span class="hljs-title class_">View</span> {<br />  <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />    <span class="hljs-type">VideoThumbnail</span>()<br />      .gesture(<span class="hljs-type">VideoThumbnailScrubGesture</span>(progress: <span class="hljs-variable">$progress</span>))<br />  }<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/f96cd20d2fde"><time class="dt-published" datetime="2024-06-12T17:36:20.478Z">June 12, 2024</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-uigesturerecognizerrepresentable-%E5%AF%A6%E7%8F%BE-swiftui-%E7%9A%84-swipe-%E6%89%8B%E5%8B%A2-ios-18-%E6%96%B0%E5%8A%9F%E8%83%BD-f96cd20d2fde" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>