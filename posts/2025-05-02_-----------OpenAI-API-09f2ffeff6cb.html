<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>用一餐麥當勞的錢玩玩 OpenAI API</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">用一餐麥當勞的錢玩玩 OpenAI API</h1>
</header>
<section data-field="subtitle" class="p-summary">
OpenAI 提供豐富的 API 讓我們開發各種結合 AI 的有趣應用，比方聊天機器人、生成圖片，寫程式等。然而天下沒有白吃的午餐，串接 OpenAI API 會消耗 token，而 token 必須花錢購買，因此要先儲值才能使用 API。
</section>
<section data-field="body" class="e-content">
<section name="0b98" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9fd7" id="9fd7" class="graf graf--h3 graf--leading graf--title">用一餐麥當勞的錢玩玩 OpenAI API</h3><p name="1c68" id="1c68" class="graf graf--p graf-after--h3">OpenAI 提供豐富的 API 讓我們開發各種結合 AI 的有趣應用，比方聊天機器人、生成圖片，寫程式等。然而天下沒有白吃的午餐，串接 OpenAI API 會消耗 token，而 token 必須花錢購買，因此要先儲值才能使用 API。</p><p name="0114" id="0114" class="graf graf--p graf-after--p">以下我們用一餐麥當勞的錢玩玩有趣的 OpenAI API。(ps: 儲值的最小單位是 5 美金)</p><h3 name="8d8d" id="8d8d" class="graf graf--h3 graf-after--p">註冊 OpenAI API Platform 帳號</h3><p name="8f47" id="8f47" class="graf graf--p graf-after--h3">連到 OpenAI Platform 網頁。</p><p name="138a" id="138a" class="graf graf--p graf-after--p"><a href="https://platform.openai.com/" data-href="https://platform.openai.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://platform.openai.com/</a></p><figure name="8b1f" id="8b1f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1DE1ZHcer4a1sv19W1JDkg.png" data-width="3114" data-height="838" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*1DE1ZHcer4a1sv19W1JDkg.png"></figure><p name="2cac" id="2cac" class="graf graf--p graf-after--figure">點選右上的 Sign up 註冊帳號。值得注意的，串接 API 的帳號和 ChatGPT 聊天的帳號是分開的，因此費用也是分開計算。月租 ChatGPT Plus 可使用聊天和生圖功能，API Platform 則採用儲值機制，依照串接 API 的用量扣款。</p><p name="89fe" id="89fe" class="graf graf--p graf-after--p">ps: 如果不想管理那麼多帳號，API Platform 和 ChatGPT Plus 可使用同一個 email。</p><figure name="1562" id="1562" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*i7lLdgwn2qfe6L3aUPmM3A.png" data-width="854" data-height="1080" src="https://cdn-images-1.medium.com/max/800/1*i7lLdgwn2qfe6L3aUPmM3A.png"></figure><p name="a847" id="a847" class="graf graf--p graf-after--figure">填寫相關資訊。</p><figure name="1f15" id="1f15" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*EQ_lV6YzJzXpXo0fKl055w.png" data-width="866" data-height="1154" src="https://cdn-images-1.medium.com/max/800/1*EQ_lV6YzJzXpXo0fKl055w.png"></figure><p name="eae8" id="eae8" class="graf graf--p graf-after--figure">點選 Generate API Key 產生 API key。</p><figure name="e4ed" id="e4ed" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XCSbrdFZ81JotMcwKCrFaQ.png" data-width="866" data-height="1116" src="https://cdn-images-1.medium.com/max/800/1*XCSbrdFZ81JotMcwKCrFaQ.png"></figure><p name="6120" id="6120" class="graf graf--p graf-after--figure">記得要複製 API key，因為 key 只有在產生時能查看內容。</p><figure name="573d" id="573d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Thfq_F4_lDaRCnBoZqrciw.png" data-width="1096" data-height="1504" src="https://cdn-images-1.medium.com/max/800/1*Thfq_F4_lDaRCnBoZqrciw.png"></figure><p name="23e1" id="23e1" class="graf graf--p graf-after--figure">ps: 之後若需建立 API key，可從 Settings 的 API keys 頁面點選 Create new secret key。</p><figure name="86ab" id="86ab" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*d5qHCSrlGUPj74xi-Q8HZQ.png" data-width="2682" data-height="814" src="https://cdn-images-1.medium.com/max/800/1*d5qHCSrlGUPj74xi-Q8HZQ.png"></figure><h3 name="f86a" id="f86a" class="graf graf--h3 graf-after--figure">刷卡預付儲值金</h3><p name="8888" id="8888" class="graf graf--p graf-after--h3">有錢好辦事，有錢才能串接 API。初嘗 API 建議選擇儲值的最小單位 5 美金。</p><figure name="2f71" id="2f71" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Rw5gNNcDDqCJvMUcm9sZLQ.png" data-width="1018" data-height="1368" src="https://cdn-images-1.medium.com/max/800/1*Rw5gNNcDDqCJvMUcm9sZLQ.png"></figure><p name="da44" id="da44" class="graf graf--p graf-after--figure">之後若想再加碼儲值，可點選右上方的 Settings 按鈕。</p><figure name="a472" id="a472" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*BCrmdEPyYtpmGSTVfn1tHg.png" data-width="1110" data-height="178" src="https://cdn-images-1.medium.com/max/800/1*BCrmdEPyYtpmGSTVfn1tHg.png"></figure><p name="aa97" id="aa97" class="graf graf--p graf-after--figure">切換到 Billing 頁面後點選 Add payment details 或 Add to credit balance。</p><figure name="d2c4" id="d2c4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TkVMnXMouHKdktFSesqd7A.png" data-width="2760" data-height="1358" src="https://cdn-images-1.medium.com/max/800/1*TkVMnXMouHKdktFSesqd7A.png"><figcaption class="imageCaption">初次儲值選擇 Add payment details</figcaption></figure><figure name="b91f" id="b91f" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*-ub5U8EBT21Ifg45KlD1_g.png" data-width="1534" data-height="986" src="https://cdn-images-1.medium.com/max/800/1*-ub5U8EBT21Ifg45KlD1_g.png"><figcaption class="imageCaption">再次儲值選擇 Add to credit balance</figcaption></figure><p name="9471" id="9471" class="graf graf--p graf-after--figure">輸入信用卡資訊。</p><figure name="47eb" id="47eb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*BN2FQPpQedHXOtwiSMGzWg.png" data-width="1058" data-height="1332" src="https://cdn-images-1.medium.com/max/800/1*BN2FQPpQedHXOtwiSMGzWg.png"></figure><p name="8e38" id="8e38" class="graf graf--p graf-after--figure">輸入儲值的最小金額 5 美金，取消 automatic recharge 的勾選，防止金額不夠時信用卡被自動扣款。</p><figure name="ec19" id="ec19" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*c8JeDUmLyW86bTP8P_WYBw.png" data-width="1112" data-height="1440" src="https://cdn-images-1.medium.com/max/800/1*c8JeDUmLyW86bTP8P_WYBw.png"></figure><p name="cbcd" id="cbcd" class="graf graf--p graf-after--figure">點選 Confirm payment 確定付款。</p><figure name="7bbe" id="7bbe" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*t-UIFlUfyN3sTb4eDyHDcw.png" data-width="1136" data-height="998" src="https://cdn-images-1.medium.com/max/800/1*t-UIFlUfyN3sTb4eDyHDcw.png"></figure><p name="443a" id="443a" class="graf graf--p graf-after--figure">從 Credit remaining 可查詢目前剩餘的金額。</p><figure name="8a70" id="8a70" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*iJpSz5tM1ufbgqHrNN_LBA.png" data-width="2106" data-height="1096" src="https://cdn-images-1.medium.com/max/800/1*iJpSz5tM1ufbgqHrNN_LBA.png"></figure><h3 name="c68d" id="c68d" class="graf graf--h3 graf-after--figure">使用 Playground 測試 API</h3><p name="35ac" id="35ac" class="graf graf--p graf-after--h3">有了儲值金，現在我們可以開始串接 API 了。一開始可以先從 Playground 測試 API。</p><figure name="687d" id="687d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RFxaTYL9bWQWo6ieR6SpXg.png" data-width="924" data-height="118" src="https://cdn-images-1.medium.com/max/800/1*RFxaTYL9bWQWo6ieR6SpXg.png"></figure><p name="ba28" id="ba28" class="graf graf--p graf-after--figure">Playground 頁面某些功能需要身份驗證才能使用，像是較厲害的 AI model 或生圖功能，以下我們測試不用身份驗證即可使用的基本功能。</p><p name="ff90" id="ff90" class="graf graf--p graf-after--p">從 Prompts 頁面測試聊天功能。</p><figure name="bcde" id="bcde" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*EeaE_ApYWH22rzMGhujMNQ.png" data-width="2618" data-height="1342" src="https://cdn-images-1.medium.com/max/800/1*EeaE_ApYWH22rzMGhujMNQ.png"></figure><p name="ba25" id="ba25" class="graf graf--p graf-after--figure">輸入 prompt 後送出。</p><figure name="e9e8" id="e9e8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*eikTAn3C9OQN5R9Z_PJt3g.png" data-width="1046" data-height="292" src="https://cdn-images-1.medium.com/max/800/1*eikTAn3C9OQN5R9Z_PJt3g.png"></figure><p name="424d" id="424d" class="graf graf--p graf-after--figure">AI 的回答。</p><figure name="0a89" id="0a89" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cTBx_9TaKLyQ2R9uKrKBbA.png" data-width="1236" data-height="962" src="https://cdn-images-1.medium.com/max/800/1*cTBx_9TaKLyQ2R9uKrKBbA.png"></figure><p name="1c52" id="1c52" class="graf graf--p graf-after--figure">點選上方的 Code 可查詢剛剛對話的 curl 指令。</p><figure name="7d1d" id="7d1d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9xwNtwQg40CGpSlc8_Umxw.png" data-width="826" data-height="316" src="https://cdn-images-1.medium.com/max/800/1*9xwNtwQg40CGpSlc8_Umxw.png"></figure><figure name="038c" id="038c" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*rT-fBUf4uTCVEN9kHtercQ.png" data-width="802" data-height="1242" src="https://cdn-images-1.medium.com/max/800/1*rT-fBUf4uTCVEN9kHtercQ.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="3fa3" id="3fa3" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/responses \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />  &quot;model&quot;: &quot;gpt-4.1&quot;,<br />  &quot;input&quot;: [<br />    {<br />      &quot;role&quot;: &quot;user&quot;,<br />      &quot;content&quot;: [<br />        {<br />          &quot;type&quot;: &quot;input_text&quot;,<br />          &quot;text&quot;: &quot;結合 B612 星球小王子的故事介紹 Swift&quot;<br />        }<br />      ]<br />    },<br />    {<br />      &quot;id&quot;: &quot;msg_6813a499023081918d2275a3c99805c508b94954d94a6931&quot;,<br />      &quot;role&quot;: &quot;assistant&quot;,<br />      &quot;content&quot;: [<br />        {<br />          &quot;type&quot;: &quot;output_text&quot;,<br />          &quot;text&quot;: &quot;當然可以！以下是一個結合經典繪本《小王子》（Le Petit Prince）和 Apple 的程式語言 Swift 的趣味介紹：\n\n---\n\n### 小王子與 Swift\n\n在遙遠的宇宙中，有一顆特別的小星球，叫做 **B612**。住在 B612 上的小王子，對萬物充滿好奇，他喜歡觀察和探索世界的奧秘。某一天，小王子決定學習一種能創造魔法的小語言 —— **Swift**。\n\n#### 小王子的 Swift 冒險\n\n小王子想像他的每個朋友和花，都可以用 Swift \&quot;創造\&quot; 出來。他開啟了 Xcode，開始寫下屬於他的童話程式碼。\n\n```swift\n// 定義星球\nstruct Planet {\n    var name: String\n    var population: Int\n}\n\n// 小王子的家鄉\nlet b612 = Planet(name: \&quot;B612\&quot;, population: 1)\n\n// 定義小王子\nclass LittlePrince {\n    var planet: Planet\n    var rose: Rose?\n\n    init(planet: Planet) {\n        self.planet = planet\n    }\n\n    func takeCareOfRose() {\n        print(\&quot;我要每天澆花，照顧我的玫瑰！\&quot;)\n    }\n}\n\n// 定義玫瑰\nclass Rose {\n    var color: String\n\n    init(color: String) {\n        self.color = color\n    }\n}\n\n// 小王子與玫瑰相遇\nlet prince = LittlePrince(planet: b612)\nprince.rose = Rose(color: \&quot;紅色\&quot;)\nprince.takeCareOfRose()\n```\n\n#### Swift 的特色，像 B612 一樣單純而美好\n\n- **簡潔易懂**：Swift 就像小王子的對話，簡單卻蘊含哲理。\n- **安全**：B612 僅有小王子和玫瑰，很少 Bug，Swift 也設計得很安全，減少出錯。\n- **現代化**：小王子游歷各星球，就像 Swift 能支持 iPhone、iPad、Mac 等多平台。\n\n#### 小結\n\n小王子用 Swift 創造他心中的宇宙，也邀請你用 Swift 編織屬於自己的故事。無論是守護珍貴的玫瑰，還是和各種宇宙朋友相遇，用程式語言記錄每一段成長旅程，讓夢想閃耀如星辰。\n\n---\n\n**Swift，一個讓創意像小王子般自由飛翔的語言！**\n\n如果你要做投影片，這段故事加上一點可愛的插畫，絕對能讓大家留下深刻的印象喔！&quot;<br />        }<br />      ]<br />    }<br />  ],<br />  &quot;text&quot;: {<br />    &quot;format&quot;: {<br />      &quot;type&quot;: &quot;text&quot;<br />    }<br />  },<br />  &quot;reasoning&quot;: {},<br />  &quot;tools&quot;: [],<br />  &quot;temperature&quot;: 1,<br />  &quot;max_output_tokens&quot;: 2048,<br />  &quot;top_p&quot;: 1,<br />  &quot;store&quot;: true<br />}&#x27;</span></span></pre><h3 name="2b57" id="2b57" class="graf graf--h3 graf-after--pre">研究 API 文件</h3><p name="8540" id="8540" class="graf graf--p graf-after--h3">從 API reference 頁面可查詢 API 文件，研究各種 API 的相關說明和 curl 指令。</p><figure name="e2dd" id="e2dd" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ge9_Lej-GJTebx-dps0TPA.png" data-width="976" data-height="116" src="https://cdn-images-1.medium.com/max/800/1*Ge9_Lej-GJTebx-dps0TPA.png"></figure><figure name="e167" id="e167" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*78VhNqvtr3778_o7MWiJCw.png" data-width="2678" data-height="1342" src="https://cdn-images-1.medium.com/max/800/1*78VhNqvtr3778_o7MWiJCw.png"></figure><figure name="27eb" id="27eb" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*dDc77QcLLpezspqMbLz2JQ.png" data-width="2524" data-height="1306" src="https://cdn-images-1.medium.com/max/800/1*dDc77QcLLpezspqMbLz2JQ.png"></figure><h3 name="ca23" id="ca23" class="graf graf--h3 graf-after--figure">從 Terminal 測試 Create a model response 的 curl 指令</h3><p name="f77c" id="f77c" class="graf graf--p graf-after--h3">以下我們以最基本的 AI 聊天功能， Create a model response 為例示範。</p><p name="ec1a" id="ec1a" class="graf graf--p graf-after--p">文件示範的 curl 指令如下，將 $OPENAI_API_KEY 換成真正的 API key 即可串接 API。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="3cd0" id="3cd0" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/responses \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />    &quot;model&quot;: &quot;gpt-4.1&quot;,<br />    &quot;input&quot;: &quot;Tell me a three sentence bedtime story about a unicorn.&quot;<br />  }&#x27;</span></span></pre><p name="0b59" id="0b59" class="graf graf--p graf-after--pre">回傳的 JSON 範例如下。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="json" name="a240" id="a240" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-punctuation">{</span><br />  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;resp_67ccd2bed1ec8190b14f964abc0542670bb6a6b452d3795b&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;object&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;response&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;created_at&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1741476542</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;completed&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;error&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;incomplete_details&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;instructions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;max_output_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;model&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gpt-4.1-2025-04-14&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;output&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br />    <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;message&quot;</span><span class="hljs-punctuation">,</span><br />      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;msg_67ccd2bf17f0819081ff3bb2cf6508e60bb6a6b452d3795b&quot;</span><span class="hljs-punctuation">,</span><br />      <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;completed&quot;</span><span class="hljs-punctuation">,</span><br />      <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;assistant&quot;</span><span class="hljs-punctuation">,</span><br />      <span class="hljs-attr">&quot;content&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br />        <span class="hljs-punctuation">{</span><br />          <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;output_text&quot;</span><span class="hljs-punctuation">,</span><br />          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;In a peaceful grove beneath a silver moon, a unicorn named Lumina discovered a hidden pool that reflected the stars. As she dipped her horn into the water, the pool began to shimmer, revealing a pathway to a magical realm of endless night skies. Filled with wonder, Lumina whispered a wish for all who dream to find their own hidden magic, and as she glanced back, her hoofprints sparkled like stardust.&quot;</span><span class="hljs-punctuation">,</span><br />          <span class="hljs-attr">&quot;annotations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br />        <span class="hljs-punctuation">}</span><br />      <span class="hljs-punctuation">]</span><br />    <span class="hljs-punctuation">}</span><br />  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;parallel_tool_calls&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;previous_response_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;reasoning&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;effort&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;summary&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;store&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;temperature&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1.0</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;text&quot;</span><br />    <span class="hljs-punctuation">}</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;tool_choice&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;auto&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;tools&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;top_p&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1.0</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;truncation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;disabled&quot;</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;usage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;input_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">36</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;input_tokens_details&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;cached_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;output_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">87</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;output_tokens_details&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;reasoning_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;total_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;metadata&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><br /><span class="hljs-punctuation">}</span></span></pre><p name="9b0c" id="9b0c" class="graf graf--p graf-after--pre">以下我們在 input 欄位輸入 prompt 訊息，請 AI<code class="markup--code markup--p-code">結合 B612 星球小王子的故事介紹 Swift 的 optional</code>。</p><figure name="23f8" id="23f8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dNReHQthOyZT-WuE-nosaA.png" data-width="2366" data-height="1348" src="https://cdn-images-1.medium.com/max/800/1*dNReHQthOyZT-WuE-nosaA.png"></figure><p name="d271" id="d271" class="graf graf--p graf-after--figure">JSON 裡的 text 欄位是 AI 回答的內容，因為 Unicode 字元的關係變成我們看不懂的亂碼。若想在 Terminal 下 curl 指令時讀出回答的內容，可在 curl 指令後加上<code class="markup--code markup--p-code"> | jq -r &#39;.output[0].content[0].text&#39;</code>。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="1b39" id="1b39" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/responses \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />    &quot;model&quot;: &quot;gpt-4.1&quot;,<br />    &quot;input&quot;: &quot;結合 B612 星球小王子的故事介紹 Swift 的 optional&quot;<br />  }&#x27;</span> | jq -r <span class="hljs-string">&#x27;.output[0].content[0].text&#x27;</span></span></pre><figure name="4d3c" id="4d3c" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*m8i5uPVlG0-QHv59ibtBdQ.png" data-width="2220" data-height="1220" src="https://cdn-images-1.medium.com/max/800/1*m8i5uPVlG0-QHv59ibtBdQ.png"></figure><p name="79c6" id="79c6" class="graf graf--p graf-after--figure">完整內容如下。</p><figure name="1936" id="1936" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/PeterPanSwift/cde261074e40eccc9a14de2b0b071125.js"></script></figure><h3 name="6abf" id="6abf" class="graf graf--h3 graf-after--figure">將 API key 存在環境變數</h3><p name="fe96" id="fe96" class="graf graf--p graf-after--h3">為了簡化 curl 指令，我們可將 API key 存在環境變數 OPENAI_API_KEY，之後輸入 curl 指令時 API key 只要打 <code class="markup--code markup--p-code">$OPENAI_API_KEY</code> 即可。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="f57a" id="f57a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/responses \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />    &quot;model&quot;: &quot;gpt-4.1&quot;,<br />    &quot;input&quot;: &quot;結合 B612 星球小王子的故事介紹 Swift 的 optional&quot;<br />  }&#x27;</span> | jq -r <span class="hljs-string">&#x27;.output[0].content[0].text&#x27;</span></span></pre><p name="62cc" id="62cc" class="graf graf--p graf-after--pre">相關說明可參考以下連結。</p><div name="1a6c" id="1a6c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4"><strong class="markup--strong markup--mixtapeEmbed-strong">將 API key 存在方便 curl 指令存取的環境變數</strong><br><em class="markup--em markup--mixtapeEmbed-em">串接 API 時，我們時常利用 curl 指令測試 API。當 API 必須包含 API key 時，輸入 curl 指令變得麻煩許多，因為要輸入冗長無比的 API key。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1cffc233f73e2d2bd4868e1110ffc34e" data-thumbnail-img-id="0*_mjP3efvVGvwJ6uC" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*_mjP3efvVGvwJ6uC);"></a></div><figure name="6a56" id="6a56" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*fNS4_YTcnn86XbyApl6H2w.png" data-width="1782" data-height="1180" src="https://cdn-images-1.medium.com/max/800/1*fNS4_YTcnn86XbyApl6H2w.png"></figure><h3 name="e523" id="e523" class="graf graf--h3 graf-after--figure">從 Postman 測試 Create a model response</h3><figure name="ca3e" id="ca3e" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*nHqzcFfdfy8SOYYDmmmCAw.png" data-width="1854" data-height="1234" src="https://cdn-images-1.medium.com/max/800/1*nHqzcFfdfy8SOYYDmmmCAw.png"></figure><h4 name="8873" id="8873" class="graf graf--h4 graf-after--figure">查詢餘額</h4><p name="1801" id="1801" class="graf graf--p graf-after--h4">從 Settings 的 Billing 頁面可查詢餘額，每次串接 API 都會花費一些金額，請省著點用。</p><figure name="ec5a" id="ec5a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*g1_P6QsJf1um0PUqcBkGkA.png" data-width="2670" data-height="802" src="https://cdn-images-1.medium.com/max/800/1*g1_P6QsJf1um0PUqcBkGkA.png"></figure><h3 name="61da" id="61da" class="graf graf--h3 graf-after--figure">依據 curl 指令撰寫程式和開發 App</h3><p name="5dad" id="5dad" class="graf graf--p graf-after--h3">知道 API 的 curl 指令後，我們可以快速寫出串接 API 的程式。如果懶得花時間從頭寫串接的程式，也可搭配現成的 OpenAI SDK。</p><p name="5ae3" id="5ae3" class="graf graf--p graf-after--p">從以下網址可查詢各種程式語言的 OpenAI SDK，開發 App 常用的 Swift、Python、Dart/Flutter &amp; Kotlin 都有支援。</p><p name="bd31" id="bd31" class="graf graf--p graf-after--p"><a href="https://platform.openai.com/docs/libraries" data-href="https://platform.openai.com/docs/libraries" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://platform.openai.com/docs/libraries</a></p><figure name="ce5d" id="ce5d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Y6POCcg0wDs7YvY9Qktymg.png" data-width="1526" data-height="890" src="https://cdn-images-1.medium.com/max/800/1*Y6POCcg0wDs7YvY9Qktymg.png"></figure><h3 name="cdf4" id="cdf4" class="graf graf--h3 graf-after--figure">串接 OpenAI Image API 生成圖片</h3><div name="1d14" id="1d14" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%B8%B2%E6%8E%A5-openai-image-api-%E7%94%9F%E6%88%90%E5%9C%96%E7%89%87-aaf075ece2d2" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%B8%B2%E6%8E%A5-openai-image-api-%E7%94%9F%E6%88%90%E5%9C%96%E7%89%87-aaf075ece2d2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%B8%B2%E6%8E%A5-openai-image-api-%E7%94%9F%E6%88%90%E5%9C%96%E7%89%87-aaf075ece2d2"><strong class="markup--strong markup--mixtapeEmbed-strong">串接 OpenAI Image API 生成圖片</strong><br><em class="markup--em markup--mixtapeEmbed-em">OpenAI 具備厲害的生圖技術，除了透過 ChatGPT &amp; Sora 網站生成圖片，我們也可以串接 OpenAI Image API，讓自己開發的 App 也擁有無與倫比的繪圖功能。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%B8%B2%E6%8E%A5-openai-image-api-%E7%94%9F%E6%88%90%E5%9C%96%E7%89%87-aaf075ece2d2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d2d2e3302c1bfdd277a4a74edd26cc34" data-thumbnail-img-id="1*yhur-Xc35AXZ7AGFEMuiwA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*yhur-Xc35AXZ7AGFEMuiwA.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/09f2ffeff6cb"><time class="dt-published" datetime="2025-05-02T10:11:48.996Z">May 2, 2025</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E7%94%A8%E4%B8%80%E9%A4%90%E9%BA%A5%E7%95%B6%E5%8B%9E%E7%9A%84%E9%8C%A2%E7%8E%A9%E7%8E%A9-openai-api-09f2ffeff6cb" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>