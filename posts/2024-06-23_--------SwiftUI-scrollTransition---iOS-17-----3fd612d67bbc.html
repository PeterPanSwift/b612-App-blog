<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>製作捲動動畫的 SwiftUI scrollTransition — iOS 17 新功能</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">製作捲動動畫的 SwiftUI scrollTransition — iOS 17 新功能</h1>
</header>
<section data-field="subtitle" class="p-summary">
SwiftUI 在 iOS 17 推出幫助我們製作捲動動畫的 modifier scrollTransition，我們可以控制元件在捲動過程中進行一些有趣的變化，比方水平滑動瀏覽書本時，即將離開畫面的書籍圖片愈來愈小，即將登場的書籍圖片愈來愈大。
</section>
<section data-field="body" class="e-content">
<section name="f5ce" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b4d9" id="b4d9" class="graf graf--h3 graf--leading graf--title">製作捲動動畫的 SwiftUI scrollTransition — iOS 17 新功能</h3><p name="ec62" id="ec62" class="graf graf--p graf-after--h3">SwiftUI 在 iOS 17 推出幫助我們製作捲動動畫的 modifier scrollTransition，我們可以控制元件在捲動過程中進行一些有趣的變化，比方水平滑動瀏覽書本時，即將離開畫面的書籍圖片愈來愈小，即將登場的書籍圖片愈來愈大。</p><figure name="af7c" id="af7c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*lTsJ2me7d3Uw4Q6TA1tIZQ.png" data-width="320" data-height="320" src="https://cdn-images-1.medium.com/max/800/1*lTsJ2me7d3Uw4Q6TA1tIZQ.png"></figure><p name="b52f" id="b52f" class="graf graf--p graf-after--figure">以下彼得潘以 AI 精心繪製的五本動物偵探封面示範。</p><figure name="17ec" id="17ec" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*a1WLJU57Y3HboUD5JWZIfw.png" data-width="2154" data-height="1788" src="https://cdn-images-1.medium.com/max/800/1*a1WLJU57Y3HboUD5JWZIfw.png"></figure><h3 name="f5ef" id="f5ef" class="graf graf--h3 graf-after--figure">傳統的水平捲動</h3><p name="23ae" id="23ae" class="graf graf--p graf-after--h3">以下是傳統的水平捲動程式，捲動過程中圖片不會有任何變化。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f280" id="f280" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> books <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;penguin&quot;</span>,<br />        <span class="hljs-string">&quot;fox&quot;</span>,<br />        <span class="hljs-string">&quot;cat&quot;</span>,<br />        <span class="hljs-string">&quot;rabbit&quot;</span>,<br />        <span class="hljs-string">&quot;lion&quot;</span>,<br />    ]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">ScrollView</span>(.horizontal) {<br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">ForEach</span>(books, id: \.<span class="hljs-keyword">self</span>) { book <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(book)<br />                        .resizable()<br />                        .scaledToFill()<br />                        .frame(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">300</span>)<br />                        .clipped()<br />                }<br />            }<br />        }<br />    }<br />}</span></pre><figure name="65ab" id="65ab" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*wIXWDzrIX8IMIB78CO-uYQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*wIXWDzrIX8IMIB78CO-uYQ.png"></figure><figure name="9e37" id="9e37" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*ndczbBe9Q9evJ67IZ84m2Q.gif" data-width="295" data-height="640" src="https://cdn-images-1.medium.com/max/800/1*ndczbBe9Q9evJ67IZ84m2Q.gif"></figure><h3 name="decc" id="decc" class="graf graf--h3 graf-after--figure">捲動過程中縮放大小</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5140" id="5140" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> books <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;penguin&quot;</span>,<br />        <span class="hljs-string">&quot;fox&quot;</span>,<br />        <span class="hljs-string">&quot;cat&quot;</span>,<br />        <span class="hljs-string">&quot;rabbit&quot;</span>,<br />        <span class="hljs-string">&quot;lion&quot;</span>,<br />    ]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">ScrollView</span>(.horizontal) {<br />            <span class="hljs-type">HStack</span> {<br />                <span class="hljs-type">ForEach</span>(books, id: \.<span class="hljs-keyword">self</span>) { book <span class="hljs-keyword">in</span><br />                    <span class="hljs-type">Image</span>(book)<br />                        .resizable()<br />                        .scaledToFill()<br />                        .frame(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">300</span>)<br />                        .clipped()<br />                        .scrollTransition { content, phase <span class="hljs-keyword">in</span><br />                            content<br />                                .scaleEffect(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0.8</span>)<br />                        }<br />                }<br />            }<br />        }<br />    }<br />}<br />   </span></pre><p name="87c2" id="87c2" class="graf graf--p graf-after--pre">從 Image 呼叫 modifier <code class="markup--code markup--p-code">scrollTransition(_:axis:transition:)</code>，在參數 transition 傳入 closure，控制 Image 在捲動過程的變化。參數 <code class="markup--code markup--p-code">content</code> 是我們將在捲動過程調整的元件，在此代表 Image。<code class="markup--code markup--p-code">phase</code> 是捲動過渡的階段，<code class="markup--code markup--p-code">phase.isIdentity</code> 為 true 代表沒有在過渡階段，phase.isIdentity 為 false 則是正在進行過渡。</p><p name="a43a" id="a43a" class="graf graf--p graf-after--p">我們希望圖片沒有在過渡時顯示原本的大小，圖片正在過渡時則縮小，最多縮小到 0.8 倍。</p><p name="5589" id="5589" class="graf graf--p graf-after--p">實現的程式如下，透過 scaleEffect 縮放圖片。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ee09" id="ee09" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">content<br />   .scaleEffect(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0.8</span>)</span></pre><p name="4d8b" id="4d8b" class="graf graf--p graf-after--pre">如下圖所示，現在我們捲動時圖片會神奇地縮放了 ! 即將離開畫面的圖片愈來愈小，即將登場的圖片愈來愈大。</p><figure name="8d85" id="8d85" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*wNurrUrulz8ib_x8t1o_0A.jpeg" data-width="1200" data-height="1200" src="https://cdn-images-1.medium.com/max/800/1*wNurrUrulz8ib_x8t1o_0A.jpeg"></figure><figure name="13ac" id="13ac" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*Fmn5yD5Gmi8oUjjbY3EHnQ.gif" data-width="295" data-height="640" src="https://cdn-images-1.medium.com/max/800/1*Fmn5yD5Gmi8oUjjbY3EHnQ.gif"></figure><p name="cce6" id="cce6" class="graf graf--p graf-after--figure">將縮小的倍數設為 0.5 可看到更明顯的效果。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c59e" id="c59e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">.scrollTransition { content, phase <span class="hljs-keyword">in</span><br />     content<br />         .scaleEffect(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0.5</span>)<br />}</span></pre><figure name="e855" id="e855" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*ny9BAwsq3GOjB3USXaZqng.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*ny9BAwsq3GOjB3USXaZqng.png"></figure><h3 name="972a" id="972a" class="graf graf--h3 graf-after--figure">捲動過程中旋轉</h3><p name="9010" id="9010" class="graf graf--p graf-after--h3">利用 rotationEffect 加上旋轉效果，最多旋轉 30 度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b0f8" id="b0f8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">.scrollTransition { content, phase <span class="hljs-keyword">in</span><br />    content<br />        .scaleEffect(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0.8</span>)<br />        .rotationEffect(.degrees(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">0</span> : <span class="hljs-number">30</span>))<br />}</span></pre><figure name="6524" id="6524" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*QQEeVbAp8UnNRaSxsDYMbg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*QQEeVbAp8UnNRaSxsDYMbg.png"></figure><figure name="72bf" id="72bf" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*pB53qeAyEobBI_j7o2v-3A.gif" data-width="295" data-height="640" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*pB53qeAyEobBI_j7o2v-3A.gif"></figure><h3 name="d785" id="d785" class="graf graf--h3 graf-after--figure">捲動過程中移動</h3><p name="4e22" id="4e22" class="graf graf--p graf-after--h3">利用 offset 加上移動效果，CGSize(width: 20, height: 20) 表示最多向下偏移 20 跟向右偏移 20。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0ed7" id="0ed7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">.scrollTransition { content, phase <span class="hljs-keyword">in</span><br />    content<br />        .scaleEffect(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0.8</span>)<br />        .rotationEffect(.degrees(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">0</span> : <span class="hljs-number">30</span>))<br />        .offset(phase.isIdentity <span class="hljs-operator">?</span> .zero : <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">20</span>, height: <span class="hljs-number">20</span>))<br />}</span></pre><figure name="b01c" id="b01c" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*aCbypMPgpdquNfFrxZ-eAQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*aCbypMPgpdquNfFrxZ-eAQ.png"></figure><figure name="99ff" id="99ff" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*WGnQHM3ywz4nTDfVtXUa8g.gif" data-width="295" data-height="640" src="https://cdn-images-1.medium.com/max/800/1*WGnQHM3ywz4nTDfVtXUa8g.gif"></figure><h3 name="9bae" id="9bae" class="graf graf--h3 graf-after--figure">捲動過程中淡入淡出</h3><p name="ffbf" id="ffbf" class="graf graf--p graf-after--h3">常見的淡入淡出效果利用 scrollTransition 可以輕易實。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2b61" id="2b61" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">.scrollTransition { content, phase <span class="hljs-keyword">in</span><br />    content<br />        .opacity(phase.isIdentity <span class="hljs-operator">?</span> <span class="hljs-number">1</span> : <span class="hljs-number">0</span>)<br />}</span></pre><p name="a6fa" id="a6fa" class="graf graf--p graf-after--pre">如下圖所示，即將離開畫面的圖片愈來愈透明，即將登場的圖片愈來愈清晰。</p><figure name="4055" id="4055" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZdcJ0gK5lYoD7rslSllDwA.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*ZdcJ0gK5lYoD7rslSllDwA.png"></figure><figure name="e1d8" id="e1d8" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*iCn8Is_aivXAhp6G5gZxCg.gif" data-width="295" data-height="640" src="https://cdn-images-1.medium.com/max/800/1*iCn8Is_aivXAhp6G5gZxCg.gif"></figure><h3 name="ea2c" id="ea2c" class="graf graf--h3 graf-after--figure">參考連結</h3><div name="fd22" id="fd22" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://developer.apple.com/documentation/swiftui/view/scrolltransition%28_:axis:transition:%29" data-href="https://developer.apple.com/documentation/swiftui/view/scrolltransition(_:axis:transition:)" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/view/scrolltransition(_:axis:transition:)"><strong class="markup--strong markup--mixtapeEmbed-strong">scrollTransition(_:axis:transition:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Applies the given transition, animating between the phases of the transition as this view appears and disappears within…</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/view/scrolltransition%28_:axis:transition:%29" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0f89bd5dcacf43549d31ea5f30232def" data-thumbnail-img-id="0*skqvGS0StkQKhlT8" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*skqvGS0StkQKhlT8);"></a></div><div name="d789" id="d789" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://developer.apple.com/wwdc23/10159" data-href="https://developer.apple.com/wwdc23/10159" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/wwdc23/10159"><strong class="markup--strong markup--mixtapeEmbed-strong">Beyond scroll views - WWDC23 - Videos - Apple Developer</strong><br><em class="markup--em markup--mixtapeEmbed-em">Find out how you can take your scroll views to the next level with the latest APIs in SwiftUI. We&#39;ll show you how to…</em>developer.apple.com</a><a href="https://developer.apple.com/wwdc23/10159" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9e0e2faf63fdd987e0819b2e968168bc" data-thumbnail-img-id="0*hC_H90X6wscoAWga" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*hC_H90X6wscoAWga);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/3fd612d67bbc"><time class="dt-published" datetime="2024-06-23T13:16:15.736Z">June 23, 2024</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%A3%BD%E4%BD%9C%E6%8D%B2%E5%8B%95%E5%8B%95%E7%95%AB%E7%9A%84-swiftui-scrolltransition-ios-17-%E6%96%B0%E5%8A%9F%E8%83%BD-3fd612d67bbc" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>