<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 R.swift 讓字串變成 type-safe 的程式</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 R.swift 讓字串變成 type-safe 的程式</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們時常需要手動輸入字串，比方以下例子:
</section>
<section data-field="body" class="e-content">
<section name="3853" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ee61" id="ee61" class="graf graf--h3 graf--leading graf--title">利用 R.swift 讓字串變成 type-safe 的程式</h3><figure name="2672" id="2672" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*rpPnyRVdk0iiq-La8aR4tA.jpeg" data-width="1370" data-height="834" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*rpPnyRVdk0iiq-La8aR4tA.jpeg"></figure><p name="6d97" id="6d97" class="graf graf--p graf-after--figure">開發 iOS App 時，我們時常需要手動輸入字串，比方以下例子:</p><ul class="postList"><li name="a32e" id="a32e" class="graf graf--li graf-after--p">圖片名字。</li><li name="7812" id="7812" class="graf graf--li graf-after--li">顏色名字。</li><li name="1a87" id="1a87" class="graf graf--li graf-after--li">storyboard 檔名。</li><li name="f371" id="f371" class="graf graf--li graf-after--li">Storyboard ID。</li><li name="b519" id="b519" class="graf graf--li graf-after--li">Segue ID。</li><li name="b382" id="b382" class="graf graf--li graf-after--li">cell reuse ID。</li><li name="232c" id="232c" class="graf graf--li graf-after--li">xib 檔名。</li><li name="1988" id="1988" class="graf graf--li graf-after--li">resource 檔名。</li><li name="da59" id="da59" class="graf graf--li graf-after--li">font 檔名。</li><li name="baf5" id="baf5" class="graf graf--li graf-after--li">localized strings。</li></ul><p name="4154" id="4154" class="graf graf--p graf-after--li">然而輸入字串很容易打錯，因此套件 R.swift 成了我們的救星。</p><div name="6162" id="6162" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/mac-cain13/R.swift" data-href="https://github.com/mac-cain13/R.swift" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/mac-cain13/R.swift"><strong class="markup--strong markup--mixtapeEmbed-strong">mac-cain13/R.swift</strong><br><em class="markup--em markup--mixtapeEmbed-em">It makes your code that uses resources: Fully typed, less casting and guessing what a method will return Compile time…</em>github.com</a><a href="https://github.com/mac-cain13/R.swift" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="db13c716eed2a01d30cc7af302d362ad" data-thumbnail-img-id="0*gHrFLKwgHs4Dd3DR" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*gHrFLKwgHs4Dd3DR);"></a></div><p name="165b" id="165b" class="graf graf--p graf-after--mixtapeEmbed"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">R.swift</strong></code> 將在 Xcode build App 時產生 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">R.generated.swift</strong></code>，在裡面將以上例子提到的字串定義成方便存取的 function 或變數。R.swift 佛心地為我們帶來以下好處:</p><ul class="postList"><li name="70c9" id="70c9" class="graf graf--li graf-after--p">輸入以上例子提到的東西時不用再打字串，再也不會因打錯字造成千古恨。</li><li name="1238" id="1238" class="graf graf--li graf-after--li">輸入以上例子提到的東西時可用自動完成輸入。</li><li name="a4b4" id="a4b4" class="graf graf--li graf-after--li">生成 controller，cell 或 view 時不需再用 as! 轉型。</li></ul><p name="669b" id="669b" class="graf graf--p graf-after--li">接下來就讓我們一步一腳印，從零開始安裝 R.swift &amp; 感受它的魔力吧。</p><h3 name="1945" id="1945" class="graf graf--h3 graf-after--p">安裝套件管理工具 Mint</h3><p name="5fdb" id="5fdb" class="graf graf--p graf-after--h3">打開 Terminal，輸入以下指令。</p><pre name="1889" id="1889" class="graf graf--pre graf-after--p">brew install mint</pre><h3 name="d41c" id="d41c" class="graf graf--h3 graf-after--pre">設定 Mintfile</h3><p name="f5db" id="f5db" class="graf graf--p graf-after--h3">在專案資料夾下建立新檔，取名 Mintfile，輸入以下內容。</p><pre name="8aac" id="8aac" class="graf graf--pre graf-after--p">mac-cain13/R.swift</pre><h3 name="d9e3" id="d9e3" class="graf graf--h3 graf-after--pre"><strong class="markup--strong markup--h3-strong">安裝 R.swift</strong></h3><p name="6cd7" id="6cd7" class="graf graf--p graf-after--h3">打開 Terminal，切換到專案資料夾下，輸入以下指令安裝 R.swift。</p><pre name="0027" id="0027" class="graf graf--pre graf-after--p">mint bootstrap</pre><figure name="af59" id="af59" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*tOZeJY-8QMbiO3TY0y2GEw.jpeg" data-width="1362" data-height="334" src="https://cdn-images-1.medium.com/max/800/1*tOZeJY-8QMbiO3TY0y2GEw.jpeg"></figure><h3 name="661a" id="661a" class="graf graf--h3 graf-after--figure">新增 script</h3><ul class="postList"><li name="1b01" id="1b01" class="graf graf--li graf-after--h3">點選 TARGETS 下的 App，切換到 Build Phases 頁面，點選 + 後選擇 New Run Script Phase。</li></div><div class="section-inner sectionLayout--outsetColumn"></ul><figure name="e195" id="e195" class="graf graf--figure graf--layoutOutsetCenter graf-after--li"><img class="graf-image" data-image-id="1*m9Zwo0nPof8Ir4RVQGdt5g.jpeg" data-width="2152" data-height="610" src="https://cdn-images-1.medium.com/max/1200/1*m9Zwo0nPof8Ir4RVQGdt5g.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><figure name="b979" id="b979" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*U4-dJQtxM0HENxEWwuM3Fg.jpeg" data-width="618" data-height="410" src="https://cdn-images-1.medium.com/max/800/1*U4-dJQtxM0HENxEWwuM3Fg.jpeg"></figure><ul class="postList"><li name="e434" id="e434" class="graf graf--li graf-after--figure">將 Run Script 移動到 Compile Sources 前。</li></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"></ul><figure name="4679" id="4679" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--li" style="width: 49.683%;"><img class="graf-image" data-image-id="1*IxO7DtUSl0QVMEKrpfkxMw.jpeg" data-width="626" data-height="420" src="https://cdn-images-1.medium.com/max/600/1*IxO7DtUSl0QVMEKrpfkxMw.jpeg"></figure><figure name="2ac9" id="2ac9" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50.317%;"><img class="graf-image" data-image-id="1*Qc6t-OEgKB9YrwMgOulf3w.jpeg" data-width="682" data-height="452" src="https://cdn-images-1.medium.com/max/600/1*Qc6t-OEgKB9YrwMgOulf3w.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><ul class="postList"><li name="8ef6" id="8ef6" class="graf graf--li graf-after--figure">在 Run Script 裡貼上以下 script 指令。</li></ul><pre name="dc07" id="dc07" class="graf graf--pre graf-after--li"><code class="markup--code markup--pre-code">if mint list | grep -q &#39;R.swift&#39;; then<br>  mint run R.swift rswift generate &quot;$SRCROOT/R.generated.swift&quot;<br>else<br>  echo &quot;error: R.swift not installed; run &#39;mint bootstrap&#39; to install&quot;<br>  return -1<br>fi</code></pre><figure name="117a" id="117a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*KI6RbhscZ2DY2ufBrpXDsw.jpeg" data-width="1626" data-height="676" src="https://cdn-images-1.medium.com/max/800/1*KI6RbhscZ2DY2ufBrpXDsw.jpeg"></figure><ul class="postList"><li name="93c5" id="93c5" class="graf graf--li graf-after--figure">設定 Run Script 的 Input Files 欄位。</li></ul><p name="938f" id="938f" class="graf graf--p graf-after--li">輸入</p><pre name="bfd9" id="bfd9" class="graf graf--pre graf-after--p">$TEMP_DIR/rswift-lastrun</pre><figure name="cf18" id="cf18" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*4vXboIePJ2aSVwP8hclWdA.jpeg" data-width="520" data-height="258" src="https://cdn-images-1.medium.com/max/800/1*4vXboIePJ2aSVwP8hclWdA.jpeg"></figure><ul class="postList"><li name="eea4" id="eea4" class="graf graf--li graf-after--figure">設定 Run Script 的 Output Files 欄位。</li></ul><p name="4968" id="4968" class="graf graf--p graf-after--li">輸入</p><pre name="f656" id="f656" class="graf graf--pre graf-after--p">$SRCROOT/R.generated.swift</pre><figure name="cacb" id="cacb" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*xdblw3_NHsd9jX6vAMtxYg.jpeg" data-width="376" data-height="248" src="https://cdn-images-1.medium.com/max/800/1*xdblw3_NHsd9jX6vAMtxYg.jpeg"></figure><h3 name="c046" id="c046" class="graf graf--h3 graf-after--figure">Build App &amp; 產生 R.generated.swift</h3><figure name="b7eb" id="b7eb" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*pUe2HcNR3o5wR4EOXJ-0vg.jpeg" data-width="1432" data-height="652" src="https://cdn-images-1.medium.com/max/800/1*pUe2HcNR3o5wR4EOXJ-0vg.jpeg"></figure><p name="e5e0" id="e5e0" class="graf graf--p graf-after--figure">此時專案資料夾下將產生 R.generated.swift。</p><figure name="db0e" id="db0e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RbxgIqzdASIeWARR8TlxZg.jpeg" data-width="772" data-height="422" src="https://cdn-images-1.medium.com/max/800/1*RbxgIqzdASIeWARR8TlxZg.jpeg"></figure><h3 name="8d92" id="8d92" class="graf graf--h3 graf-after--figure">將 R.generated.swift 加到專案</h3><figure name="e675" id="e675" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*whGZi2OoRezRvcwtox2ZGA.jpeg" data-width="1434" data-height="844" src="https://cdn-images-1.medium.com/max/800/1*whGZi2OoRezRvcwtox2ZGA.jpeg"></figure><figure name="22ba" id="22ba" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*pszMYbvVgN2ajBR8yJk00w.jpeg" data-width="540" data-height="458" src="https://cdn-images-1.medium.com/max/800/1*pszMYbvVgN2ajBR8yJk00w.jpeg"></figure><h3 name="403f" id="403f" class="graf graf--h3 graf-after--figure">利用 SPM 安裝 <code class="markup--code markup--h3-code">R.Swift.Library</code></h3><div name="58df" id="58df" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b"><strong class="markup--strong markup--mixtapeEmbed-strong">使用 SPM 安裝第三方套件 — Xcode 11 新功能</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們有許多管理安裝第三方套件的方法，其中最為人熟知的三大套件管理天王為 CocoaPods，SPM(Swift Package Manager) &amp; Carthage。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-spm-%E5%AE%89%E8%A3%9D%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6-xcode-11-%E6%96%B0%E5%8A%9F%E8%83%BD-2c4ffcf85b4b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="68d7ca0f1f357213624de0f00073e1ac" data-thumbnail-img-id="1*MsiitLtlD6QsFEh13mIVWA.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*MsiitLtlD6QsFEh13mIVWA.jpeg);"></a></div><p name="dfa7" id="dfa7" class="graf graf--p graf-after--mixtapeEmbed">輸入以下網址</p><pre name="a24d" id="a24d" class="graf graf--pre graf-after--p"><a href="https://github.com/mac-cain13/R.swift.Library" data-href="https://github.com/mac-cain13/R.swift.Library" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://github.com/mac-cain13/R.swift.Library</a></pre><figure name="cffb" id="cffb" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*8qzN313U7d-9IdeIkUxzyQ.jpeg" data-width="1428" data-height="848" src="https://cdn-images-1.medium.com/max/800/1*8qzN313U7d-9IdeIkUxzyQ.jpeg"></figure><figure name="6c55" id="6c55" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*aqlcIC3f-Cf-r-jmnxFuGg.jpeg" data-width="1434" data-height="852" src="https://cdn-images-1.medium.com/max/800/1*aqlcIC3f-Cf-r-jmnxFuGg.jpeg"></figure><p name="12b5" id="12b5" class="graf graf--p graf-after--figure">勾選 Rswift。</p><figure name="995c" id="995c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3oZf1YzhlcPRghx-jYyBYg.jpeg" data-width="1436" data-height="824" src="https://cdn-images-1.medium.com/max/800/1*3oZf1YzhlcPRghx-jYyBYg.jpeg"></figure><figure name="97e5" id="97e5" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*1GP1MWcXfbzedKKCyUn63g.jpeg" data-width="1614" data-height="386" src="https://cdn-images-1.medium.com/max/800/1*1GP1MWcXfbzedKKCyUn63g.jpeg"></figure><p name="8ff4" id="8ff4" class="graf graf--p graf-after--figure">經歷了千辛萬苦，我們終於完成安裝。現在可以開始享受 R.swift 的好處，讓我們輸入的程式更加 type-safe，不用再打一堆容易出錯的字串。</p><h3 name="ce3d" id="ce3d" class="graf graf--h3 graf-after--p">Assets 圖片</h3><figure name="1d1e" id="1d1e" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*nMPbz6JxI2rdhNvVTGfJhg.jpeg" data-width="1644" data-height="1094" src="https://cdn-images-1.medium.com/max/800/1*nMPbz6JxI2rdhNvVTGfJhg.jpeg"></figure><p name="a0b9" id="a0b9" class="graf graf--p graf-after--figure">build app 後，R.generated.swift 將聰明地更新，出現以下產生 assets 圖片的相關程式。(ps: 請記得一定要 build app，R.generated.swift 才會更新。)</p><figure name="b31a" id="b31a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NOz6tdvzGRu9ORWTXYgEBw.jpeg" data-width="1858" data-height="1186" src="https://cdn-images-1.medium.com/max/800/1*NOz6tdvzGRu9ORWTXYgEBw.jpeg"></figure><p name="b9d8" id="b9d8" class="graf graf--p graf-after--figure">現在只要輸入 R.image. 開頭，即可從自動完成選單看到圖片，比方下圖的 R.image.edShearingMensTShirt()。</p><figure name="7476" id="7476" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*kwUTqDzh5SfuZpIJlNs5sg.jpeg" data-width="1056" data-height="396" src="https://cdn-images-1.medium.com/max/800/1*kwUTqDzh5SfuZpIJlNs5sg.jpeg"></figure><p name="e552" id="e552" class="graf graf--p graf-after--figure">範例</p><pre name="e30a" id="e30a" class="graf graf--pre graf-after--p">override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br><strong class="markup--strong markup--pre-strong">        let imageView = UIImageView(image: R.image.edShearingMensTShirt())<br></strong>        imageView.frame = view.bounds<br>        imageView.contentMode = .scaleAspectFit<br>        view.addSubview(imageView)<br>        <br>}</pre><figure name="ae99" id="ae99" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*z0T5REri3FjaIJ-fbMmTlw.jpeg" data-width="818" data-height="1528" src="https://cdn-images-1.medium.com/max/800/1*z0T5REri3FjaIJ-fbMmTlw.jpeg"></figure><h3 name="2a47" id="2a47" class="graf graf--h3 graf-after--figure">Assets 顏色</h3><figure name="33b7" id="33b7" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*rp9gL4n-Y2KKavJiB6t_mA.jpeg" data-width="1320" data-height="828" src="https://cdn-images-1.medium.com/max/800/1*rp9gL4n-Y2KKavJiB6t_mA.jpeg"></figure><p name="c48c" id="c48c" class="graf graf--p graf-after--figure">產生 UIColor，以 R.color. 開頭。</p><figure name="9298" id="9298" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*mprtekew-xOn8PJXDt90EA.jpeg" data-width="942" data-height="618" src="https://cdn-images-1.medium.com/max/800/1*mprtekew-xOn8PJXDt90EA.jpeg"></figure><p name="de46" id="de46" class="graf graf--p graf-after--figure">範例</p><pre name="86ed" id="86ed" class="graf graf--pre graf-after--p">override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br><strong class="markup--strong markup--pre-strong">        view.backgroundColor = R.color.熱戀色()<br></strong> }</pre><h3 name="9c50" id="9c50" class="graf graf--h3 graf-after--pre">storyboard 檔名</h3><figure name="8e59" id="8e59" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*9aApuz0GJ_fpeO-jV4FIJQ.jpeg" data-width="528" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*9aApuz0GJ_fpeO-jV4FIJQ.jpeg"></figure><p name="897b" id="897b" class="graf graf--p graf-after--figure">產生 UIStoryboard 物件，以 R.storyboard. 開頭。</p><figure name="b336" id="b336" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WvPDO8v1GOsOxUQJyx5ywQ.jpeg" data-width="1008" data-height="472" src="https://cdn-images-1.medium.com/max/800/1*WvPDO8v1GOsOxUQJyx5ywQ.jpeg"></figure><h3 name="ee01" id="ee01" class="graf graf--h3 graf-after--figure">Storyboard ID &amp; controller 類別</h3><p name="ab0c" id="ab0c" class="graf graf--p graf-after--h3">Main.storyboard controller 的 Storyboard ID &amp; 類別都是 TshirtViewController。</p><figure name="5fac" id="5fac" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gkRBYZUWKxdyQplJsdYoHQ.jpeg" data-width="952" data-height="894" src="https://cdn-images-1.medium.com/max/800/1*gkRBYZUWKxdyQplJsdYoHQ.jpeg"></figure><figure name="8173" id="8173" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*jT4eR_0dzjtbXQlxmaETvA.jpeg" data-width="524" data-height="252" src="https://cdn-images-1.medium.com/max/800/1*jT4eR_0dzjtbXQlxmaETvA.jpeg"></figure><p name="e6d5" id="e6d5" class="graf graf--p graf-after--figure">產生 controller，以 R.storyboard.main. 開頭(由於 controller 在 main storyboard)。</p><figure name="aba8" id="aba8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*VHVfQNxMSGRRTxeVdRF_sg.jpeg" data-width="1144" data-height="574" src="https://cdn-images-1.medium.com/max/800/1*VHVfQNxMSGRRTxeVdRF_sg.jpeg"></figure><p name="05de" id="05de" class="graf graf--p graf-after--figure">範例</p><p name="0713" id="0713" class="graf graf--p graf-after--p">利用以下程式產生的 controller 類別將為我們在 storyboard 設定的 controller 類別 TshirtViewController，不須再用 as! 轉型。</p><pre name="8498" id="8498" class="graf graf--pre graf-after--p">guard let controller = R.storyboard.main.tshirtViewController() else { return }</pre><pre name="572b" id="572b" class="graf graf--pre graf-after--pre">show(controller, sender: nil)</pre><h3 name="3f6f" id="3f6f" class="graf graf--h3 graf-after--pre">Segue ID &amp; controller 類別</h3><p name="f8ed" id="f8ed" class="graf graf--p graf-after--h3">第一頁的 controller 類別是 HomeViewController，第二頁的 controller 類別是 TshirtViewController，從 HomeViewController 連 segue 到 TshirtViewController。</p><figure name="71db" id="71db" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*BlgZom1MXG11Nhn76LfP2A.jpeg" data-width="862" data-height="806" src="https://cdn-images-1.medium.com/max/800/1*BlgZom1MXG11Nhn76LfP2A.jpeg"></figure><p name="efbd" id="efbd" class="graf graf--p graf-after--figure">segue id 是 showTshirt。</p><figure name="7471" id="7471" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*nJyqsNbJVvscjGjWCT52Hg.jpeg" data-width="1434" data-height="956" src="https://cdn-images-1.medium.com/max/800/1*nJyqsNbJVvscjGjWCT52Hg.jpeg"></figure><p name="2926" id="2926" class="graf graf--p graf-after--figure">輸入 segue id 時，我們必須先指定 segue 起點的 controller，因此以下程式輸入 R.segue.homeViewController.showTshirt。</p><figure name="5e20" id="5e20" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*w1HZQci6cxOuyiuxk9ESnQ.jpeg" data-width="904" data-height="366" src="https://cdn-images-1.medium.com/max/800/1*w1HZQci6cxOuyiuxk9ESnQ.jpeg"></figure><figure name="6542" id="6542" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*rGYsONZseNAu8AB7VHf9zA.jpeg" data-width="1260" data-height="418" src="https://cdn-images-1.medium.com/max/800/1*rGYsONZseNAu8AB7VHf9zA.jpeg"></figure><ul class="postList"><li name="71f5" id="71f5" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">performSegue 範例</strong></li></ul><pre name="36eb" id="36eb" class="graf graf--pre graf-after--li">class HomeViewController: UIViewController {</pre><pre name="733b" id="733b" class="graf graf--pre graf-after--pre">   @IBAction func buttonTap(_ sender: Any) {</pre><pre name="8369" id="8369" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">      performSegue(withIdentifier: R.segue.homeViewController.showTshirt, sender: nil)</strong></pre><pre name="219f" id="219f" class="graf graf--pre graf-after--pre">   }</pre><ul class="postList"><li name="fcd4" id="fcd4" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">prepare 範例</strong></li></ul><p name="8c0f" id="8c0f" class="graf graf--p graf-after--li">我們可以在 prepare 裡利用以下程式比對 segue，而且更貼心的，從 showTshirt 讀取 destination 時不用轉型，它將自動是 controller 的類別 TshirtViewController。</p><figure name="b31d" id="b31d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3vUuNhPSfqApjPtbaAdCBg.jpeg" data-width="1634" data-height="592" src="https://cdn-images-1.medium.com/max/800/1*3vUuNhPSfqApjPtbaAdCBg.jpeg"></figure><h3 name="3e48" id="3e48" class="graf graf--h3 graf-after--figure">cell reuse ID &amp; Cell 類別</h3><p name="d3ed" id="d3ed" class="graf graf--p graf-after--h3">cell 的 reuse ID &amp; 類別都是 TshirtTableViewCell。</p><figure name="824b" id="824b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RHBi-WGIgtR3sFOy9s7VlA.jpeg" data-width="524" data-height="414" src="https://cdn-images-1.medium.com/max/800/1*RHBi-WGIgtR3sFOy9s7VlA.jpeg"></figure><figure name="6933" id="6933" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*kcO7wJ9jVNHKi6jWGyVxtw.jpeg" data-width="518" data-height="250" src="https://cdn-images-1.medium.com/max/800/1*kcO7wJ9jVNHKi6jWGyVxtw.jpeg"></figure><p name="2aec" id="2aec" class="graf graf--p graf-after--figure">產生 cell reuse ID，以 R.reuseIdentifier. 開頭。</p><figure name="5ca5" id="5ca5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*JMfaMJQg2tdWD6W67hE5DA.jpeg" data-width="1100" data-height="380" src="https://cdn-images-1.medium.com/max/800/1*JMfaMJQg2tdWD6W67hE5DA.jpeg"></figure><p name="6031" id="6031" class="graf graf--p graf-after--figure">範例</p><p name="8690" id="8690" class="graf graf--p graf-after--p">利用以下程式產生的 cell 類別將為我們在 storyboard 設定的 cell 類別 TshirtTableViewCell，不須再用 as! 轉型。</p><pre name="cc41" id="cc41" class="graf graf--pre graf-after--p">override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {<br><strong class="markup--strong markup--pre-strong">        let cell = tableView.dequeueReusableCell(withIdentifier: R.reuseIdentifier.tshirtTableViewCell, for: indexPath)!</strong></pre><pre name="b276" id="b276" class="graf graf--pre graf-after--pre">        return cell<br>}</pre><h3 name="9ca7" id="9ca7" class="graf graf--h3 graf-after--pre">xib 檔名 &amp; view 的類別</h3><p name="95b3" id="95b3" class="graf graf--p graf-after--h3">xib 的檔名是 LoadingView。</p><figure name="9b47" id="9b47" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ksf1lxjmBHnRu3ThjdmpIw.jpeg" data-width="534" data-height="390" src="https://cdn-images-1.medium.com/max/800/1*Ksf1lxjmBHnRu3ThjdmpIw.jpeg"></figure><p name="c61d" id="c61d" class="graf graf--p graf-after--figure">xib 裡 view 的類別也是 LoadingView。</p><figure name="5122" id="5122" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XYUBnSaXZ3qFmTqLKN1eiA.jpeg" data-width="1430" data-height="584" src="https://cdn-images-1.medium.com/max/800/1*XYUBnSaXZ3qFmTqLKN1eiA.jpeg"></figure><p name="770c" id="770c" class="graf graf--p graf-after--figure">生成 xib 裡的第一個 view，以 R.nib. 開頭。</p><figure name="d416" id="d416" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*iza7xG3F9KwDXc_QgOSHKA.jpeg" data-width="1118" data-height="394" src="https://cdn-images-1.medium.com/max/800/1*iza7xG3F9KwDXc_QgOSHKA.jpeg"></figure><p name="f448" id="f448" class="graf graf--p graf-after--figure">範例</p><p name="1c26" id="1c26" class="graf graf--p graf-after--p">利用以下程式產生的 view 類別將為我們在 xib 設定的 view 類別 LoadingView，不須再用 as! 轉型。</p><pre name="43f5" id="43f5" class="graf graf--pre graf-after--p">override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br>        let loadingView = R.nib.loadingView.firstView(owner: nil)<br>        view.addSubview(loadingView)<br>             <br>}</pre><h3 name="ec1e" id="ec1e" class="graf graf--h3 graf-after--pre">resource 檔名</h3><figure name="2afd" id="2afd" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*_k_NzMNr4P8GLqVEvG8MIg.jpeg" data-width="542" data-height="280" src="https://cdn-images-1.medium.com/max/800/1*_k_NzMNr4P8GLqVEvG8MIg.jpeg"></figure><p name="40a8" id="40a8" class="graf graf--p graf-after--figure">產生檔案的 URL，以 R.file. 開頭。</p><figure name="40d7" id="40d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ETrzl8xfysgkt-bZLl6OwQ.jpeg" data-width="924" data-height="576" src="https://cdn-images-1.medium.com/max/800/1*ETrzl8xfysgkt-bZLl6OwQ.jpeg"></figure><h3 name="84d5" id="84d5" class="graf graf--h3 graf-after--figure">font 檔名</h3><figure name="bd9d" id="bd9d" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*wtqUYrgnliS6IU1Ntw3TlQ.jpeg" data-width="2024" data-height="1300" src="https://cdn-images-1.medium.com/max/800/1*wtqUYrgnliS6IU1Ntw3TlQ.jpeg"></figure><figure name="1633" id="1633" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*EWLPV0fUbgxEpiBdxxnMtA.jpeg" data-width="2014" data-height="608" src="https://cdn-images-1.medium.com/max/800/1*EWLPV0fUbgxEpiBdxxnMtA.jpeg"></figure><p name="5f70" id="5f70" class="graf graf--p graf-after--figure">產生 UIFont，以 R.font. 開頭。</p><figure name="c825" id="c825" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*pMejp5cjToTgW1gWMVnBbg.jpeg" data-width="932" data-height="616" src="https://cdn-images-1.medium.com/max/800/1*pMejp5cjToTgW1gWMVnBbg.jpeg"></figure><p name="24f3" id="24f3" class="graf graf--p graf-after--figure">範例</p><pre name="0942" id="0942" class="graf graf--pre graf-after--p">override func viewDidLoad() {<br>        super.viewDidLoad()<br>        <br>        let label = UILabel(frame: CGRect(x: 0, y: 0, width: 100, height: 30))<br><strong class="markup--strong markup--pre-strong">        label.font = R.font.brushHours(size: 20)<br></strong>        label.text = &quot;peter&quot;<br>        view.addSubview(label)<br>        <br>}</pre><h3 name="1d1c" id="1d1c" class="graf graf--h3 graf-after--pre">Localized strings</h3><p name="1ae5" id="1ae5" class="graf graf--p graf-after--h3">Localizable.strings 的內容。</p><figure name="f141" id="f141" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*wlb5yQXr4surq1ZaAvCF8Q.jpeg" data-width="1086" data-height="666" src="https://cdn-images-1.medium.com/max/800/1*wlb5yQXr4surq1ZaAvCF8Q.jpeg"></figure><p name="8bc6" id="8bc6" class="graf graf--p graf-after--figure">產生 Localizable.strings 裡定義的文字，以 R.string.localizable. 開頭。</p><figure name="f4dd" id="f4dd" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*mVijcn28tBN9ateyB8OuHg.jpeg" data-width="1278" data-height="526" src="https://cdn-images-1.medium.com/max/800/1*mVijcn28tBN9ateyB8OuHg.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/b0ed8f5c3915"><time class="dt-published" datetime="2020-08-20T07:26:41.464Z">August 20, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-r-swift-%E8%AE%93%E5%AD%97%E4%B8%B2%E8%AE%8A%E6%88%90-type-safe-%E7%9A%84%E7%A8%8B%E5%BC%8F-b0ed8f5c3915" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>