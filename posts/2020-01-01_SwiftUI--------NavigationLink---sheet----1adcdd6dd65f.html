<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SwiftUI 即時更新的  NavigationLink &amp; sheet 頁面</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">SwiftUI 即時更新的  NavigationLink &amp; sheet 頁面</h1>
</header>
<section data-field="subtitle" class="p-summary">
SwiftUI 主要有   NavigationLink &amp; sheet 兩種切換頁面的方法，不過它們還有很多令人驚奇的地方，比方搭配變數自動更新畫面的特異功能。
</section>
<section data-field="body" class="e-content">
<section name="3489" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f3ba" id="f3ba" class="graf graf--h3 graf--leading graf--title">SwiftUI 即時更新的 NavigationLink &amp; sheet 頁面</h3><p name="a098" id="a098" class="graf graf--p graf-after--h3">SwiftUI 主要有 NavigationLink &amp; sheet 兩種切換頁面的方法，不過它們還有很多令人驚奇的地方，比方搭配變數自動更新畫面的特異功能。</p><p name="1e58" id="1e58" class="graf graf--p graf-after--p">假設我們的第一頁是 ContentView，它的 property number 以 @State 宣告，並且會隨著 timer 每秒 + 1。當我們點選 show number 時，將以 NavigationLink 進入下一頁 NumberView，並且傳入 number 的數字。</p><pre name="a524" id="a524" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    <br>  <strong class="markup--strong markup--pre-strong">  </strong><a href="http://twitter.com/State" data-href="http://twitter.com/State" class="markup--anchor markup--pre-anchor" title="Twitter profile for @State" rel="noopener" target="_blank"><strong class="markup--strong markup--pre-strong">@State</strong></a><strong class="markup--strong markup--pre-strong"> private var number = 0<br>    </strong><br>    var body: some View {<br>        NavigationView {<br>            NavigationLink(destination: NumberView(number: number)) {<br>                Text(&quot;show number&quot;)<br>                <br>            }<br>            .onAppear {<br>               <strong class="markup--strong markup--pre-strong"> Timer.scheduledTimer(withTimeInterval: 1, repeats: true) { (_) in<br>                    self.number += 1<br>                }</strong><br>            }<br>        }<br>    }<br>}</pre><figure name="5964" id="5964" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*t8jwzMJlIfHurWI5wh04iQ.jpeg" data-width="824" data-height="1412" src="https://cdn-images-1.medium.com/max/800/1*t8jwzMJlIfHurWI5wh04iQ.jpeg"></figure><p name="1e8a" id="1e8a" class="graf graf--p graf-after--figure">NumberView 將顯示數字對應的圖片，不過 SF Symbols 的數字圖片最大到 50，因此我們使用 <code class="markup--code markup--p-code">number % 51</code> 計算 51 的餘數。</p><pre name="6cbe" id="6cbe" class="graf graf--pre graf-after--p">struct NumberView: View {<br>   <strong class="markup--strong markup--pre-strong"> var number: Int</strong><br>    <br>    var body: some View {<br><strong class="markup--strong markup--pre-strong">        Image(systemName: &quot;\(number % 51).circle&quot;)<br></strong>           .resizable()<br>           .scaledToFit()<br>    }<br>}</pre><p name="c048" id="c048" class="graf graf--p graf-after--pre">執行 App ，切換到 NumberView 頁面後，我們發現隨著 timer 每秒啟動，ContentView 的 number 增加，NumberView 顯示的數字也會增加。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="a3b8" id="a3b8" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*aHSOt2LF_NC24jcvn2intw.jpeg" data-width="824" data-height="1412" src="https://cdn-images-1.medium.com/max/600/1*aHSOt2LF_NC24jcvn2intw.jpeg"></figure><figure name="9668" id="9668" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*VCxkj5TrATi5fpbbWHw-IQ.jpeg" data-width="824" data-height="1412" src="https://cdn-images-1.medium.com/max/600/1*VCxkj5TrATi5fpbbWHw-IQ.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="102c" id="102c" class="graf graf--p graf-after--figure">為什麼會這樣呢 ? 讓我們在 NumberView 裡定義 init &amp; body 裡加上 print，觀察程式執行的過程。</p><pre name="d2dd" id="d2dd" class="graf graf--pre graf-after--p">struct NumberView: View {<br>    var number: Int<br>    <br>   <strong class="markup--strong markup--pre-strong"> init(number: Int) {<br>        self.number = number<br>        print(&quot;NumberView init \(number)&quot;)</strong></pre><pre name="882e" id="882e" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">    }<br>    </strong><br>    var body: some View {<br>    <strong class="markup--strong markup--pre-strong">    print(&quot;NumberView body \(number)&quot;)</strong><br>        return  Image(systemName: &quot;\(number % 51).circle&quot;)<br>        .resizable()<br>        .scaledToFit()<br>    }<br>}</pre><p name="ae88" id="ae88" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">結果</strong></p><p name="9f1e" id="9f1e" class="graf graf--p graf-after--p">如下圖所示，當 App 啟動後，畫面還在 ContentView 時，NumberView 將隨著 timer 啟動不斷重新生成(真是辛苦 NumberView 了)。不過此時它的 body 程式還不會執行，要等到我們顯示 NumberView 時 body 的程式才會執行。</p><figure name="ff59" id="ff59" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*iQxFhzd3Zr3k3CqwTQDTGg.jpeg" data-width="1034" data-height="878" src="https://cdn-images-1.medium.com/max/800/1*iQxFhzd3Zr3k3CqwTQDTGg.jpeg"></figure><p name="be0c" id="be0c" class="graf graf--p graf-after--figure">當我們改用 sheet 切換頁面時，也會出現一樣的情況，隨著 timer 每秒啟動，NumberView 顯示的數字勤勞地增加。</p><pre name="d2c9" id="d2c9" class="graf graf--pre graf-after--p">struct ContentView: View {<br>    <br>   <strong class="markup--strong markup--pre-strong"> </strong><a href="http://twitter.com/State" data-href="http://twitter.com/State" class="markup--anchor markup--pre-anchor" title="Twitter profile for @State" rel="noopener" target="_blank"><strong class="markup--strong markup--pre-strong">@State</strong></a><strong class="markup--strong markup--pre-strong"> private var number = 0<br>    </strong><a href="http://twitter.com/State" data-href="http://twitter.com/State" class="markup--anchor markup--pre-anchor" title="Twitter profile for @State" rel="noopener" target="_blank"><strong class="markup--strong markup--pre-strong">@State</strong></a><strong class="markup--strong markup--pre-strong"> private var showSecondView = false</strong></pre><pre name="8f01" id="8f01" class="graf graf--pre graf-after--pre">    var body: some View {<br>         Button(&quot;show number&quot;) {<br>             self.showSecondView = true<br>         }<br>         .onAppear {<br>             Timer.scheduledTimer(withTimeInterval: 1, repeats: true) { (_) in<br>                self.number += 1<br>             }<br>         }<br>         <strong class="markup--strong markup--pre-strong">.sheet(isPresented: $showSecondView) {<br>             NumberView(number: self.number)<br>         }</strong><br>        <br>    }<br>}</pre></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="264e" id="264e" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--pre" style="width: 50%;"><img class="graf-image" data-image-id="1*kSwmPAEpN25ReLX2gXL4lQ.jpeg" data-width="824" data-height="1412" src="https://cdn-images-1.medium.com/max/600/1*kSwmPAEpN25ReLX2gXL4lQ.jpeg"></figure><figure name="c3b0" id="c3b0" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure graf--trailing" style="width: 50%;"><img class="graf-image" data-image-id="1*SRCWgsXw5VGsOdoBIXIL-A.jpeg" data-width="824" data-height="1412" data-is-featured="true" src="https://cdn-images-1.medium.com/max/600/1*SRCWgsXw5VGsOdoBIXIL-A.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/1adcdd6dd65f"><time class="dt-published" datetime="2020-01-01T13:35:56.889Z">January 1, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swiftui-%E5%8D%B3%E6%99%82%E6%9B%B4%E6%96%B0%E7%9A%84-navigationlink-sheet-%E9%A0%81%E9%9D%A2-1adcdd6dd65f" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>