<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Swift 4.2 更方便的亂數 function，random，randomElement &amp; shuffle</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Swift 4.2 更方便的亂數 function，random，randomElement &amp; shuffle</h1>
</header>
<section data-field="subtitle" class="p-summary">
Swift 4.2 SE-0202 的 Random Unification 讓我們在開發 iOS App 時，亂數功能變得更容易了。現在我們不再需要額外加入 GameplayKit，也不用使用轉型很麻煩的 function…
</section>
<section data-field="body" class="e-content">
<section name="9bad" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b6f9" id="b6f9" class="graf graf--h3 graf--leading graf--title">Swift 4.2 更方便的亂數 function，random，randomElement &amp; shuffle</h3><p name="92c1" id="92c1" class="graf graf--p graf-after--h3">Swift 4.2 SE-0202 的 Random Unification 讓我們在開發 iOS App 時，亂數功能變得更容易了。現在我們不再需要額外加入 GameplayKit，也不用使用轉型很麻煩的 function arc4random_uniform。而且更棒的是，現在甚至可以直接用 array 亂數，隨機取出裡面的成員，或是像洗牌一樣將 array 隨機排序也不是問題。到底新的亂數功能有多方便呢 ? 就讓我們一探究竟吧。</p><figure name="3c83" id="3c83" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*r1uvOdO8fwNgY1EYnNTioQ.jpeg" data-width="1860" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*r1uvOdO8fwNgY1EYnNTioQ.jpeg"></figure><div name="9122" id="9122" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0202-random-unification.md" data-href="https://github.com/apple/swift-evolution/blob/master/proposals/0202-random-unification.md" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/apple/swift-evolution/blob/master/proposals/0202-random-unification.md"><strong class="markup--strong markup--mixtapeEmbed-strong">apple/swift-evolution</strong><br><em class="markup--em markup--mixtapeEmbed-em">swift-evolution - This maintains proposals for changes and user-visible enhancements to the Swift Programming Language.</em>github.com</a><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0202-random-unification.md" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9c0935e345187dabda0505eb248e52a1" data-thumbnail-img-id="0*D-9fd7ICaId03cuX" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*D-9fd7ICaId03cuX);"></a></div><blockquote name="9d1e" id="9d1e" class="graf graf--blockquote graf-after--mixtapeEmbed"><strong class="markup--strong markup--blockquote-strong">1 整數的亂數</strong></blockquote><p name="eb72" id="eb72" class="graf graf--p graf-after--blockquote">呼叫 Int 的 function random(in:) 生成 Int 型別的亂數，在參數裡傳入數字的範圍。</p><figure name="1e2a" id="1e2a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*oyOOoJVVTii0Oj9Qc9ojzA.jpeg" data-width="1024" data-height="126" src="https://cdn-images-1.medium.com/max/800/1*oyOOoJVVTii0Oj9Qc9ojzA.jpeg"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e3d8" id="e3d8" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">0</span><span class="hljs-operator">...</span><span class="hljs-number">2</span>)</span></pre><div name="fc20" id="fc20" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://developer.apple.com/documentation/swift/int/random%28in:%29-8zzqh" data-href="https://developer.apple.com/documentation/swift/int/random(in:)-8zzqh" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swift/int/random(in:)-8zzqh"><strong class="markup--strong markup--mixtapeEmbed-strong">random(in:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Returns a random value within the specified range.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swift/int/random%28in:%29-8zzqh" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bebf2de685245e84d3b08c087fb3fddb" data-thumbnail-img-id="0*7KloifbDXLYv0oEg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*7KloifbDXLYv0oEg);"></a></div><p name="b1c3" id="b1c3" class="graf graf--p graf-after--mixtapeEmbed">傳入 ..&lt; 的範圍也不是問題。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3c54" id="3c54" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">1</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">10</span>)</span></pre><p name="0166" id="0166" class="graf graf--p graf-after--pre">傳入包含負數的範圍也可以。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="4305" id="4305" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-operator">-</span><span class="hljs-number">5</span><span class="hljs-operator">...</span><span class="hljs-number">5</span>)</span></pre><blockquote name="3fc5" id="3fc5" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">2 浮點數的亂數</strong></blockquote><p name="e601" id="e601" class="graf graf--p graf-after--blockquote">呼叫 Double 的 function random(in:) 生成 Double 型別的亂數，在參數裡傳入數字的範圍。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="359f" id="359f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.random(in: <span class="hljs-number">1.5</span><span class="hljs-operator">...</span><span class="hljs-number">3.2</span>)</span></pre><p name="4e6c" id="4e6c" class="graf graf--p graf-after--pre">想生成 Float 型別的亂數也可以。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b52d" id="b52d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Float</span>.random(in: <span class="hljs-number">1.5</span><span class="hljs-operator">...</span><span class="hljs-number">3.2</span>)</span></pre><blockquote name="4e26" id="4e26" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">3 CGFloat 的亂數</strong></blockquote><p name="b994" id="b994" class="graf graf--p graf-after--blockquote">開發 iOS App 時，時常會遇到 CGFloat 型別的參數。比方以下例子，當我們用 Float 亂數紅色的數值，生成 UIColor 物件時，將產生問題。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ba3d" id="ba3d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><br /><span class="hljs-keyword">var</span> red <span class="hljs-operator">=</span> <span class="hljs-type">Float</span>.random(in: <span class="hljs-number">0</span><span class="hljs-operator">...</span><span class="hljs-number">1</span>)<br /><span class="hljs-keyword">var</span> color <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>(red: red, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)</span></pre><p name="9d2f" id="9d2f" class="graf graf--p graf-after--pre">因為 red 參數的型別是 CGFloat，不能傳入 Float。</p><figure name="5fa1" id="5fa1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*lDzwr7ifF4Ps7P9rebmhQQ.jpeg" data-width="2008" data-height="440" src="https://cdn-images-1.medium.com/max/800/1*lDzwr7ifF4Ps7P9rebmhQQ.jpeg"></figure><p name="6b00" id="6b00" class="graf graf--p graf-after--figure">此時我們可將 Float 型別的 red 生成 CGFloat 解決問題，但其實有更聰明的做法。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5eb4" id="5eb4" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> color <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>(red: <span class="hljs-type">CGFloat</span>(red), green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)</span></pre><p name="3f07" id="3f07" class="graf graf--p graf-after--pre">我們可以一開始就用 CGFloat 生成亂數。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9ac8" id="9ac8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><br /><span class="hljs-keyword">var</span> red <span class="hljs-operator">=</span> <span class="hljs-type">CGFloat</span>.random(in: <span class="hljs-number">0</span><span class="hljs-operator">...</span><span class="hljs-number">1</span>)<br /><span class="hljs-keyword">var</span> color <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>(red: red, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)</span></pre><blockquote name="4398" id="4398" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">4 Bool 的亂數</strong></blockquote><p name="8bbd" id="8bbd" class="graf graf--p graf-after--blockquote">呼叫 Bool 的 function random() 生成 Bool 型別的亂數，答案很簡單，只有兩種可能，true 或 false，就好像告白一樣，只有成功和失敗兩種結果。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="31fa" id="31fa" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> isCute <span class="hljs-operator">=</span> <span class="hljs-type">Bool</span>.random()</span></pre><p name="dc1f" id="dc1f" class="graf graf--p graf-after--pre">Bool 的亂數很適合做像丟銅板，博杯之類的應用。</p><blockquote name="d5b1" id="d5b1" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">5 array 的亂數</strong></blockquote><p name="3b21" id="3b21" class="graf graf--p graf-after--blockquote">從前為了亂數 array 裡的某個成員，我們往往先從 0 ～ array 成員數量 -1 裡亂數一個數字，然後再從 array 裡取出此編號的成員，比方以下從永遠的四大天王亂數取出其中一個偶像的例子:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f95f" id="f95f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> 四大天王 <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;劉德華&quot;</span>, <span class="hljs-string">&quot;張學友&quot;</span>, <span class="hljs-string">&quot;郭富城&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>]<br /><span class="hljs-keyword">let</span> number <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>.random(in: <span class="hljs-number">0</span><span class="hljs-operator">...</span>四大天王.count<span class="hljs-operator">-</span><span class="hljs-number">1</span>)<br /><span class="hljs-keyword">let</span> idol <span class="hljs-operator">=</span> 四大天王[number]</span></pre><p name="3474" id="3474" class="graf graf--p graf-after--pre">現在不用這麼麻煩了，array 就可以直接亂數，只要呼叫它的 function randomElement()。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="21a2" id="21a2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> 四大天王 <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;劉德華&quot;</span>, <span class="hljs-string">&quot;張學友&quot;</span>, <span class="hljs-string">&quot;郭富城&quot;</span>, <span class="hljs-string">&quot;彼得潘&quot;</span>]<br /><span class="hljs-keyword">let</span> idol <span class="hljs-operator">=</span> 四大天王.randomElement()</span></pre><div name="5f74" id="5f74" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://developer.apple.com/documentation/swift/array/2994747-randomelement" data-href="https://developer.apple.com/documentation/swift/array/2994747-randomelement" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swift/array/2994747-randomelement"><strong class="markup--strong markup--mixtapeEmbed-strong">randomElement() - Array | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">This documentation contains preliminary information about an API or technology in development. This information is…</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swift/array/2994747-randomelement" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="27148f7633cdc7dae3635492506b8d6e"></a></div><p name="106d" id="106d" class="graf graf--p graf-after--mixtapeEmbed">不過有一點要特別注意，randomElement 回傳的東西是 optional，因此剛剛例子裡的 idol 型別將是 String?。</p><figure name="eb2d" id="eb2d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NHuMrEnsNw2l4WfGUIApKg.jpeg" data-width="1786" data-height="448" src="https://cdn-images-1.medium.com/max/800/1*NHuMrEnsNw2l4WfGUIApKg.jpeg"></figure><p name="30a7" id="30a7" class="graf graf--p graf-after--figure">只有當 array 是空的時候才會回傳 nil，因此當 array 有內容時，我們可以放心加上 ! 取值。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5c05" id="5c05" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> teams <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;統一7-ELEVEn獅&quot;</span>, <span class="hljs-string">&quot;中信兄弟&quot;</span>, <span class="hljs-string">&quot;富邦悍將&quot;</span>, <span class="hljs-string">&quot;樂天桃猿&quot;</span>]<br /><span class="hljs-keyword">let</span> team <span class="hljs-operator">=</span> teams.randomElement()<span class="hljs-operator">!</span></span></pre><blockquote name="5082" id="5082" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">6 集合型別的亂數</strong></blockquote><p name="9429" id="9429" class="graf graf--p graf-after--blockquote">剛剛的 function randomElement() 其實不是 array 獨享。像是 range，dictionary，set 等都可以呼叫，亂數取出其中的成員，而且一樣的，回傳的型別也是 optional。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b0e6" id="b0e6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> numbers <span class="hljs-operator">=</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">10</span><br /><span class="hljs-keyword">let</span> number <span class="hljs-operator">=</span> numbers.randomElement()<br /><span class="hljs-keyword">let</span> cityDic <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;英國&quot;</span>: <span class="hljs-string">&quot;倫敦&quot;</span>, <span class="hljs-string">&quot;法國&quot;</span>: <span class="hljs-string">&quot;巴黎&quot;</span>]<br /><span class="hljs-keyword">let</span> city <span class="hljs-operator">=</span> cityDic.randomElement()<br /><span class="hljs-keyword">let</span> heroes <span class="hljs-operator">=</span> <span class="hljs-type">Set</span>([<span class="hljs-string">&quot;彼得潘&quot;</span>, <span class="hljs-string">&quot;彼得兔&quot;</span>, <span class="hljs-string">&quot;彼得帕克&quot;</span>])<br /><span class="hljs-keyword">let</span> name <span class="hljs-operator">=</span> heroes.randomElement()</span></pre><figure name="aa49" id="aa49" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*yQ1u_UzXcjTbnN6cY0UIkg.jpeg" data-width="2304" data-height="482" src="https://cdn-images-1.medium.com/max/800/1*yQ1u_UzXcjTbnN6cY0UIkg.jpeg"></figure><blockquote name="6243" id="6243" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">7 平均分配的亂數</strong></blockquote><p name="82c7" id="82c7" class="graf graf--p graf-after--blockquote">某些時候我們會想要平均分配的亂數，確保不會亂數到一樣的東西，比方像選擇題或撲克牌之類的 App，連續亂數到兩張黑桃 A 可就變成出老千了。</p><p name="c430" id="c430" class="graf graf--p graf-after--p">Swift 特別提供 shuffle function 幫我們解決這個問題。shuffle 是什麼意思呢 ? 想當年彼得潘去拉斯維加斯玩慈善撲克牌大賽時，學到了 shuffle 是洗牌的意思。因此你可以將 shuffle 想成它會將 52 張撲克牌隨機排序，讓玩家每次玩都拿到不同的牌，而且不會拿到重覆的牌。</p><p name="6def" id="6def" class="graf graf--p graf-after--p">iPod shuffle 也能幫助我們理解 shuffle 的意思。iPod shuffle 完全沒有螢幕，所以我們無法找歌。那我們要怎麼聽音樂呢 ? 很簡單，它會亂數播放。</p><figure name="b892" id="b892" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*5L4M8ckRFYwcntifBxRwag.png" data-width="1280" data-height="1111" src="https://cdn-images-1.medium.com/max/800/1*5L4M8ckRFYwcntifBxRwag.png"></figure><p name="beeb" id="beeb" class="graf graf--p graf-after--figure">function shuffle 可幫我們將集合裡的成員隨機排序，比方我們可用此方法將程式裡存放撲克牌的 array 排序，讓每次玩時拿到不同的牌，並且避免賭神再世，拿到兩張黑桃 A 的窘境。</p><p name="48fe" id="48fe" class="graf graf--p graf-after--p">接下來，我們就以存放著情歌的 array 為例，利用 shuffle 幫我們決定播放的順序。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6b5e" id="6b5e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> songs <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;你好不好&quot;</span>, <span class="hljs-string">&quot;小幸運&quot;</span>, <span class="hljs-string">&quot;連名帶姓&quot;</span>]<br />songs.shuffle()</span></pre><figure name="6e0a" id="6e0a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*BzxKiTTPn8QV8t6VkQ5OhA.jpeg" data-width="1384" data-height="434" src="https://cdn-images-1.medium.com/max/800/1*BzxKiTTPn8QV8t6VkQ5OhA.jpeg"></figure><p name="2770" id="2770" class="graf graf--p graf-after--figure">如上圖所示，shuffle 會將 array 重新排序，所以到時候第一首播小幸運，第二首播你好不好，第三頁播連名帶姓。</p><p name="de5b" id="de5b" class="graf graf--p graf-after--p">function shuffle 沒有回傳東西，它會改變原本的集合，因此剛剛例子的array songs 將被改變。</p><figure name="a023" id="a023" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*bX8Yx6IwxO83kcOPCTKEFg.jpeg" data-width="1048" data-height="266" src="https://cdn-images-1.medium.com/max/800/1*bX8Yx6IwxO83kcOPCTKEFg.jpeg"></figure><div name="62aa" id="62aa" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/swift/array/shuffle%28%29" data-href="https://developer.apple.com/documentation/swift/array/shuffle()" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swift/array/shuffle()"><strong class="markup--strong markup--mixtapeEmbed-strong">shuffle() | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Shuffles the collection in place.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swift/array/shuffle%28%29" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b4880657794095ff68e201d6d3739b75" data-thumbnail-img-id="0*ni_OKz4rsUVJkQ65" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*ni_OKz4rsUVJkQ65);"></a></div><p name="f894" id="f894" class="graf graf--p graf-after--mixtapeEmbed">但還有另一個很類似的 function 叫 shuffled。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="cee2" id="cee2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> songs <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;你好不好&quot;</span>, <span class="hljs-string">&quot;小幸運&quot;</span>, <span class="hljs-string">&quot;連名帶姓&quot;</span>]<br /><span class="hljs-keyword">let</span> newSongs <span class="hljs-operator">=</span> songs.shuffled()<br />songs<br />newSongs</span></pre><figure name="6928" id="6928" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*j14VMrCZaymrjt1zhVVi2g.jpeg" data-width="2184" data-height="316" src="https://cdn-images-1.medium.com/max/800/1*j14VMrCZaymrjt1zhVVi2g.jpeg"></figure><p name="9c07" id="9c07" class="graf graf--p graf-after--figure">在 Swift 裡一般以英文 ed 結尾的 function 都有個特性。它們不會改變原本的東西，而是將新的東西回傳。因此 function shuffled 不會改變原本的集合，而是將隨機排序的集合回傳。在剛剛的例子，新排序的歌單將存在 newSongs，songs 是不受影響的。</p><figure name="8784" id="8784" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*UaTUJxDG6wyCHqWxU0oAJA.jpeg" data-width="1022" data-height="230" src="https://cdn-images-1.medium.com/max/800/1*UaTUJxDG6wyCHqWxU0oAJA.jpeg"></figure><div name="3c2c" id="3c2c" class="graf graf--mixtapeEmbed graf-after--figure graf--trailing"><a href="https://developer.apple.com/documentation/swift/array/shuffled%28%29" data-href="https://developer.apple.com/documentation/swift/array/shuffled()" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swift/array/shuffled()"><strong class="markup--strong markup--mixtapeEmbed-strong">shuffled() | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Returns the elements of the sequence, shuffled.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swift/array/shuffled%28%29" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="87b6065efd0a304a6e1a409595ce012f" data-thumbnail-img-id="0*pH9dibRwdy31YY_O" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*pH9dibRwdy31YY_O);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/85fa69a08215"><time class="dt-published" datetime="2018-07-26T15:25:53.401Z">July 26, 2018</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swift-4-2-%E6%9B%B4%E6%96%B9%E4%BE%BF%E7%9A%84%E4%BA%82%E6%95%B8-random-function-85fa69a08215" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>