<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>讓 UIPickerView 取代鍵盤吧 — 利用 inputView &amp; inputAccessoryView</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">讓 UIPickerView 取代鍵盤吧 — 利用 inputView &amp; inputAccessoryView</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們時常從 Picker View 輸入選擇的項目。而 Picker View 出現的方式有許多種，其中一種常見的設計是像鍵盤一樣由下而上出現，例如下圖高鐵 App 的地點選擇。
</section>
<section data-field="body" class="e-content">
<section name="65dc" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0199" id="0199" class="graf graf--h3 graf--leading graf--title">讓 UIPickerView 取代鍵盤吧 — 利用 inputView &amp; inputAccessoryView</h3><p name="29ff" id="29ff" class="graf graf--p graf-after--h3">開發 iOS App 時，我們時常從 Picker View 輸入選擇的項目。而 Picker View 出現的方式有許多種，其中一種常見的設計是像鍵盤一樣由下而上出現，例如下圖高鐵 App 的地點選擇。</p><figure name="04ac" id="04ac" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZJhBuDspsfiCr8E_6gdROg.png" data-width="1264" data-height="1314" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*ZJhBuDspsfiCr8E_6gdROg.png"></figure><p name="cade" id="cade" class="graf graf--p graf-after--figure">這樣的功能其實不難實現，比方我們可利用隱藏的 text filed，inputView &amp; inputAccessoryView。</p><p name="b02f" id="b02f" class="graf graf--p graf-after--p">接下來我們將以選擇好聽的黑色歌曲為例，示範如何實現取代鍵盤的 UIPickerView，讓它像鍵盤一樣由下而上出現，並在 picker view 的上方加上一條搭配 button 的 bar，方便使用者確定和取消選取。</p><h3 name="ecbc" id="ecbc" class="graf graf--h3 graf-after--p">從 storyboard 設計畫面</h3><ul class="postList"><li name="d27e" id="d27e" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">加入 label &amp; tap gesture recognizer</strong></li></ul><p name="2f60" id="2f60" class="graf graf--p graf-after--li">我們希望點選 label 後出現 picker view，因此加入 label 後，請勾選 label 的 User Interaction Enabled，然後將 tap gesture recognizer 加到 label 上。</p><figure name="f313" id="f313" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Y1VzEqhPu6x0t_PzTWk4zw.png" data-width="1144" data-height="436" src="https://cdn-images-1.medium.com/max/800/1*Y1VzEqhPu6x0t_PzTWk4zw.png"></figure><figure name="bc19" id="bc19" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*oiycPYsc5N9-Z96wYr96Lg.png" data-width="530" data-height="1042" src="https://cdn-images-1.medium.com/max/800/1*oiycPYsc5N9-Z96wYr96Lg.png"></figure><ul class="postList"><li name="8920" id="8920" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">加入 picker view</strong></li></ul><p name="e56c" id="e56c" class="graf graf--p graf-after--li">將 picker view 加到 Exit 下，讓它出現在畫面之外，因為 picker view 將在 label 點選時才出現。</p><figure name="f7ee" id="f7ee" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*xgxyB5Si--K2LpR63iE9Og.png" data-width="1164" data-height="616" src="https://cdn-images-1.medium.com/max/800/1*xgxyB5Si--K2LpR63iE9Og.png"></figure><p name="4a7e" id="4a7e" class="graf graf--p graf-after--figure">將 controller 設為 picker view 的 data source &amp; delegate。</p><figure name="6649" id="6649" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*7BjnIokba1yE5GGRg7YAWA.png" data-width="1454" data-height="588" src="https://cdn-images-1.medium.com/max/800/1*7BjnIokba1yE5GGRg7YAWA.png"></figure><ul class="postList"><li name="f32a" id="f32a" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">加入 Toolbar &amp; Bar Button Item</strong></li></ul><p name="7096" id="7096" class="graf graf--p graf-after--li">將 Toolbar 加到 Exit 下，讓它出現在畫面之外，因為 ToolBar 將在 label 點選時才出現在 picker view 的上方。在 Toolbar 加入 Cancel &amp; Done 的 Bar Button Item，中間則加入 Flexible Space Bar Button Item。</p><figure name="ff36" id="ff36" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RIw1JGzk0Sk3tCqw1nAiKA.png" data-width="1504" data-height="648" src="https://cdn-images-1.medium.com/max/800/1*RIw1JGzk0Sk3tCqw1nAiKA.png"></figure><ul class="postList"><li name="6108" id="6108" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">加入隱藏的 text field</strong></li></ul><p name="63e2" id="63e2" class="graf graf--p graf-after--li">在畫面上加入 text field，將它設為 hidden。隱藏的 text field 雖然看不到，但是卻責任重大，它將讓 picker view 取代鍵盤，讓 picker view 像鍵盤一樣由下而上出現。</p><figure name="e251" id="e251" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*pYIGk5PWdj-TplznmKnP-w.png" data-width="520" data-height="292" src="https://cdn-images-1.medium.com/max/800/1*pYIGk5PWdj-TplznmKnP-w.png"></figure><figure name="2ba2" id="2ba2" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*cOtsY019LrXwokN6A6d5uQ.png" data-width="522" data-height="1314" src="https://cdn-images-1.medium.com/max/800/1*cOtsY019LrXwokN6A6d5uQ.png"></figure><h3 name="9978" id="9978" class="graf graf--h3 graf-after--figure">連結 outlet &amp; action</h3><p name="5e3d" id="5e3d" class="graf graf--p graf-after--h3">tap gesture recognizer 連到 selectSong，done button 連到 selectSongDone，cancel button 連到 selectSongCancel。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="49b6" id="49b6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> songTextField: <span class="hljs-type">UITextField</span>!<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> songLabel: <span class="hljs-type">UILabel</span>!<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">var</span> songToolbar: <span class="hljs-type">UIToolbar</span>!<br />    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">var</span> songPickerView: <span class="hljs-type">UIPickerView</span>!<br />    <br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    }<br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSong</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSongCancel</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />    }<br />    <br />    <span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSongDone</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />    }<br />}</span></pre><h3 name="3732" id="3732" class="graf graf--h3 graf-after--pre">設定 picker view 顯示的內容</h3><p name="f890" id="f890" class="graf graf--p graf-after--h3">在 controller 裡加入 array songs，儲存四首好聽的黑色歌曲。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="53e9" id="53e9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br /><br />    <span class="hljs-keyword">let</span> songs <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;黑色毛衣&quot;</span>, <span class="hljs-string">&quot;黑色幽默&quot;</span>, <span class="hljs-string">&quot;黑色小狗&quot;</span>, <span class="hljs-string">&quot;黑色柳丁&quot;</span>]</span></pre><p name="ef10" id="ef10" class="graf graf--p graf-after--pre">定義 UIPickerViewDataSource &amp; UIPickerViewDelegate 的相關 function，顯示 array songs 的內容。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7e97" id="7e97" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIPickerViewDataSource</span>, <span class="hljs-title class_">UIPickerViewDelegate</span> {<br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">numberOfComponents</span>(<span class="hljs-params">in</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>) -&gt; <span class="hljs-type">Int</span> {<br />        <span class="hljs-number">1</span><br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">numberOfRowsInComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {<br />        songs.count<br />    }<br />    <br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pickerView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">pickerView</span>: <span class="hljs-type">UIPickerView</span>, <span class="hljs-params">titleForRow</span> <span class="hljs-params">row</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">forComponent</span> <span class="hljs-params">component</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">String</span>? {<br />        songs[row]<br />    }<br />}</span></pre><h3 name="29a8" id="29a8" class="graf graf--h3 graf-after--pre">設定 text field 的輸入區塊為 picker view，picker view 上方顯示 toolbar</h3><p name="fc0f" id="fc0f" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">inputView</strong></code> 是 text filed 輸入時從下方冒出的輸入區塊，它預設是內建的鍵盤，我們將它換成 picker view。<code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">inputAccessoryView</strong></code> 是輸入區塊上方的輔助區塊，我們將它換成 toolbar，因此 toolbar 將長在 picker view 上方。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="55fc" id="55fc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <br />        songTextField.inputView <span class="hljs-operator">=</span> songPickerView<br />        songTextField.inputAccessoryView <span class="hljs-operator">=</span> songToolbar<br />}</span></pre><h3 name="81c3" id="81c3" class="graf graf--h3 graf-after--pre">點選 label 時顯示 picker view</h3><p name="51f9" id="51f9" class="graf graf--p graf-after--h3">點選 label 會呼叫 selectSong，我們從 text filed 呼叫 becomeFirstResponder，觸發 text filed 的輸入區塊出現。由於 inputView 已被我們換成 picker view，因此會變成 picker view 出現。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c894" id="c894" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSong</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        songTextField.becomeFirstResponder()<br />}</span></pre><h3 name="dbc8" id="dbc8" class="graf graf--h3 graf-after--pre">點擊 toolbar 的 button 關閉 picker view，在 label 上顯示選取的歌曲</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="01cb" id="01cb" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSongCancel</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        view.endEditing(<span class="hljs-literal">true</span>)<br />}<br />    <br /><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectSongDone</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-keyword">Any</span>) {<br />        <span class="hljs-keyword">let</span> row <span class="hljs-operator">=</span> songPickerView.selectedRow(inComponent: <span class="hljs-number">0</span>)<br />        songLabel.text <span class="hljs-operator">=</span> songs[row]<br />        view.endEditing(<span class="hljs-literal">true</span>)<br />}</span></pre><h3 name="8209" id="8209" class="graf graf--h3 graf-after--pre">執行 App</h3><p name="29fb" id="29fb" class="graf graf--p graf-after--h3">點擊 label 後 picker 真的出現了 ! 彼得潘因為穿著黑色毛衣，因此選擇它，然後點選 Done，讓 label 上的文字變成黑色毛衣。</p><figure name="1e67" id="1e67" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*W2CJVea8t2x0ift2FWk7DQ.png" data-width="1622" data-height="1144" src="https://cdn-images-1.medium.com/max/800/1*W2CJVea8t2x0ift2FWk7DQ.png"></figure><h3 name="5e42" id="5e42" class="graf graf--h3 graf-after--figure">範例連結</h3><div name="4b10" id="4b10" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://github.com/AppPeterPan/DemoPickerInputView" data-href="https://github.com/AppPeterPan/DemoPickerInputView" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/AppPeterPan/DemoPickerInputView"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - AppPeterPan/DemoPickerInputView</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can&#39;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or…</em>github.com</a><a href="https://github.com/AppPeterPan/DemoPickerInputView" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f84a1dc2e50c0b82fced5db48e63821e" data-thumbnail-img-id="0*PQNQl3ZU884VnC2z" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*PQNQl3ZU884VnC2z);"></a></div><figure name="8c4b" id="8c4b" class="graf graf--figure graf--iframe graf-after--mixtapeEmbed graf--trailing"><iframe src="https://www.youtube.com/embed/bX33UI9ZPLk?feature=oembed" width="640" height="480" frameborder="0" scrolling="no"></iframe></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/5a6cd4a5de78"><time class="dt-published" datetime="2022-08-02T08:35:05.258Z">August 2, 2022</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%AE%93-uipickerview-%E5%8F%96%E4%BB%A3%E9%8D%B5%E7%9B%A4%E5%90%A7-%E5%88%A9%E7%94%A8-inputview-inputaccessoryview-5a6cd4a5de78" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>