<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>使用 #Preview 預覽 UIBezierPath 的繪圖結果</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">使用 #Preview 預覽 UIBezierPath 的繪圖結果</h1>
</header>
<section data-field="subtitle" class="p-summary">
從 Xcode 15 開始，我們可以利用 #Preview 預覽 App 畫面，因此我們可以利用它一邊用 UIBezierPath 繪圖，一邊從預覽畫面觀看繪製的結果。
</section>
<section data-field="body" class="e-content">
<section name="098f" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="901d" id="901d" class="graf graf--h3 graf--leading graf--title">使用 #Preview 預覽 UIBezierPath 的繪圖結果</h3><p name="107b" id="107b" class="graf graf--p graf-after--h3">從 Xcode 15 開始，我們可以利用 #Preview 預覽 App 畫面，因此我們可以利用它一邊用 UIBezierPath 繪圖，一邊從預覽畫面觀看繪製的結果。</p><p name="ea59" id="ea59" class="graf graf--p graf-after--p">接下來讓我們一邊說明 UIBezierPath 繪圖的原理，一邊介紹如何利用 #Preview 預覽繪製的結果。</p><h3 name="972f" id="972f" class="graf graf--h3 graf-after--p">加入 App 的預覽畫面</h3><p name="d4cd" id="d4cd" class="graf graf--p graf-after--h3">建立 iOS App 專案，Interface 選擇 storyboard，在 ViewController.swift 的下方加入以下程式，此段程式將讓右邊出現 App 的預覽畫面。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7378" id="7378" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">#<span class="hljs-type">Preview</span> {<br />    <span class="hljs-type">UIStoryboard</span>(name: <span class="hljs-string">&quot;Main&quot;</span>, bundle: <span class="hljs-literal">nil</span>).instantiateInitialViewController()<span class="hljs-operator">!</span><br />}</span></pre><figure name="28e0" id="28e0" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*TmYfGuIe4QiizMEzjzcAeQ.png" data-width="2266" data-height="1560" src="https://cdn-images-1.medium.com/max/800/1*TmYfGuIe4QiizMEzjzcAeQ.png"></figure><h3 name="e8fb" id="e8fb" class="graf graf--h3 graf-after--figure">在 function viewDidLoad 裡繪圖</h3><p name="2b1a" id="2b1a" class="graf graf--p graf-after--h3">剛剛我們順利地看到了預覽畫面，但是它卻是一片空白。這是當然的，因為我們還沒有繪製任何圖案。</p><p name="62d7" id="62d7" class="graf graf--p graf-after--p">接下來我們將在 function viewDidLoad 裡利用 UIBezierPath 繪圖。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b700" id="b700" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />        <br />}</span></pre><h3 name="e878" id="e878" class="graf graf--h3 graf-after--pre">利用 UIBezierPath 繪製路徑</h3><p name="250d" id="250d" class="graf graf--p graf-after--h3">在繪圖之前請先參考以下文章的教學，了解利用 UIBezierPath 繪製路徑的原理。</p><div name="ce00" id="ce00" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E8%B7%AF%E7%B6%93%E7%9A%84%E5%8E%9F%E7%90%86-68a59908df56" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E8%B7%AF%E7%B6%93%E7%9A%84%E5%8E%9F%E7%90%86-68a59908df56" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E8%B7%AF%E7%B6%93%E7%9A%84%E5%8E%9F%E7%90%86-68a59908df56"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 UIBezierPath 繪製路經的原理</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們可以利用 UIBezierPath 繪製路徑，然後搭配 CAShapeLayer 做出任意形狀的 view。接下來我們就以繪製三角形為例，一步步說明利用 UIBezierPath 繪製路經的原理。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E8%B7%AF%E7%B6%93%E7%9A%84%E5%8E%9F%E7%90%86-68a59908df56" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bfce4af1407fe69f1a3122a7acfbf96b" data-thumbnail-img-id="1*gD0VJY2WMimNUky_XVO3Lg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*gD0VJY2WMimNUky_XVO3Lg.jpeg);"></a></div><p name="fce7" id="fce7" class="graf graf--p graf-after--mixtapeEmbed">以下我們在 viewDidLoad 裡利用 UIBezierPath 繪製三角形的路徑。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="980a" id="980a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"> <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />     <span class="hljs-keyword">super</span>.viewDidLoad()<br />     <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />     <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />     path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>))<br />     path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />     path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />     path.close()<br />}</span></pre><h3 name="1d50" id="1d50" class="graf graf--h3 graf-after--pre">生成能顯示在畫面上的形狀，CAShapeLayer</h3><p name="b77d" id="b77d" class="graf graf--p graf-after--h3">IBezierPath 繪製的路徑是虛擬的，無法顯示在 App 畫面上，就像我們告白時用手在空氣中畫愛心一樣。因此接下來我們要產生能顯示在畫面上的 CAShapeLayer。</p><p name="69c6" id="69c6" class="graf graf--p graf-after--p">CAShapeLayer 代表某種形狀，我們透過它的 path 設定形狀。然而 triangleLayer.path 的型別是 CGPath，因此以下程式將產生錯誤。</p><figure name="566c" id="566c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*L3K0MzsFPludHIzkbN9XRA.png" data-width="1664" data-height="632" src="https://cdn-images-1.medium.com/max/800/1*L3K0MzsFPludHIzkbN9XRA.png"></figure><figure name="2304" id="2304" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*GNAnM_2spZEtdKUQeQyNSA.png" data-width="1290" data-height="562" src="https://cdn-images-1.medium.com/max/800/1*GNAnM_2spZEtdKUQeQyNSA.png"><figcaption class="imageCaption">triangleLayer.path 的型別是 CGPath</figcaption></figure><p name="4fea" id="4fea" class="graf graf--p graf-after--figure">我們必須利用 path.cgPath 讀取 CGPath 型別的三角形路徑後再存入 triangleLayer.path。</p><figure name="1ff9" id="1ff9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*bgkk6YanTBgxLkei9Ktyqw.png" data-width="1270" data-height="288" src="https://cdn-images-1.medium.com/max/800/1*bgkk6YanTBgxLkei9Ktyqw.png"></figure><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="3a72" id="3a72" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />    path.close()<br />        <br />    <span class="hljs-keyword">let</span> triangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    triangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br /><br />}</span></pre><h3 name="e4ee" id="e4ee" class="graf graf--h3 graf-after--pre">將 CAShapeLayer 加到 view 上</h3><p name="29a0" id="29a0" class="graf graf--p graf-after--h3">此時預覽畫面還是一片空白，因為它顯示的是空白的 view，而不是我們剛剛產生的 triangleLayer<strong class="markup--strong markup--p-strong">。</strong>因此我們還要加入關鍵的一行，利用 <code class="markup--code markup--p-code">view.layer.addSublayer(triangleLayer)</code> 將 triangleLayer 加到 view 上。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="0b9c" id="0b9c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />    path.close()<br />        <br />    <span class="hljs-keyword">let</span> triangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    triangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    view.layer.addSublayer(triangleLayer)<br /><br />}</span></pre><h3 name="0a12" id="0a12" class="graf graf--h3 graf-after--pre">預覽繪製的形狀</h3><p name="2b75" id="2b75" class="graf graf--p graf-after--h3">Cool，我們成功地在右邊的預覽畫面看到三角形。</p><figure name="70a5" id="70a5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*mntHOhPX8Zmx8vH8nOXwog.png" data-width="918" data-height="1372" src="https://cdn-images-1.medium.com/max/800/1*mntHOhPX8Zmx8vH8nOXwog.png"></figure><p name="5a70" id="5a70" class="graf graf--p graf-after--figure">而且更令人開心的，當我們對繪製的程式做任何修改時，馬上就能在右邊的預覽畫面看到結果，實現一邊以程式畫圖，一邊從預覽畫面觀看結果的夢想。</p><figure name="a5d3" id="a5d3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*i-VxjkFLUwoUPhzxvKEpJw.png" data-width="2418" data-height="1500" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*i-VxjkFLUwoUPhzxvKEpJw.png"></figure><p name="9b63" id="9b63" class="graf graf--p graf-after--figure">不過有時它會忘了自動更新，此時可按下方的三角形強迫它更新。</p><figure name="125f" id="125f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Z5Oe-vXBmLm_0o0RJbmedw.png" data-width="364" data-height="86" src="https://cdn-images-1.medium.com/max/800/1*Z5Oe-vXBmLm_0o0RJbmedw.png"></figure><h3 name="b3ab" id="b3ab" class="graf graf--h3 graf-after--figure">設定 CAShapeLayer 填滿形狀的顏色</h3><p name="121c" id="121c" class="graf graf--p graf-after--h3">CAShapeLayer 預設以黑色填滿，我們可以設定 CAShapeLayer 的 fillColor，改變它填滿的顏色。由於 fillColor 的型別是 CGColor，所以我們需要給它型別 CGColor 的東西。</p><figure name="4e78" id="4e78" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PDYVR1z6X8UPqiVIPdKo4g.png" data-width="1012" data-height="418" src="https://cdn-images-1.medium.com/max/800/1*PDYVR1z6X8UPqiVIPdKo4g.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="175b" id="175b" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content">triangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">0</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">1</span>)</span></pre><figure name="23af" id="23af" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*TDYYFs0xojg1c9MG5n-lFw.png" data-width="602" data-height="338" src="https://cdn-images-1.medium.com/max/800/1*TDYYFs0xojg1c9MG5n-lFw.png"></figure><h3 name="5870" id="5870" class="graf graf--h3 graf-after--figure">繪製線條</h3><p name="6d0d" id="6d0d" class="graf graf--p graf-after--h3">有時我們希望繪製線條，而不是填滿的形狀。此時可透過 CAShapeLayer 的 strokeColor 設定邊框的顏色，lineWidth 設定邊框的寬度。(stroke 描述繪圖的筆畫，因此 strokeColor 表示 UIBezierPath 畫出的線條顏色。)</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2faf" id="2faf" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> triangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />triangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />triangleLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">0</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">1</span>)<br />triangleLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />view.layer.addSublayer(triangleLayer)</span></pre><figure name="2195" id="2195" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*ySK_ljf5iHLd4bRwYTlsCQ.png" data-width="586" data-height="292" src="https://cdn-images-1.medium.com/max/800/1*ySK_ljf5iHLd4bRwYTlsCQ.png"></figure><p name="e2f9" id="e2f9" class="graf graf--p graf-after--figure">不過此時三角形的中間卻是黑色的，因為 CAShapeLayer 預設會填滿黑色。若想只有線條，我們可以將 fillColor 設為代表透明的 clear color。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="563f" id="563f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> triangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />triangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />triangleLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">0</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">1</span>)<br />triangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />triangleLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />view.layer.addSublayer(triangleLayer)</span></pre><figure name="627b" id="627b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*Qxzcysl_DGxAXyJlMeY7QQ.png" data-width="588" data-height="278" src="https://cdn-images-1.medium.com/max/800/1*Qxzcysl_DGxAXyJlMeY7QQ.png"></figure><h3 name="2f33" id="2f33" class="graf graf--h3 graf-after--figure">加入多個 layer</h3><p name="7e7e" id="7e7e" class="graf graf--p graf-after--h3">我們可利用 addSublayer 加入多個 layer，比方以下例子，加入一個藍色的實心三角形和紅色的空心三角形。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3415" id="3415" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-comment">// 藍色實心三角形</span><br />    <span class="hljs-keyword">var</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">50</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />    path.close()<br />    <span class="hljs-keyword">let</span> blueTriangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    blueTriangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    blueTriangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">0</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">1</span>)<br />    view.layer.addSublayer(blueTriangleLayer)<br />    <br />    <span class="hljs-comment">// 紅色空心三角形</span><br />    path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">150</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">200</span>, y: <span class="hljs-number">200</span>))<br />    path.close()<br />    <span class="hljs-keyword">let</span> redTriangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    redTriangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    redTriangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />    redTriangleLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />    redTriangleLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">1</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)<br />    view.layer.addSublayer(redTriangleLayer)<br />    <br />}</span></pre><p name="13f8" id="13f8" class="graf graf--p graf-after--pre">由於我們先加入 blueTriangleLayer，再加入 redTriangleLayer，因此 redTriangleLayer 會蓋住 blueTriangleLayer，愈後面加入的在愈上層，就像疊疊樂一樣。</p><figure name="11b2" id="11b2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ool14kcPXaTmmaRvLiEPxQ.png" data-width="562" data-height="334" src="https://cdn-images-1.medium.com/max/800/1*ool14kcPXaTmmaRvLiEPxQ.png"></figure><h3 name="3def" id="3def" class="graf graf--h3 graf-after--figure">繪製特定形狀的三個步驟</h3><p name="9a68" id="9a68" class="graf graf--p graf-after--h3">透過剛剛的例子，我們了解繪製特定形狀可透過以下三個步驟實現:</p><ul class="postList"><li name="e718" id="e718" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">利用 UIBezierPath 繪製形狀的路徑。</strong></li><li name="3f3d" id="3f3d" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">產生 CAShapeLayer，將它變成 UIBezierPath 繪製的形狀。</strong></li><li name="f675" id="f675" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">利用 addSublayer 加入 CAShapeLayer。</strong></li></ul><h3 name="7181" id="7181" class="graf graf--h3 graf-after--li">UIView &amp; CAShapeLayer</h3><p name="76d0" id="76d0" class="graf graf--p graf-after--h3">UIView &amp; CAShapeLayer 都能顯示在畫面上，因此設計 App 畫面時，我們可以利用一個個 UIView 堆疊畫面，也可以利用 CAShapeLayer。一個 view 上可以呼叫 addSubview 加入很多 view 當它的 subview，一個 view 上也可以呼叫 addSublayer<strong class="markup--strong markup--p-strong"> </strong>加入很多 layer 當它的 sublayer。</p><p name="4499" id="4499" class="graf graf--p graf-after--p">以下範例我們在 view 上依序加入 greenView，redTriangleLayer，blueTriangleLayer，yellowView，因此它們的階層順序將是綠色正方形在最底層，黃色長方形在最上層。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6501" id="6501" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><br /><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-comment">// 綠色正方形</span><br />    <span class="hljs-keyword">let</span> greenView <span class="hljs-operator">=</span> <span class="hljs-type">UIView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>, width: <span class="hljs-number">150</span>, height: <span class="hljs-number">150</span>))<br />    greenView.backgroundColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.green<br />    view.addSubview(greenView)<br />    <br />    <span class="hljs-comment">// 藍色實心三角形</span><br />    <span class="hljs-keyword">var</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">50</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />    path.close()<br />    <span class="hljs-keyword">let</span> blueTriangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    blueTriangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    blueTriangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">0</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">1</span>, alpha: <span class="hljs-number">1</span>)<br />    view.layer.addSublayer(blueTriangleLayer)<br />    <br />    <span class="hljs-comment">// 紅色空心三角形</span><br />    path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">150</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">200</span>, y: <span class="hljs-number">200</span>))<br />    path.close()<br />    <span class="hljs-keyword">let</span> redTriangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    redTriangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    redTriangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />    redTriangleLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">10</span><br />    redTriangleLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">1</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)<br />    view.layer.addSublayer(redTriangleLayer)<br />    <br />    <span class="hljs-comment">// 黃色長方形</span><br />    <span class="hljs-keyword">let</span> yellowView <span class="hljs-operator">=</span> <span class="hljs-type">UIView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">60</span>, y: <span class="hljs-number">70</span>, width: <span class="hljs-number">80</span>, height: <span class="hljs-number">50</span>))<br />    yellowView.backgroundColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.yellow<br />    view.addSubview(yellowView)<br />    <br />}</span></pre><figure name="4524" id="4524" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*JxmSV_ufvBc39dCZ8yOEFQ.png" data-width="576" data-height="328" src="https://cdn-images-1.medium.com/max/800/1*JxmSV_ufvBc39dCZ8yOEFQ.png"></figure><p name="6ef1" id="6ef1" class="graf graf--p graf-after--figure">通常繪製複雜的視覺效果，比方特別的形狀或漸層時，比較適合用 layer。關於 view 和 layer 的相關說明，可參考以下 AI 的說明。</p><div name="350d" id="350d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://chat.openai.com/share/24e4228c-da81-46eb-824d-b83883a4a620" data-href="https://chat.openai.com/share/24e4228c-da81-46eb-824d-b83883a4a620" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://chat.openai.com/share/24e4228c-da81-46eb-824d-b83883a4a620"><strong class="markup--strong markup--mixtapeEmbed-strong">ChatGPT</strong><br><em class="markup--em markup--mixtapeEmbed-em">ChatGPT is a free-to-use AI system. Use it for engaging conversations, gain insights, automate tasks, and witness the…</em>chat.openai.com</a><a href="https://chat.openai.com/share/24e4228c-da81-46eb-824d-b83883a4a620" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6289bf0c2d404db54bf467c344ff7f34" data-thumbnail-img-id="0*t3t8gNh4qMP6BCyV" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*t3t8gNh4qMP6BCyV);"></a></div><h3 name="8a23" id="8a23" class="graf graf--h3 graf-after--mixtapeEmbed">運用 UIBezierPath 繪製可愛圖案</h3><p name="72ee" id="72ee" class="graf graf--p graf-after--h3">了解如何繪製簡單的三角形後，接下來讓我們進一步挑戰參考圖片繪製可愛的圖案。</p><h3 name="fa07" id="fa07" class="graf graf--h3 graf-after--p">準備繪製的圖片</h3><p name="b393" id="b393" class="graf graf--p graf-after--h3">以可愛的星星弟弟為例。</p><p name="e0c7" id="e0c7" class="graf graf--p graf-after--p"><a href="https://www.pinterest.com/pin/331014641344432049/" data-href="https://www.pinterest.com/pin/331014641344432049/" class="markup--anchor markup--p-anchor" rel="noopener ugc nofollow noopener" target="_blank">https://www.pinterest.com/pin/331014641344432049/</a></p><figure name="2015" id="2015" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Evnjvp7Gg8QLXlvdtmld2A.png" data-width="350" data-height="395" src="https://cdn-images-1.medium.com/max/800/1*Evnjvp7Gg8QLXlvdtmld2A.png"></figure><p name="cf68" id="cf68" class="graf graf--p graf-after--figure">建議圖片先縮小到小於 iPhone 螢幕的尺寸，這樣繪製時才不會超出 iPhone 的螢幕。在 Mac 上修改圖片尺寸的方法可參考以下連結。</p><div name="ee49" id="ee49" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-preview-%E9%A0%90%E8%A6%BD%E7%A8%8B%E5%BC%8F-%E8%AA%BF%E6%95%B4%E5%9C%96%E7%89%87%E7%9A%84%E5%B0%BA%E5%AF%B8-17304d6aca6f" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-preview-%E9%A0%90%E8%A6%BD%E7%A8%8B%E5%BC%8F-%E8%AA%BF%E6%95%B4%E5%9C%96%E7%89%87%E7%9A%84%E5%B0%BA%E5%AF%B8-17304d6aca6f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-preview-%E9%A0%90%E8%A6%BD%E7%A8%8B%E5%BC%8F-%E8%AA%BF%E6%95%B4%E5%9C%96%E7%89%87%E7%9A%84%E5%B0%BA%E5%AF%B8-17304d6aca6f"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 Preview(預覽程式)調整圖片的尺寸 &amp; 輸出 png 格式</strong><br><em class="markup--em markup--mixtapeEmbed-em">使用 Mac 內建的 Preview(預覽程式) 可以快速調整圖片的尺寸 &amp; 輸出 png 格式。最近彼得潘的偶像 Penny 推出新專輯被動的觀眾，以下我們示範將專輯的封面圖片變成 1024 * 1024 pixel。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%88%A9%E7%94%A8-preview-%E9%A0%90%E8%A6%BD%E7%A8%8B%E5%BC%8F-%E8%AA%BF%E6%95%B4%E5%9C%96%E7%89%87%E7%9A%84%E5%B0%BA%E5%AF%B8-17304d6aca6f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6e186ae4d3dd435a5fffadc9a21aa80f" data-thumbnail-img-id="1*E-aabVKIw60oRjFSeVQ_Lw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*E-aabVKIw60oRjFSeVQ_Lw.png);"></a></div><h3 name="a7b3" id="a7b3" class="graf graf--h3 graf-after--mixtapeEmbed">將圖片上傳到查詢座標顏色的網站 iview</h3><p name="8264" id="8264" class="graf graf--p graf-after--h3">參考圖片繪圖時最困難的莫過於如何得知圖片裡形狀的座標和顏色。不過別擔心，感謝方便的 iview 網站，我們只要將圖片上傳，即可查詢圖片的座標顏色。(ps: 如果覺得圖片太小不容易查座標，可按 cmd + 將網頁放大。)</p><p name="b0d5" id="b0d5" class="graf graf--p graf-after--p"><a href="https://yangcha.github.io/iview/iview.html" data-href="https://yangcha.github.io/iview/iview.html" class="markup--anchor markup--p-anchor" rel="noopener ugc nofollow noopener" target="_blank">https://yangcha.github.io/iview/iview.html</a></p><figure name="906f" id="906f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*uNQAgAl9F8q_8ORGlJzQew.png" data-width="1400" data-height="805" src="https://cdn-images-1.medium.com/max/800/1*uNQAgAl9F8q_8ORGlJzQew.png"></figure><p name="c2f5" id="c2f5" class="graf graf--p graf-after--figure">ps: 其它獲取顏色的方法。</p><div name="70be" id="70be" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-mac-%E5%85%A7%E5%BB%BA%E7%9A%84-digital-color-meter-%E7%8D%B2%E5%8F%96%E9%A1%8F%E8%89%B2%E7%9A%84-rgb-cfa93709371f" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-mac-%E5%85%A7%E5%BB%BA%E7%9A%84-digital-color-meter-%E7%8D%B2%E5%8F%96%E9%A1%8F%E8%89%B2%E7%9A%84-rgb-cfa93709371f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-mac-%E5%85%A7%E5%BB%BA%E7%9A%84-digital-color-meter-%E7%8D%B2%E5%8F%96%E9%A1%8F%E8%89%B2%E7%9A%84-rgb-cfa93709371f"><strong class="markup--strong markup--mixtapeEmbed-strong">使用 Mac 內建的 Digital Color Meter 獲取顏色的 RGB</strong><br><em class="markup--em markup--mixtapeEmbed-em">最近發現 Mac 內建方便的顏色選取 App Digital Color Meter，透過它我們可以輕鬆獲取顏色的 RGB。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E4%BD%BF%E7%94%A8-mac-%E5%85%A7%E5%BB%BA%E7%9A%84-digital-color-meter-%E7%8D%B2%E5%8F%96%E9%A1%8F%E8%89%B2%E7%9A%84-rgb-cfa93709371f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a28eb533080a9149cb2f29d622c055e2" data-thumbnail-img-id="1*T8cAdgs5UQ_ii32l1QUNTA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*T8cAdgs5UQ_ii32l1QUNTA.png);"></a></div><h3 name="dc22" id="dc22" class="graf graf--h3 graf-after--mixtapeEmbed">依據網站標示的座標顏色繪製星星</h3><figure name="5eeb" id="5eeb" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*KDtTWdGLu-s_x4jN2WBPkQ.png" data-width="1400" data-height="875" src="https://cdn-images-1.medium.com/max/800/1*KDtTWdGLu-s_x4jN2WBPkQ.png"></figure><figure name="c5e7" id="c5e7" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*Tg5enp5qYDXfzRh1TXCCKA.png" data-width="1102" data-height="906" src="https://cdn-images-1.medium.com/max/800/1*Tg5enp5qYDXfzRh1TXCCKA.png"></figure><p name="f1f4" id="f1f4" class="graf graf--p graf-after--figure">繪製時建議先繪製線條，方便我們從右邊的預覽觀看形狀。因此我們先設定 CAShapeLayer 的 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">strokeColor &amp; lineWidth</strong></code>，並將 fillColor 設為透明。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1404" id="1404" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">182</span>, y: <span class="hljs-number">27</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">224</span>, y: <span class="hljs-number">120</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">322</span>, y: <span class="hljs-number">139</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">258</span>, y: <span class="hljs-number">217</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">270</span>, y: <span class="hljs-number">326</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">182</span>, y: <span class="hljs-number">282</span>))<br />   <br />    <span class="hljs-keyword">let</span> starLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    starLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    starLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />    starLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.black.cgColor<br />    starLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br />    view.layer.addSublayer(starLayer)<br />    <br />}</span></pre><figure name="928e" id="928e" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*r6vxUUzdJbmgV1HGrmBaLw.png" data-width="588" data-height="490" src="https://cdn-images-1.medium.com/max/800/1*r6vxUUzdJbmgV1HGrmBaLw.png"></figure><p name="0289" id="0289" class="graf graf--p graf-after--figure">形狀畫好後，接著要移除線條或填滿顏色都可以。比方我們想貪心地同時擁有線條跟填滿顏色，完整程式如下:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="565f" id="565f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">182</span>, y: <span class="hljs-number">27</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">224</span>, y: <span class="hljs-number">120</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">322</span>, y: <span class="hljs-number">139</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">258</span>, y: <span class="hljs-number">217</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">270</span>, y: <span class="hljs-number">326</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">182</span>, y: <span class="hljs-number">282</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">90</span>, y: <span class="hljs-number">326</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">101</span>, y: <span class="hljs-number">221</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">28</span>, y: <span class="hljs-number">143</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">128</span>, y: <span class="hljs-number">121</span>))<br />    path.close()<br />    <br />    <span class="hljs-keyword">let</span> starLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    starLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    starLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.yellow.cgColor<br />    starLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.black.cgColor<br />    starLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br />    view.layer.addSublayer(starLayer)<br />    <br />}</span></pre><figure name="9c9a" id="9c9a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*LUGCT3SQH5-myimr8qI-Qg.png" data-width="602" data-height="486" src="https://cdn-images-1.medium.com/max/800/1*LUGCT3SQH5-myimr8qI-Qg.png"></figure><p name="3f30" id="3f30" class="graf graf--p graf-after--figure">現在我們已經成功畫出星星，但要成為下圖可愛的星星弟弟還有滿大的距離。仔細觀察下圖，星星弟弟有一些形狀和線條是曲線，可不是單純的直線呢。</p><figure name="efe9" id="efe9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Evnjvp7Gg8QLXlvdtmld2A.png" data-width="350" data-height="395" src="https://cdn-images-1.medium.com/max/800/1*Evnjvp7Gg8QLXlvdtmld2A.png"></figure><h3 name="d041" id="d041" class="graf graf--h3 graf-after--figure">繪製彎曲的曲線</h3><ul class="postList"><li name="0bea" id="0bea" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">畫出某個弧度的曲線</strong></li></ul><p name="c6fe" id="c6fe" class="graf graf--p graf-after--li">使用 addQuadCurve。</p><div name="6907" id="6907" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624351-addquadcurve" data-href="https://developer.apple.com/documentation/uikit/uibezierpath/1624351-addquadcurve" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uibezierpath/1624351-addquadcurve"><strong class="markup--strong markup--mixtapeEmbed-strong">addQuadCurve(to:controlPoint:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Appends a quadratic Bézier curve to the path.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624351-addquadcurve" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="779985fa54b256016cd9785a9254f549" data-thumbnail-img-id="0*WXODL9TB0JDgjEv2" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*WXODL9TB0JDgjEv2);"></a></div><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="800a" id="800a" class="graf graf--pre graf-after--mixtapeEmbed graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>))<br />    path.addQuadCurve(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">200</span>), controlPoint: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">150</span>, y: <span class="hljs-number">125</span>))<br />    <br />    <span class="hljs-keyword">let</span> layer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    layer.path <span class="hljs-operator">=</span> path.cgPath<br />    layer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br />    layer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.black.cgColor<br />    layer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />    view.layer.addSublayer(layer)<br />    <br />}</span></pre><figure name="948d" id="948d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*_yGyEX3WLDCecCDgg3dQBQ.png" data-width="570" data-height="342" src="https://cdn-images-1.medium.com/max/800/1*_yGyEX3WLDCecCDgg3dQBQ.png"></figure><p name="e0ab" id="e0ab" class="graf graf--p graf-after--figure">如下圖所示，controlPoint 控制曲線的弧度。剛剛 <code class="markup--code markup--p-code">addQuadCurve(to: CGPoint(x: 50, y: 200), controlPoint: CGPoint(x: 150, y: 125))</code>的參數 to 對應下圖的 C 點，controlPoint 對應 B 點，那麼 A 點呢 ? A 點是在呼叫 addQuadCurve 前畫到的位置，因此是從 (50, 50) 開始。</p><figure name="5746" id="5746" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cwZZnOub65pGSxTKdJHrWg.png" data-width="1190" data-height="504" src="https://cdn-images-1.medium.com/max/800/1*cwZZnOub65pGSxTKdJHrWg.png"></figure><p name="0d98" id="0d98" class="graf graf--p graf-after--figure">以下為剛剛的 controlPoint 改成 (10, 125) &amp; (300, 125) 的例子。</p><figure name="500b" id="500b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LH-RHXeFuGpvfD4w4AXR9Q.png" data-width="562" data-height="316" src="https://cdn-images-1.medium.com/max/800/1*LH-RHXeFuGpvfD4w4AXR9Q.png"><figcaption class="imageCaption">controlPoint 是 (10, 125)</figcaption></figure><figure name="66cd" id="66cd" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*GOFWPDS0NdqsHBV8TyTOLg.png" data-width="568" data-height="326" src="https://cdn-images-1.medium.com/max/800/1*GOFWPDS0NdqsHBV8TyTOLg.png"><figcaption class="imageCaption">controlPoint 是 (300, 125)</figcaption></figure><p name="33d1" id="33d1" class="graf graf--p graf-after--figure">使用 addCurve(to:controlPoint1:controlPoint2:)。</p><div name="9af8" id="9af8" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624357-addcurve" data-href="https://developer.apple.com/documentation/uikit/uibezierpath/1624357-addcurve" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uibezierpath/1624357-addcurve"><strong class="markup--strong markup--mixtapeEmbed-strong">addCurve(to:controlPoint1:controlPoint2:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Appends a cubic Bézier curve to the path.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624357-addcurve" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="744cc121af76bf7ccf978f95044d952d" data-thumbnail-img-id="0*wrP6kEmtuL3QD6HB" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*wrP6kEmtuL3QD6HB);"></a></div><p name="25b1" id="25b1" class="graf graf--p graf-after--mixtapeEmbed">有兩個 control 點。</p><figure name="124c" id="124c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*naI2kYJVRLrclR67Ol-vzQ.png" data-width="924" data-height="360" src="https://cdn-images-1.medium.com/max/800/1*naI2kYJVRLrclR67Ol-vzQ.png"></figure><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b1ff" id="b1ff" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>))<br />path.addCurve(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">200</span>), controlPoint1: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">150</span>, y: <span class="hljs-number">125</span>), controlPoint2: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">10</span>, y: <span class="hljs-number">160</span>))</span></pre><figure name="7642" id="7642" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*x7E4K7wBymJl9i-9ZFAwLA.png" data-width="558" data-height="332" src="https://cdn-images-1.medium.com/max/800/1*x7E4K7wBymJl9i-9ZFAwLA.png"></figure><ul class="postList"><li name="6b47" id="6b47" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">繪製剛好在圓上的圓弧</strong></li></ul><p name="0f9f" id="0f9f" class="graf graf--p graf-after--li">利用 UIBezierPath 的 init(arcCenter:radius:startAngle:endAngle:clockwise:) 繪製圓弧。</p><div name="4c26" id="4c26" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624358-init" data-href="https://developer.apple.com/documentation/uikit/uibezierpath/1624358-init" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uibezierpath/1624358-init"><strong class="markup--strong markup--mixtapeEmbed-strong">init(arcCenter:radius:startAngle:endAngle:clockwise:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Creates and returns a new Bézier path object with an arc of a circle.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uibezierpath/1624358-init" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="fdbb4544565165458625cda09eb124f3" data-thumbnail-img-id="0*JvI98MwIGq48aywC" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*JvI98MwIGq48aywC);"></a></div><p name="e71c" id="e71c" class="graf graf--p graf-after--mixtapeEmbed">比方以下程式可畫出只能看不能吃的西瓜。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="979a" id="979a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <br />    <span class="hljs-keyword">let</span> aDegree <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.pi <span class="hljs-operator">/</span> <span class="hljs-number">180</span><br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>(arcCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">40</span>, startAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">0</span>, endAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">180</span>, clockwise: <span class="hljs-literal">true</span>)<br />    <br />    <span class="hljs-keyword">let</span> layer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    layer.path <span class="hljs-operator">=</span> path.cgPath<br />    layer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.red.cgColor<br />    view.layer.addSublayer(layer)<br />    <br />}</span></pre><figure name="15de" id="15de" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*zLDielKavW5VAZShDn3A9A.png" data-width="566" data-height="212" src="https://cdn-images-1.medium.com/max/800/1*zLDielKavW5VAZShDn3A9A.png"></figure><p name="05d0" id="05d0" class="graf graf--p graf-after--figure">參數說明:</p><p name="93c1" id="93c1" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">arcCenter: </strong>圓心座標。</p><p name="94e1" id="94e1" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">radius: </strong>半徑。</p><p name="edeb" id="edeb" class="graf graf--p graf-after--p">startAngle &amp; endAngle: 圓弧開始和結束的角度。圓形有 360 度，如下圖所示，在程式裡我們以 2 pi 表示 360 度，1 pi 表示 180 度。</p><figure name="4ae1" id="4ae1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*x0FDn08bNoROY3gaeztkow.png" data-width="1140" data-height="670" src="https://cdn-images-1.medium.com/max/800/1*x0FDn08bNoROY3gaeztkow.png"></figure><p name="c4c8" id="c4c8" class="graf graf--p graf-after--figure">我們都知道 pi 是 3.1415926… ，可是我們只記得前面幾位，不記得後面的數字。沒關係，iOS SDK 已經幫我們定義好，透過 Double.pi 或 CGFloat.pi 即可取得。</p><p name="9bc8" id="9bc8" class="graf graf--p graf-after--p">因此 1 度是 pi / 180，我們利用 <code class="markup--code markup--p-code">let aDegree = Double.pi / 180</code> 算出一度的大小，存在常數 aDegree。而角度 0 度的位置在右邊，180 度在左邊。startAngle 傳入 aDegree * 0，endAngle 傳入 aDegree * 180時，表示從 0 度畫到 180 度。不過由於這個例子剛好整除，所以也可以簡化成傳入 0 &amp; Double.pi。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7c7d" id="7c7d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>(arcCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">40</span>, startAngle: <span class="hljs-number">0</span>, endAngle: .pi, clockwise: <span class="hljs-literal">true</span>)</span></pre><p name="dbf7" id="dbf7" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">clockwise: </strong>是否為順時針。畫圓時可以順時針，也可以逆時針。剛剛的例子， 參數 clockwise 傳入 true，因此我們順時針從 0 度畫到 180 度，產生西瓜形狀的下半圓。</p><p name="18a2" id="18a2" class="graf graf--p graf-after--p">其它例子:</p><p name="c2b4" id="c2b4" class="graf graf--p graf-after--p">逆時針從 10 度畫到 150 度。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="bdd5" id="bdd5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> aDegree <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.pi <span class="hljs-operator">/</span> <span class="hljs-number">180</span><br /><span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>(arcCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">40</span>, startAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">10</span>, endAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">150</span>, clockwise: <span class="hljs-literal">false</span>)</span></pre><figure name="f831" id="f831" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*O2PXulHEwLfXxeSbt1brRw.png" data-width="550" data-height="206" src="https://cdn-images-1.medium.com/max/800/1*O2PXulHEwLfXxeSbt1brRw.png"></figure><p name="4001" id="4001" class="graf graf--p graf-after--figure">值得注意的，剛剛方法繪製的形狀填滿顏色時將以圓弧和圓弧兩端點連線包含的區塊，若想畫出從圓心連到圓弧兩端點的扇形，則須先用 move 移動到圓心，然後再呼叫 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">addArc(withCenter:radius:startAngle:endAngle:clockwise:)</strong></code> 加入圓弧，例如以下例子:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c5be" id="c5be" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> aDegree <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.pi <span class="hljs-operator">/</span> <span class="hljs-number">180</span><br /><span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>))<br />path.addArc(withCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">40</span>, startAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">10</span>, endAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">150</span>, clockwise: <span class="hljs-literal">false</span>)</span></pre><figure name="ba43" id="ba43" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*9th_avLGYR8Z6INb6CLz7w.png" data-width="548" data-height="214" src="https://cdn-images-1.medium.com/max/800/1*9th_avLGYR8Z6INb6CLz7w.png"></figure><p name="6604" id="6604" class="graf graf--p graf-after--figure">繪製馬蹄形。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b295" id="b295" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> aDegree <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.pi <span class="hljs-operator">/</span> <span class="hljs-number">180</span><br /><span class="hljs-comment">// 畫出比較大的外圓弧，從 (0, 50) 到 (100, 50)</span><br /><span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>(arcCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">50</span>, startAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">180</span>, endAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">0</span>, clockwise: <span class="hljs-literal">true</span>)<br /><span class="hljs-comment">// 畫出右下方的橫線，從 (100, 50) 連到 (75, 50)</span><br />path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">75</span>, y: <span class="hljs-number">50</span>))<br /><span class="hljs-comment">// 畫出比較小的內圓弧，從 (75, 50) 到 (25, 50)</span><br />path.addArc(withCenter: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>), radius: <span class="hljs-number">25</span>, startAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">0</span>, endAngle: aDegree <span class="hljs-operator">*</span> <span class="hljs-number">180</span>, clockwise: <span class="hljs-literal">false</span>)<br />path.close()</span></pre><figure name="3c8d" id="3c8d" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*MqOmf2CSJQMrf2GLD4f_Ng.png" data-width="562" data-height="204" src="https://cdn-images-1.medium.com/max/800/1*MqOmf2CSJQMrf2GLD4f_Ng.png"></figure><p name="173c" id="173c" class="graf graf--p graf-after--figure">關於曲線繪製的更多說明，也可以參考 Jaba 同學的文章。</p><div name="e2ab" id="e2ab" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%94%A8%E7%A8%8B%E5%BC%8F%E7%95%AB%E5%87%BA%E5%99%97%E6%B5%AA%E5%BD%A9%E8%99%B9%E6%97%97-uibezierpath%E7%B9%AA%E5%9C%96%E7%B7%B4%E7%BF%92-9061fe131ce1" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%94%A8%E7%A8%8B%E5%BC%8F%E7%95%AB%E5%87%BA%E5%99%97%E6%B5%AA%E5%BD%A9%E8%99%B9%E6%97%97-uibezierpath%E7%B9%AA%E5%9C%96%E7%B7%B4%E7%BF%92-9061fe131ce1" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%94%A8%E7%A8%8B%E5%BC%8F%E7%95%AB%E5%87%BA%E5%99%97%E6%B5%AA%E5%BD%A9%E8%99%B9%E6%97%97-uibezierpath%E7%B9%AA%E5%9C%96%E7%B7%B4%E7%BF%92-9061fe131ce1"><strong class="markup--strong markup--mixtapeEmbed-strong">用程式畫出噗浪彩虹旗─UIBezierPath繪圖練習</strong><br><em class="markup--em markup--mixtapeEmbed-em">◆作業5–2：運用 UIBezierPath 繪製國旗＆各種形狀圖案◆</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E7%94%A8%E7%A8%8B%E5%BC%8F%E7%95%AB%E5%87%BA%E5%99%97%E6%B5%AA%E5%BD%A9%E8%99%B9%E6%97%97-uibezierpath%E7%B9%AA%E5%9C%96%E7%B7%B4%E7%BF%92-9061fe131ce1" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="4ac3db1068143444ebe68a991b18b8b0" data-thumbnail-img-id="1*nwarKZPXVhjfZ7m6cEtdAg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*nwarKZPXVhjfZ7m6cEtdAg.png);"></a></div><h3 name="0299" id="0299" class="graf graf--h3 graf-after--mixtapeEmbed">合併 path 繪製多個形狀</h3><p name="3670" id="3670" class="graf graf--p graf-after--h3">若是想繪製的多個形狀是同一個樣式，我們也可以用一個 UIBezierPath &amp; CAShapeLayer 繪製，而不用分成多個。如以下程式所示，當我們第一次呼叫 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">path.close</strong></code> 時代表畫完第一個三角形的 path，接著呼叫 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">path.move</strong></code> 將移動畫筆，準備畫第二個形狀。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2789" id="2789" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-keyword">let</span> path <span class="hljs-operator">=</span> <span class="hljs-type">UIBezierPath</span>()<br />    <br />    <span class="hljs-comment">// 繪製第一個三角形的 path</span><br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">0</span>, y: <span class="hljs-number">50</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">0</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>))<br />    path.close()<br />    <br />    <span class="hljs-comment">// 繪製第二個三角形的 path</span><br />    path.move(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">150</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">120</span>, y: <span class="hljs-number">20</span>))<br />    path.addLine(to: <span class="hljs-type">CGPoint</span>(x: <span class="hljs-number">200</span>, y: <span class="hljs-number">200</span>))<br />    path.close()<br />    <br />    <span class="hljs-keyword">let</span> triangleLayer <span class="hljs-operator">=</span> <span class="hljs-type">CAShapeLayer</span>()<br />    triangleLayer.path <span class="hljs-operator">=</span> path.cgPath<br />    triangleLayer.fillColor <span class="hljs-operator">=</span> <span class="hljs-type">UIColor</span>.clear.cgColor<br />    triangleLayer.lineWidth <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br />    triangleLayer.strokeColor <span class="hljs-operator">=</span> <span class="hljs-type">CGColor</span>(srgbRed: <span class="hljs-number">1</span>, green: <span class="hljs-number">0</span>, blue: <span class="hljs-number">0</span>, alpha: <span class="hljs-number">1</span>)<br />    view.layer.addSublayer(triangleLayer)<br />            <br />}</span></pre><figure name="448c" id="448c" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*Q-kJheujVK1kcQOpilJAwQ.png" data-width="544" data-height="328" src="https://cdn-images-1.medium.com/max/800/1*Q-kJheujVK1kcQOpilJAwQ.png"></figure><h3 name="2d37" id="2d37" class="graf graf--h3 graf-after--figure">利用 CGAffineTransform 控制元件的縮放，位移和旋轉</h3><p name="936c" id="936c" class="graf graf--p graf-after--h3">需要繪製對稱圖形，比方星星，或是繪製多個一樣形狀的圖案，可研究利用 CGAffineTransform 控制元件的縮放，位移和旋轉。</p><div name="004f" id="004f" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cgaffinetransform-%E6%8E%A7%E5%88%B6%E5%85%83%E4%BB%B6%E7%B8%AE%E6%94%BE-%E4%BD%8D%E7%A7%BB-%E6%97%8B%E8%BD%89%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-dca1abbf9590" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cgaffinetransform-%E6%8E%A7%E5%88%B6%E5%85%83%E4%BB%B6%E7%B8%AE%E6%94%BE-%E4%BD%8D%E7%A7%BB-%E6%97%8B%E8%BD%89%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-dca1abbf9590" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cgaffinetransform-%E6%8E%A7%E5%88%B6%E5%85%83%E4%BB%B6%E7%B8%AE%E6%94%BE-%E4%BD%8D%E7%A7%BB-%E6%97%8B%E8%BD%89%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-dca1abbf9590"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 CGAffineTransform 控制元件縮放，位移，旋轉的三種方法</strong><br><em class="markup--em markup--mixtapeEmbed-em">利用 CGAffineTransform 我們可以控制元件的縮放，位移，旋轉，而且方法不只一種，因為 CGAffineTransform 可以作用在以下三種元件。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cgaffinetransform-%E6%8E%A7%E5%88%B6%E5%85%83%E4%BB%B6%E7%B8%AE%E6%94%BE-%E4%BD%8D%E7%A7%BB-%E6%97%8B%E8%BD%89%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-dca1abbf9590" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="148a6cd64bfc90ce0d63294c76748b67" data-thumbnail-img-id="1*wnfXQWwo6_uBySU8n0SyqA.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*wnfXQWwo6_uBySU8n0SyqA.jpeg);"></a></div><h3 name="3da1" id="3da1" class="graf graf--h3 graf-after--mixtapeEmbed">將 view 變成任意形狀的三種方法</h3><p name="f5ea" id="f5ea" class="graf graf--p graf-after--h3">剛剛我們利用 addSublayer 加入不同的形狀，在 iOS 上將 view 變成任意形狀的方法不只一種，比方利用 mask &amp; 定義 function draw 也可以，有興趣的朋友可參考以下連結。</p><div name="522b" id="522b" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-view-%E8%AE%8A%E6%88%90%E4%BB%BB%E6%84%8F%E5%BD%A2%E7%8B%80%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-d43e6e4b8fb5" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-view-%E8%AE%8A%E6%88%90%E4%BB%BB%E6%84%8F%E5%BD%A2%E7%8B%80%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-d43e6e4b8fb5" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-view-%E8%AE%8A%E6%88%90%E4%BB%BB%E6%84%8F%E5%BD%A2%E7%8B%80%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-d43e6e4b8fb5"><strong class="markup--strong markup--mixtapeEmbed-strong">將 view 變成任意形狀的三種方法</strong><br><em class="markup--em markup--mixtapeEmbed-em">iOS 的 App 畫面因為有著各式各樣的元件而變得美麗，然而不管是 view，label，image view 還是 button，它們預設都是長方形的形狀。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-view-%E8%AE%8A%E6%88%90%E4%BB%BB%E6%84%8F%E5%BD%A2%E7%8B%80%E7%9A%84%E4%B8%89%E7%A8%AE%E6%96%B9%E6%B3%95-d43e6e4b8fb5" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c6e52d7fd25ec852f1aa11190ca01900" data-thumbnail-img-id="1*QSQK8-L8gBMFip9NdjuN1Q.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*QSQK8-L8gBMFip9NdjuN1Q.jpeg);"></a></div><h3 name="29d9" id="29d9" class="graf graf--h3 graf-after--mixtapeEmbed">將 SVG 變成 UIBezierPath</h3><div name="ad64" id="ad64" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-svg-%E8%AE%8A%E6%88%90-uibezierpath-c9a6cd5b69ba" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-svg-%E8%AE%8A%E6%88%90-uibezierpath-c9a6cd5b69ba" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-svg-%E8%AE%8A%E6%88%90-uibezierpath-c9a6cd5b69ba"><strong class="markup--strong markup--mixtapeEmbed-strong">將 SVG 變成 UIBezierPath</strong><br><em class="markup--em markup--mixtapeEmbed-em">從 flaticon 網站下載 SVG 圖片</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-svg-%E8%AE%8A%E6%88%90-uibezierpath-c9a6cd5b69ba" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bb2aef7619bc2561596a628cc98d86fe" data-thumbnail-img-id="1*dD1QE-_2s5TQGh7HCFPvUg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*dD1QE-_2s5TQGh7HCFPvUg.jpeg);"></a></div><h3 name="14a5" id="14a5" class="graf graf--h3 graf-after--mixtapeEmbed">同學作品集</h3><p name="efc6" id="efc6" class="graf graf--p graf-after--h3">剛剛的星星弟弟只是小 case，同學們都用了無與輪比的耐心以 Swift 畫出一個個精彩的作品，有興趣的朋友可參考以下連結慢慢欣賞。</p><figure name="dbed" id="dbed" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*5qRprdNsSSvlsizLLtn_7w.png" data-width="1400" data-height="1072" src="https://cdn-images-1.medium.com/max/800/1*5qRprdNsSSvlsizLLtn_7w.png"></figure><div name="c324" id="c324" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E9%81%8B%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E5%8F%AF%E6%84%9B%E5%9C%96%E6%A1%88-%E6%AF%94%E6%96%B9%E9%9B%AA%E4%BA%BA-%E7%B1%B3%E5%A5%87-%E5%8F%AF%E6%84%9B%E5%8B%95%E7%89%A9-12d3a5ef1d6c" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E9%81%8B%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E5%8F%AF%E6%84%9B%E5%9C%96%E6%A1%88-%E6%AF%94%E6%96%B9%E9%9B%AA%E4%BA%BA-%E7%B1%B3%E5%A5%87-%E5%8F%AF%E6%84%9B%E5%8B%95%E7%89%A9-12d3a5ef1d6c" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E9%81%8B%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E5%8F%AF%E6%84%9B%E5%9C%96%E6%A1%88-%E6%AF%94%E6%96%B9%E9%9B%AA%E4%BA%BA-%E7%B1%B3%E5%A5%87-%E5%8F%AF%E6%84%9B%E5%8B%95%E7%89%A9-12d3a5ef1d6c"><strong class="markup--strong markup--mixtapeEmbed-strong">#52 運用 UIBezierPath 繪製可愛圖案，比方雪人，米奇 &amp; 可愛動物</strong><br><em class="markup--em markup--mixtapeEmbed-em">關於特殊形狀的繪製，可參考以下連結，本次作業主要使用連結裡提到的方法一 mask。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E9%81%8B%E7%94%A8-uibezierpath-%E7%B9%AA%E8%A3%BD%E5%8F%AF%E6%84%9B%E5%9C%96%E6%A1%88-%E6%AF%94%E6%96%B9%E9%9B%AA%E4%BA%BA-%E7%B1%B3%E5%A5%87-%E5%8F%AF%E6%84%9B%E5%8B%95%E7%89%A9-12d3a5ef1d6c" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d2b12cdd022fac4f82bcc384479d29a7" data-thumbnail-img-id="1*Reh8kOBfl2w_MjLe0KogRg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Reh8kOBfl2w_MjLe0KogRg.jpeg);"></a></div><div name="dee1" id="dee1" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/86-%E5%88%A9%E7%94%A8-swiftui-%E7%9A%84-path-%E7%B9%AA%E5%9C%96-8de990bc7eaf" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/86-%E5%88%A9%E7%94%A8-swiftui-%E7%9A%84-path-%E7%B9%AA%E5%9C%96-8de990bc7eaf" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/86-%E5%88%A9%E7%94%A8-swiftui-%E7%9A%84-path-%E7%B9%AA%E5%9C%96-8de990bc7eaf"><strong class="markup--strong markup--mixtapeEmbed-strong">#86 利用 SwiftUI 的 Path &amp; Shape 繪圖</strong><br><em class="markup--em markup--mixtapeEmbed-em">利用 SwiftUI 的 Path 繪製喜歡的可愛圖案， logo 或 emoji。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/86-%E5%88%A9%E7%94%A8-swiftui-%E7%9A%84-path-%E7%B9%AA%E5%9C%96-8de990bc7eaf" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="94815b17733f039ba0af33b8a1c7aa43" data-thumbnail-img-id="1*vuImqFI9HHL9uKowkFGbIQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*vuImqFI9HHL9uKowkFGbIQ.jpeg);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/f59507114217"><time class="dt-published" datetime="2023-07-07T15:28:18.167Z">July 7, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%BD%BF%E7%94%A8-preview-%E9%A0%90%E8%A6%BD-uibezierpath-%E7%9A%84%E7%B9%AA%E5%9C%96%E7%B5%90%E6%9E%9C-f59507114217" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>