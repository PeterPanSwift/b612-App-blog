<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Extensions 程式範例 — Apple’s The Swift Programming Language</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Extensions 程式範例 — Apple’s The Swift Programming Language</h1>
</header>
<section data-field="subtitle" class="p-summary">
擴充 class，structure，enumeration，protocol 的能力。
</section>
<section data-field="body" class="e-content">
<section name="c9d5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ad0b" id="ad0b" class="graf graf--h3 graf--leading graf--title">Extensions 程式範例 — Apple’s The Swift Programming Language</h3><div name="111f" id="111f" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html" data-href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html"><strong class="markup--strong markup--mixtapeEmbed-strong">Extensions - The Swift Programming Language (Swift 4.2)</strong><br><em class="markup--em markup--mixtapeEmbed-em">Extensions add new functionality to an existing class, structure, enumeration, or protocol type. This includes the…</em>docs.swift.org</a><a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="5bafcf89d1567adf5cdd6b2a6c762902"></a></div><p name="0717" id="0717" class="graf graf--p graf-after--mixtapeEmbed">擴充 class，structure，enumeration，protocol 的能力。</p><blockquote name="a4a1" id="a4a1" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Computed Properties</strong></blockquote><pre name="543d" id="543d" class="graf graf--pre graf-after--blockquote">extension Double {</pre><pre name="8d2f" id="8d2f" class="graf graf--pre graf-after--pre">   var km: Double { return self * 1_000.0 }</pre><pre name="b7c7" id="b7c7" class="graf graf--pre graf-after--pre">   var m: Double { return self }</pre><pre name="f716" id="f716" class="graf graf--pre graf-after--pre">   var cm: Double { return self / 100.0 }</pre><pre name="f4d4" id="f4d4" class="graf graf--pre graf-after--pre">   var mm: Double { return self / 1_000.0 }</pre><pre name="0df8" id="0df8" class="graf graf--pre graf-after--pre">   var ft: Double { return self / 3.28084 }</pre><pre name="7832" id="7832" class="graf graf--pre graf-after--pre">}</pre><pre name="de80" id="de80" class="graf graf--pre graf-after--pre">let oneInch = 25.4.mm</pre><pre name="ea37" id="ea37" class="graf graf--pre graf-after--pre">print(&quot;One inch is \(oneInch) meters&quot;)</pre><pre name="e33d" id="e33d" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Prints &quot;One inch is 0.0254 meters&quot;</em></pre><pre name="5f67" id="5f67" class="graf graf--pre graf-after--pre">let threeFeet = 3.ft</pre><pre name="450a" id="450a" class="graf graf--pre graf-after--pre">print(&quot;Three feet is \(threeFeet) meters&quot;)</pre><pre name="a1e3" id="a1e3" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Prints &quot;Three feet is 0.914399970739201 meters&quot;</em></pre><pre name="ee91" id="ee91" class="graf graf--pre graf-after--pre">let aMarathon = 42.km + 195.m</pre><pre name="c967" id="c967" class="graf graf--pre graf-after--pre">print(&quot;A marathon is \(aMarathon) meters long&quot;)</pre><pre name="631c" id="631c" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Prints &quot;A marathon is 42195.0 meters long&quot;</em></pre><blockquote name="e005" id="e005" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">Initializers</strong></blockquote><pre name="4c6b" id="4c6b" class="graf graf--pre graf-after--blockquote">struct Size {</pre><pre name="dbac" id="dbac" class="graf graf--pre graf-after--pre">   var width = 0.0, height = 0.0</pre><pre name="21b4" id="21b4" class="graf graf--pre graf-after--pre">}</pre><pre name="cad5" id="cad5" class="graf graf--pre graf-after--pre">struct Point {</pre><pre name="6a78" id="6a78" class="graf graf--pre graf-after--pre">   var x = 0.0, y = 0.0</pre><pre name="ef8d" id="ef8d" class="graf graf--pre graf-after--pre">}</pre><pre name="5940" id="5940" class="graf graf--pre graf-after--pre">struct Rect {</pre><pre name="3d7e" id="3d7e" class="graf graf--pre graf-after--pre">   var origin = Point()</pre><pre name="1261" id="1261" class="graf graf--pre graf-after--pre">   var size = Size()</pre><pre name="6fb8" id="6fb8" class="graf graf--pre graf-after--pre">}</pre><pre name="66b8" id="66b8" class="graf graf--pre graf-after--pre">let defaultRect = Rect()</pre><pre name="e821" id="e821" class="graf graf--pre graf-after--pre">let memberwiseRect = Rect(origin: Point(x: 2.0, y: 2.0),</pre><pre name="f59e" id="f59e" class="graf graf--pre graf-after--pre">size: Size(width: 5.0, height: 5.0))</pre><pre name="9069" id="9069" class="graf graf--pre graf-after--pre">extension Rect {</pre><pre name="97f7" id="97f7" class="graf graf--pre graf-after--pre">   init(center: Point, size: Size) {</pre><pre name="c9a7" id="c9a7" class="graf graf--pre graf-after--pre">      let originX = center.x - (size.width / 2)</pre><pre name="1cc9" id="1cc9" class="graf graf--pre graf-after--pre">      let originY = center.y - (size.height / 2)</pre><pre name="0595" id="0595" class="graf graf--pre graf-after--pre">      self.init(origin: Point(x: originX, y: originY), size: size)</pre><pre name="ca68" id="ca68" class="graf graf--pre graf-after--pre">   }</pre><pre name="f8ac" id="f8ac" class="graf graf--pre graf-after--pre">}</pre><pre name="bf8a" id="bf8a" class="graf graf--pre graf-after--pre">let centerRect = Rect(center: Point(x: 4.0, y: 4.0),</pre><pre name="92de" id="92de" class="graf graf--pre graf-after--pre">size: Size(width: 3.0, height: 3.0))</pre><pre name="502d" id="502d" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// centerRect&#39;s origin is (2.5, 2.5) and its size is (3.0, 3.0)</em></pre><p name="6eab" id="6eab" class="graf graf--p graf-after--pre">ps: extension 擴充 class 的 init 時，只能定義 convenience init。</p><blockquote name="9418" id="9418" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Methods</strong></blockquote><pre name="4969" id="4969" class="graf graf--pre graf-after--blockquote">extension Int {</pre><pre name="101c" id="101c" class="graf graf--pre graf-after--pre">   func repetitions(task: () -&gt; Void) {</pre><pre name="02b5" id="02b5" class="graf graf--pre graf-after--pre">      for _ in 0..&lt;self {</pre><pre name="2b72" id="2b72" class="graf graf--pre graf-after--pre">         task()</pre><pre name="0aea" id="0aea" class="graf graf--pre graf-after--pre">      }</pre><pre name="a682" id="a682" class="graf graf--pre graf-after--pre">   }</pre><pre name="3b3c" id="3b3c" class="graf graf--pre graf-after--pre">}<br><br></pre><pre name="ca51" id="ca51" class="graf graf--pre graf-after--pre">3.repetitions {</pre><pre name="c3cc" id="c3cc" class="graf graf--pre graf-after--pre">   print(&quot;Hello!&quot;)</pre><pre name="078a" id="078a" class="graf graf--pre graf-after--pre">}</pre><pre name="120e" id="120e" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Hello!</em></pre><pre name="4f0d" id="4f0d" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Hello!</em></pre><pre name="13dc" id="13dc" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// Hello!</em></pre><blockquote name="6631" id="6631" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">Mutating Instance Methods</strong></blockquote><p name="ef27" id="ef27" class="graf graf--p graf-after--blockquote">當 struct 或 enum 的 method 修改 self 或 self 的 property 時，必須加上 mutating。</p><pre name="7f82" id="7f82" class="graf graf--pre graf-after--p">extension Int {</pre><pre name="8eb4" id="8eb4" class="graf graf--pre graf-after--pre">   mutating func square() {</pre><pre name="7838" id="7838" class="graf graf--pre graf-after--pre">      self = self * self</pre><pre name="1f75" id="1f75" class="graf graf--pre graf-after--pre">   }</pre><pre name="4e3d" id="4e3d" class="graf graf--pre graf-after--pre">}</pre><pre name="6968" id="6968" class="graf graf--pre graf-after--pre">var someInt = 3</pre><pre name="62c4" id="62c4" class="graf graf--pre graf-after--pre">someInt.square()</pre><pre name="e345" id="e345" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// someInt is now 9</em></pre><blockquote name="f469" id="f469" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">Subscripts</strong></blockquote><p name="a752" id="a752" class="graf graf--p graf-after--blockquote">例子: 利用 subscripts 取得某一位的數字，比方 345[0] 為 5，右邊數來第一個數字，345[1] 為 4，右邊數來第二個數字。</p><pre name="6ab9" id="6ab9" class="graf graf--pre graf-after--p">extension Int {</pre><pre name="69e3" id="69e3" class="graf graf--pre graf-after--pre">   subscript(digitIndex: Int) -&gt; Int {</pre><pre name="5185" id="5185" class="graf graf--pre graf-after--pre">      var decimalBase = 1</pre><pre name="caa3" id="caa3" class="graf graf--pre graf-after--pre">      for _ in 0..&lt;digitIndex {</pre><pre name="97ea" id="97ea" class="graf graf--pre graf-after--pre">         decimalBase *= 10</pre><pre name="b75a" id="b75a" class="graf graf--pre graf-after--pre">      }</pre><pre name="5e9e" id="5e9e" class="graf graf--pre graf-after--pre">      return (self / decimalBase) % 10</pre><pre name="79a9" id="79a9" class="graf graf--pre graf-after--pre">   }</pre><pre name="4706" id="4706" class="graf graf--pre graf-after--pre">}</pre><pre name="aed0" id="aed0" class="graf graf--pre graf-after--pre">746381295[0]</pre><pre name="02f5" id="02f5" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// returns 5</em></pre><pre name="97d5" id="97d5" class="graf graf--pre graf-after--pre">746381295[1]</pre><pre name="11fb" id="11fb" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// returns 9</em></pre><pre name="eb9e" id="eb9e" class="graf graf--pre graf-after--pre">746381295[2]</pre><pre name="dd10" id="dd10" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// returns 2</em></pre><pre name="8b0b" id="8b0b" class="graf graf--pre graf-after--pre">746381295[8]</pre><pre name="6e48" id="6e48" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// returns 7</em></pre><pre name="e495" id="e495" class="graf graf--pre graf-after--pre">746381295[9]</pre><pre name="1263" id="1263" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// returns 0, as if you had requested:</em></pre><pre name="8ef8" id="8ef8" class="graf graf--pre graf-after--pre">0746381295[9]</pre><blockquote name="a8c2" id="a8c2" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">Nested Types</strong></blockquote><pre name="ec8b" id="ec8b" class="graf graf--pre graf-after--blockquote">extension Int {</pre><pre name="bba7" id="bba7" class="graf graf--pre graf-after--pre">   enum Kind {</pre><pre name="2559" id="2559" class="graf graf--pre graf-after--pre">      case negative, zero, positive</pre><pre name="426d" id="426d" class="graf graf--pre graf-after--pre">   }</pre><pre name="1da9" id="1da9" class="graf graf--pre graf-after--pre">   var kind: Kind {</pre><pre name="282b" id="282b" class="graf graf--pre graf-after--pre">      switch self {</pre><pre name="9a23" id="9a23" class="graf graf--pre graf-after--pre">      case 0:</pre><pre name="016d" id="016d" class="graf graf--pre graf-after--pre">         return .zero</pre><pre name="c610" id="c610" class="graf graf--pre graf-after--pre">      case let x where x &gt; 0:</pre><pre name="de1f" id="de1f" class="graf graf--pre graf-after--pre">         return .positive</pre><pre name="9aa7" id="9aa7" class="graf graf--pre graf-after--pre">      default:</pre><pre name="ef5b" id="ef5b" class="graf graf--pre graf-after--pre">         return .negative</pre><pre name="022c" id="022c" class="graf graf--pre graf-after--pre">      }</pre><pre name="3812" id="3812" class="graf graf--pre graf-after--pre">   }</pre><pre name="d23d" id="d23d" class="graf graf--pre graf-after--pre">}</pre><pre name="5fa3" id="5fa3" class="graf graf--pre graf-after--pre">func printIntegerKinds(_ numbers: [Int]) {</pre><pre name="9035" id="9035" class="graf graf--pre graf-after--pre">   for number in numbers {</pre><pre name="cf3c" id="cf3c" class="graf graf--pre graf-after--pre">      switch number.kind {</pre><pre name="0503" id="0503" class="graf graf--pre graf-after--pre">      case .negative:</pre><pre name="512d" id="512d" class="graf graf--pre graf-after--pre">         print(&quot;- &quot;, terminator: &quot;&quot;)</pre><pre name="b35f" id="b35f" class="graf graf--pre graf-after--pre">      case .zero:</pre><pre name="64bc" id="64bc" class="graf graf--pre graf-after--pre">         print(&quot;0 &quot;, terminator: &quot;&quot;)</pre><pre name="2212" id="2212" class="graf graf--pre graf-after--pre">      case .positive:</pre><pre name="6e63" id="6e63" class="graf graf--pre graf-after--pre">         print(&quot;+ &quot;, terminator: &quot;&quot;)</pre><pre name="247a" id="247a" class="graf graf--pre graf-after--pre">      }</pre><pre name="aa19" id="aa19" class="graf graf--pre graf-after--pre">   }</pre><pre name="195e" id="195e" class="graf graf--pre graf-after--pre">   print(&quot;&quot;)</pre><pre name="30bf" id="30bf" class="graf graf--pre graf-after--pre">}</pre><pre name="75a1" id="75a1" class="graf graf--pre graf-after--pre">printIntegerKinds([3, 19, -27, 0, -6, 0, 7])</pre><pre name="6513" id="6513" class="graf graf--pre graf-after--pre graf--trailing"><em class="markup--em markup--pre-em">// Prints &quot;+ + - 0 - 0 + &quot;</em></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/1b2e73b2792c"><time class="dt-published" datetime="2018-09-21T14:29:43.856Z">September 21, 2018</time></a>.</p><p><a href="https://medium.com/@apppeterpan/extensions-%E7%A8%8B%E5%BC%8F%E7%AF%84%E4%BE%8B-apples-the-swift-programming-language-1b2e73b2792c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>