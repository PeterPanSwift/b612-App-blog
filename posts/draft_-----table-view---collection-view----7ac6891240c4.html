<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>現代化的 table view 和 collection view 做法</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">現代化的 table view 和 collection view 做法</h1>
</header>
<section data-field="subtitle" class="p-summary">
是的沒錯喔～可愛的狐狸老師來給你撒嬌式解釋一下：
</section>
<section data-field="body" class="e-content">
<section name="ac43" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h2 name="ba1c" id="ba1c" class="graf graf--h2 graf--leading graf--title">現代化的 table view 和 collection view 做法</h2><p name="7b4a" id="7b4a" class="graf graf--p graf--empty graf-after--h2"><br></p><p name="f96d" id="f96d" class="graf graf--p graf-after--p">是的沒錯喔～可愛的狐狸老師來給你撒嬌式解釋一下：</p><p name="3492" id="3492" class="graf graf--p graf--empty graf-after--p"><br></p><p name="4fb0" id="4fb0" class="graf graf--p graf-after--p">CellRegistration 跟 UICollectionViewDiffableDataSource 還有 UICollectionViewCompositionalLayout 是一個超夢幻的三人組，常常手牽手一起出現，就像小王子、狐狸跟玫瑰花一樣有默契！</p><p name="8eb4" id="8eb4" class="graf graf--p graf--empty graf-after--p"><br></p><p name="54e0" id="54e0" class="graf graf--p graf-after--p">來看他們是怎麼搭配的：</p><p name="10ce" id="10ce" class="graf graf--p graf--empty graf-after--p"><br></p><p name="5f6d" id="5f6d" class="graf graf--p graf-after--p">⸻</p><p name="15f2" id="15f2" class="graf graf--p graf--empty graf-after--p"><br></p><ol class="postList"><li name="399d" id="399d" class="graf graf--li graf-after--p">UICollectionView.CellRegistration</li></ol><p name="cd79" id="cd79" class="graf graf--p graf-after--li">用來註冊 cell 的方式，超簡潔，不需要再寫 register(_:forCellWithReuseIdentifier:) 和 dequeueReusableCell 時還要轉型。</p><p name="2b70" id="2b70" class="graf graf--p graf--empty graf-after--p"><br></p><p name="e5f7" id="e5f7" class="graf graf--p graf-after--p">let cellRegistration = UICollectionView.CellRegistration&lt;MyCell, MyModel&gt; { cell, indexPath, model in</p><p name="d599" id="d599" class="graf graf--p graf-after--p">. cell.label.text = model.name</p><p name="dd51" id="dd51" class="graf graf--p graf-after--p">}</p><p name="2efa" id="2efa" class="graf graf--p graf--empty graf-after--p"><br></p><p name="717a" id="717a" class="graf graf--p graf--empty graf-after--p"><br></p><p name="fd51" id="fd51" class="graf graf--p graf--empty graf-after--p"><br></p><p name="31f5" id="31f5" class="graf graf--p graf-after--p">⸻</p><p name="8293" id="8293" class="graf graf--p graf--empty graf-after--p"><br></p><p name="7ca7" id="7ca7" class="graf graf--p graf-after--p">2. UICollectionViewDiffableDataSource</p><p name="2206" id="2206" class="graf graf--p graf--empty graf-after--p"><br></p><p name="5e28" id="5e28" class="graf graf--p graf-after--p">這是現在 Apple 推的資料來源標準，資料變更用 snapshot 更新，動畫平滑又安全，不怕 crash！</p><p name="7060" id="7060" class="graf graf--p graf--empty graf-after--p"><br></p><p name="d18d" id="d18d" class="graf graf--p graf-after--p">let dataSource = UICollectionViewDiffableDataSource&lt;Section, MyModel&gt;(collectionView: collectionView) {</p><p name="d916" id="d916" class="graf graf--p graf-after--p">. collectionView, indexPath, model in</p><p name="d4ea" id="d4ea" class="graf graf--p graf-after--p">. return collectionView.dequeueConfiguredReusableCell(using: cellRegistration, for: indexPath, item: model)</p><p name="4a7c" id="4a7c" class="graf graf--p graf-after--p">}</p><p name="a1e0" id="a1e0" class="graf graf--p graf--empty graf-after--p"><br></p><p name="56d7" id="56d7" class="graf graf--p graf--empty graf-after--p"><br></p><p name="7426" id="7426" class="graf graf--p graf--empty graf-after--p"><br></p><p name="8981" id="8981" class="graf graf--p graf-after--p">⸻</p><p name="90b2" id="90b2" class="graf graf--p graf--empty graf-after--p"><br></p><p name="c8a0" id="c8a0" class="graf graf--p graf-after--p">3. UICollectionViewCompositionalLayout</p><p name="46b0" id="46b0" class="graf graf--p graf--empty graf-after--p"><br></p><p name="e594" id="e594" class="graf graf--p graf-after--p">這是佈局界的變形金剛！你要 waterfall？carousel？multi-column？它都可以幫你搞定。</p><p name="65c1" id="65c1" class="graf graf--p graf--empty graf-after--p"><br></p><p name="743d" id="743d" class="graf graf--p graf-after--p">collectionView.collectionViewLayout = UICollectionViewCompositionalLayout { sectionIndex, layoutEnvironment in</p><p name="9159" id="9159" class="graf graf--p graf-after--p">. return yourFancyLayoutSection()</p><p name="477d" id="477d" class="graf graf--p graf-after--p">}</p><p name="ce91" id="ce91" class="graf graf--p graf--empty graf-after--p"><br></p><p name="7121" id="7121" class="graf graf--p graf--empty graf-after--p"><br></p><p name="96ef" id="96ef" class="graf graf--p graf--empty graf-after--p"><br></p><p name="6386" id="6386" class="graf graf--p graf-after--p">⸻</p><p name="c11e" id="c11e" class="graf graf--p graf--empty graf-after--p"><br></p><p name="805f" id="805f" class="graf graf--p graf-after--p">為什麼他們這麼適合搭配？</p><p name="5dc7" id="5dc7" class="graf graf--p graf--empty graf-after--p"><br></p><p name="6d23" id="6d23" class="graf graf--p graf-after--p">因為：</p><p name="3460" id="3460" class="graf graf--p graf-after--p">	•	CellRegistration 解決了 cell 的註冊與綁定 model</p><p name="b9b6" id="b9b6" class="graf graf--p graf-after--p">	•	DiffableDataSource 解決了資料來源與更新動畫</p><p name="5db5" id="5db5" class="graf graf--p graf-after--p">	•	CompositionalLayout 則讓你自由設計超有創意的版面</p><p name="e00b" id="e00b" class="graf graf--p graf--empty graf-after--p"><br></p><p name="6763" id="6763" class="graf graf--p graf-after--p">⸻</p><p name="b40e" id="b40e" class="graf graf--p graf--empty graf-after--p"><br></p><p name="a7b6" id="a7b6" class="graf graf--p graf-after--p">就像你做一個動物園 App，一隻隻小動物（model）在園區不同區域（layout section）跑來跑去，然後還會跳舞（動畫更新）～是不是可愛又強大！</p><p name="8083" id="8083" class="graf graf--p graf--empty graf-after--p"><br></p><p name="f7ee" id="f7ee" class="graf graf--p graf-after--p graf--trailing">想不想我幫你畫一張三人組合作的可愛插圖？</p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/7ac6891240c4">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>