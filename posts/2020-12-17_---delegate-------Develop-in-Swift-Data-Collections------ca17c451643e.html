<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>自訂 delegate  範例 — Develop in Swift Data Collections 重點整理</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">自訂 delegate  範例 — Develop in Swift Data Collections 重點整理</h1>
</header>
<section data-field="subtitle" class="p-summary">
Lesson 1.9 的 Complex Input Screens
</section>
<section data-field="body" class="e-content">
<section name="2d0d" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0d5b" id="0d5b" class="graf graf--h3 graf--leading graf--title">自訂 delegate 範例 — Develop in Swift Data Collections 重點整理</h3><p name="3895" id="3895" class="graf graf--p graf-after--h3">利用 delegate 傳資料的相關說明可參考以下連結</p><div name="ce29" id="ce29" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E5%88%A9%E7%94%A8-delegate-%E5%9C%A8-controller-%E9%96%93%E6%BA%9D%E9%80%9A-%E5%82%B3%E8%B3%87%E6%96%99%E7%9A%84%E6%AD%A5%E9%A9%9F%E8%AA%AA%E6%98%8E-b9bc608b5e45" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E5%88%A9%E7%94%A8-delegate-%E5%9C%A8-controller-%E9%96%93%E6%BA%9D%E9%80%9A-%E5%82%B3%E8%B3%87%E6%96%99%E7%9A%84%E6%AD%A5%E9%A9%9F%E8%AA%AA%E6%98%8E-b9bc608b5e45" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E5%88%A9%E7%94%A8-delegate-%E5%9C%A8-controller-%E9%96%93%E6%BA%9D%E9%80%9A-%E5%82%B3%E8%B3%87%E6%96%99%E7%9A%84%E6%AD%A5%E9%A9%9F%E8%AA%AA%E6%98%8E-b9bc608b5e45"><strong class="markup--strong markup--mixtapeEmbed-strong">#78 利用 delegate 在 controller 間溝通 &amp; 傳資料的步驟說明</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們時常在 controller 間溝通 &amp; 傳資料，而 delegate 是其中一種方法，常用於 controller BViewController 和前一個 controller…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84%E8%A9%A6%E7%85%89-%E5%8B%87%E8%80%85%E7%9A%84-100-%E9%81%93-swift-ios-app-%E8%AC%8E%E9%A1%8C/%E5%88%A9%E7%94%A8-delegate-%E5%9C%A8-controller-%E9%96%93%E6%BA%9D%E9%80%9A-%E5%82%B3%E8%B3%87%E6%96%99%E7%9A%84%E6%AD%A5%E9%A9%9F%E8%AA%AA%E6%98%8E-b9bc608b5e45" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="157368be8fca6de75064eb2cb4134a42" data-thumbnail-img-id="1*89hAHQV0UUXjusrxOAeKIw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*89hAHQV0UUXjusrxOAeKIw.jpeg);"></a></div><p name="1e8e" id="1e8e" class="graf graf--p graf-after--mixtapeEmbed">接下來讓我們從 Apple 的 Develop in Swift Data Collections 挖寶，看看幾個實際的範例。</p><div name="e194" id="e194" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id6468968766?l=en-GB" data-href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id6468968766?l=en-GB" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://books.apple.com/tw/book/develop-in-swift-data-collections/id6468968766?l=en-GB"><strong class="markup--strong markup--mixtapeEmbed-strong">‎Develop in Swift Data Collections</strong><br><em class="markup--em markup--mixtapeEmbed-em">Download and read the ebook version of Develop in Swift Data Collections by Apple Education on Apple Books. Students…</em>books.apple.com</a><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections/id6468968766?l=en-GB" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="78d885ca96cb34318cb082ba9b854d8f" data-thumbnail-img-id="0*th9YXkvHHvN9tPny" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*th9YXkvHHvN9tPny);"></a></div><p name="103f" id="103f" class="graf graf--p graf-after--mixtapeEmbed">可從解答本下載範例研究。</p><div name="0c37" id="0c37" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections-teacher-guide/id6468968795?l=en-GB" data-href="https://books.apple.com/tw/book/develop-in-swift-data-collections-teacher-guide/id6468968795?l=en-GB" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://books.apple.com/tw/book/develop-in-swift-data-collections-teacher-guide/id6468968795?l=en-GB"><strong class="markup--strong markup--mixtapeEmbed-strong">‎Develop in Swift Data Collections Teacher Guide</strong><br><em class="markup--em markup--mixtapeEmbed-em">This Teacher Guide provides tools to deepen engagement with aspiring app developers, whether you have experience…</em>books.apple.com</a><a href="https://books.apple.com/tw/book/develop-in-swift-data-collections-teacher-guide/id6468968795?l=en-GB" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="12e380bd440cce3c1a5b06e6886da039" data-thumbnail-img-id="0*WT5DCZAGqsgM0mtd" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*WT5DCZAGqsgM0mtd);"></a></div><ul class="postList"><li name="6c48" id="6c48" class="graf graf--li graf-after--mixtapeEmbed"><strong class="markup--strong markup--li-strong">範例 1: 將 view controller 的 delegate 設為前一頁的 view controller，Lesson 1.9 的 Complex Input Screens</strong></li><li name="b324" id="b324" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">範例 2: 將 view controller 的 delegate 設為前一頁的 view controller，Lesson 1.9 Lab 的 Employee Roster</strong></li><li name="d6bf" id="d6bf" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">範例 3: 將 cell 的 delegate 設為 table view controller，Unit 1 Guided project: List</strong></li></ul><h3 name="04f6" id="04f6" class="graf graf--h3 graf-after--li">範例 1: 將 view controller 的 delegate 設為前一頁的 view controller，Lesson 1.9 的 Complex Input Screens</h3><p name="7f70" id="7f70" class="graf graf--p graf-after--h3">設定 SelectRoomTypeTableViewController 的 delegate 為前一頁的 AddRegistrationTableViewController，讓 SelectRoomTypeTableViewController 能將選擇的房間類型傳給前一頁的 AddRegistrationTableViewController。</p><figure name="f251" id="f251" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*KgWdbGdpVeU1H8WfKotuxQ.png" data-width="1144" data-height="1310" src="https://cdn-images-1.medium.com/max/800/1*KgWdbGdpVeU1H8WfKotuxQ.png"></figure><p name="2537" id="2537" class="graf graf--p graf-after--figure">HotelManzana</p><figure name="f363" id="f363" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NHLDMTUqpxi_q8SKizBqpg.png" data-width="490" data-height="152" src="https://cdn-images-1.medium.com/max/800/1*NHLDMTUqpxi_q8SKizBqpg.png"></figure></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="faf5" id="faf5" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*3YmffJ8ZzT32jL4T2kyUZA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*3YmffJ8ZzT32jL4T2kyUZA.png"></figure><figure name="c8bd" id="c8bd" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*_YGx2tFW_x2SdTpZ40jb-w.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*_YGx2tFW_x2SdTpZ40jb-w.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="a1f8" id="a1f8" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">SelectRoomTypeTableViewController.swift</strong></p><ul class="postList"><li name="e857" id="e857" class="graf graf--li graf-after--p">定義 protocol SelectRoomTypeTableViewControllerDelegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e0ba" id="e0ba" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">SelectRoomTypeTableViewControllerDelegate</span>: <span class="hljs-title class_">AnyObject</span> {<br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectRoomTypeTableViewController</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">controller</span>: <span class="hljs-type">SelectRoomTypeTableViewController</span>, <span class="hljs-params">didSelect</span> <span class="hljs-params">roomType</span>: <span class="hljs-type">RoomType</span>)<br />}</span></pre><ul class="postList"><li name="acc3" id="acc3" class="graf graf--li graf-after--pre">宣告 property delegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0c05" id="0c05" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectRoomTypeTableViewController</span>: <span class="hljs-title class_">UITableViewController</span> {<br />   <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> delegate: <span class="hljs-type">SelectRoomTypeTableViewControllerDelegate</span>?</span></pre><ul class="postList"><li name="6a05" id="6a05" class="graf graf--li graf-after--pre">點選表格時呼叫 delegate 的 function</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0f1d" id="0f1d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">didSelectRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) {<br />    tableView.deselectRow(at: indexPath, animated: <span class="hljs-literal">true</span>)<br />    roomType <span class="hljs-operator">=</span> <span class="hljs-type">RoomType</span>.all[indexPath.row]<br />    delegate<span class="hljs-operator">?</span>.selectRoomTypeTableViewController(<span class="hljs-keyword">self</span>, didSelect: roomType)<br />    tableView.reloadData()<br />}</span></pre><p name="503c" id="503c" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">AddRegistrationTableViewController.swift</strong></p><ul class="postList"><li name="28b4" id="28b4" class="graf graf--li graf-after--p">遵從 protocol SelectRoomTypeTableViewControllerDelegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c036" id="c036" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddRegistrationTableViewController</span>: <span class="hljs-title class_">UITableViewController</span>, <span class="hljs-title class_">SelectRoomTypeTableViewControllerDelegate</span></span></pre><ul class="postList"><li name="99d7" id="99d7" class="graf graf--li graf-after--pre">在 IBSegueAction 生成 SelectRoomTypeTableViewController 時設定 delegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="aab8" id="aab8" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBSegueAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">selectRoomType</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">coder</span>: <span class="hljs-type">NSCoder</span>) -&gt; <span class="hljs-type">SelectRoomTypeTableViewController</span>? {<br />    <span class="hljs-keyword">let</span> selectRoomTypeController <span class="hljs-operator">=</span> <span class="hljs-type">SelectRoomTypeTableViewController</span>(coder: coder)<br />    selectRoomTypeController<span class="hljs-operator">?</span>.delegate <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span><br />    selectRoomTypeController<span class="hljs-operator">?</span>.roomType <span class="hljs-operator">=</span> roomType<br />    <span class="hljs-keyword">return</span> selectRoomTypeController<br />}</span></pre><figure name="1497" id="1497" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*Rq3zm-ZOvLu_KukXIXQRBA.png" data-width="2608" data-height="1190" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Rq3zm-ZOvLu_KukXIXQRBA.png"></figure><ul class="postList"><li name="4fb6" id="4fb6" class="graf graf--li graf-after--figure">定義 protocol SelectRoomTypeTableViewControllerDelegate 的 function selectRoomTypeTableViewController(_:didSelect:)</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c074" id="c074" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">selectRoomTypeTableViewController</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">controller</span>: <span class="hljs-type">SelectRoomTypeTableViewController</span>, <span class="hljs-params">didSelect</span> <span class="hljs-params">roomType</span>: <span class="hljs-type">RoomType</span>) {<br />    <span class="hljs-keyword">self</span>.roomType <span class="hljs-operator">=</span> roomType<br />    updateRoomType()<br />    updateChargesSection()<br />}</span></pre><figure name="f9a2" id="f9a2" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*i2rQnmFnuqK6E8eikCIVwA.png" data-width="2634" data-height="1076" src="https://cdn-images-1.medium.com/max/800/1*i2rQnmFnuqK6E8eikCIVwA.png"></figure><h3 name="3a9e" id="3a9e" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">範例 2: 將 view controller 的 delegate 設為前一頁的 view controller，Lesson 1.9 Lab 的 Employee Roster</strong></h3><p name="45fe" id="45fe" class="graf graf--p graf-after--h3">概念和範例 1 類似，有興趣的朋友可進一步研究。</p><figure name="0684" id="0684" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_iXIDN9AAP7sdvzuklRPyA.png" data-width="1666" data-height="1192" src="https://cdn-images-1.medium.com/max/800/1*_iXIDN9AAP7sdvzuklRPyA.png"></figure><h3 name="9b74" id="9b74" class="graf graf--h3 graf-after--figure">範例 3: 將 cell 的 delegate 設為 table view controller，Unit 1 Guided project: List</h3><p name="7197" id="7197" class="graf graf--p graf-after--h3">設定 ToDoCell 的 delegate 為 ToDoTableViewController，讓 ToDoCell 在點選 checkmark 時通知 ToDoTableViewController。</p><figure name="6033" id="6033" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*91K7NnzH3iKN1AQjia4MKQ.png" data-width="1102" data-height="1300" src="https://cdn-images-1.medium.com/max/800/1*91K7NnzH3iKN1AQjia4MKQ.png"></figure><p name="f0c0" id="f0c0" class="graf graf--p graf-after--figure">ToDoList</p><figure name="3355" id="3355" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8zezhLKKK8q42MYvWEaqFA.png" data-width="386" data-height="142" src="https://cdn-images-1.medium.com/max/800/1*8zezhLKKK8q42MYvWEaqFA.png"></figure><p name="2c59" id="2c59" class="graf graf--p graf-after--figure">點選 checkmark 時，ToDoCell 利用 delegate 通知 ToDoTableViewController。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="bd38" id="bd38" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*z7yEEttHbZvvqXo_cBjd9A.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*z7yEEttHbZvvqXo_cBjd9A.png"></figure><figure name="94eb" id="94eb" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*r4Ky7b8olbrR45M1DNNBJA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*r4Ky7b8olbrR45M1DNNBJA.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="4e05" id="4e05" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">ToDoCell.swift</strong></p><ul class="postList"><li name="f34c" id="f34c" class="graf graf--li graf-after--p">定義 protocol ToDoCellDelegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="ecb0" id="ecb0" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">ToDoCellDelegate</span>: <span class="hljs-title class_">AnyObject</span> {<br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkmarkTapped</span>(<span class="hljs-params">sender</span>: <span class="hljs-type">ToDoCell</span>)<br />}</span></pre><ul class="postList"><li name="9f54" id="9f54" class="graf graf--li graf-after--pre">宣告 property delegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="00b1" id="00b1" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ToDoCell</span>: <span class="hljs-title class_">UITableViewCell</span> {<br />    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> delegate: <span class="hljs-type">ToDoCellDelegate</span>?</span></pre><ul class="postList"><li name="e66b" id="e66b" class="graf graf--li graf-after--pre">點選 checkmark 時呼叫 delegate 的 function</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="cda6" id="cda6" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">@IBAction</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">completeButtonTapped</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">sender</span>: <span class="hljs-type">UIButton</span>) {<br />     delegate<span class="hljs-operator">?</span>.checkmarkTapped(sender: <span class="hljs-keyword">self</span>)<br />}</span></pre><p name="be42" id="be42" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">ToDoTableViewController.swift</strong></p><ul class="postList"><li name="59e8" id="59e8" class="graf graf--li graf-after--p">遵從 protocol ToDoCellDelegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="dd17" id="dd17" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ToDoTableViewController</span>: <span class="hljs-title class_">UITableViewController</span>, <span class="hljs-title class_">ToDoCellDelegate</span></span></pre><ul class="postList"><li name="57fc" id="57fc" class="graf graf--li graf-after--pre">產生 cell 時，將 controller 設為 cell 的 delegate</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="da20" id="da20" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">cellForRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) -&gt; <span class="hljs-type">UITableViewCell</span> {<br />    <span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> tableView.dequeueReusableCell(withIdentifier: <span class="hljs-string">&quot;ToDoCellIdentifier&quot;</span>, for: indexPath) <span class="hljs-keyword">as!</span> <span class="hljs-type">ToDoCell</span><br />    <span class="hljs-keyword">let</span> todo <span class="hljs-operator">=</span> todos[indexPath.row]<br />    cell.titleLabel<span class="hljs-operator">?</span>.text <span class="hljs-operator">=</span> todo.title<br />    cell.isCompleteButton.isSelected <span class="hljs-operator">=</span> todo.isComplete<br />    cell.delegate <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> <br />    <span class="hljs-keyword">return</span> cell<br />}</span></pre><figure name="5861" id="5861" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*-b0D-apjtaw4LFMN1EEXoA.png" data-width="2538" data-height="1154" src="https://cdn-images-1.medium.com/max/800/1*-b0D-apjtaw4LFMN1EEXoA.png"></figure><ul class="postList"><li name="1d24" id="1d24" class="graf graf--li graf-after--figure">定義 protocol ToDoCellDelegate 的 function checkmarkTapped。</li></ul><p name="577d" id="577d" class="graf graf--p graf-after--li">從 cell 找出它的 indexPath，然後修改 array 裡的資料，更新表格和儲存資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6c53" id="6c53" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">checkmarkTapped</span>(<span class="hljs-params">sender</span>: <span class="hljs-type">ToDoCell</span>) {<br />    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> indexPath <span class="hljs-operator">=</span> tableView.indexPath(for: sender) {<br />        <span class="hljs-keyword">var</span> todo <span class="hljs-operator">=</span> todos[indexPath.row]<br />        todo.isComplete.toggle()<br />        todos[indexPath.row] <span class="hljs-operator">=</span> todo<br />        tableView.reloadRows(at: [indexPath], with: .automatic)<br />        <span class="hljs-type">ToDo</span>.saveToDos(todos)<br />    }<br />}</span></pre><figure name="a873" id="a873" class="graf graf--figure graf-after--pre graf--trailing"><img class="graf-image" data-image-id="1*bwuTQe481pgXgZOstzKcGA.png" data-width="2644" data-height="1176" src="https://cdn-images-1.medium.com/max/800/1*bwuTQe481pgXgZOstzKcGA.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/ca17c451643e"><time class="dt-published" datetime="2020-12-17T08:52:14.013Z">December 17, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%87%AA%E8%A8%82-delegate-%E7%AF%84%E4%BE%8B-develop-in-swift-data-collections-%E9%87%8D%E9%BB%9E%E6%95%B4%E7%90%86-ca17c451643e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>