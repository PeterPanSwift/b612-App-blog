<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SwiftUI 的 search 功能</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">SwiftUI 的 search 功能</h1>
</header>
<section data-field="body" class="e-content">
<section name="9383" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="eb4c" id="eb4c" class="graf graf--h3 graf--leading graf--title">SwiftUI 的 search 功能</h3><p name="aece" id="aece" class="graf graf--p graf--empty graf-after--h3"><br></p><pre name="d07c" id="d07c" class="graf graf--pre graf-after--p">struct ContentView: View {<br>  <a href="http://twitter.com/State" data-href="http://twitter.com/State" class="markup--anchor markup--pre-anchor" title="Twitter profile for @State" rel="noopener" target="_blank">@State</a> private var characters = CharacterStore(StoryCharacter.previewData)</pre><pre name="a146" id="a146" class="graf graf--pre graf-after--pre">var body: some View {<br>    NavigationView {<br>      List {<br>        if characters.filterText.isEmpty {<br>          if !characters.pinned.isEmpty {<br>            Section(&quot;Pinned&quot;) {<br>              sectionContent(for: characters.pinned)<br>            }<br>          }<br>          Section(&quot;Heroes &amp; Villains&quot;) {<br>            sectionContent(for: characters.unpinned)<br>          }<br>        } else {<br>          sectionContent(for: characters.filtered)<br>        }<br>      }<br>      .listStyle(.sidebar)<br>      .searchable(text: $characters.filterText)<br>      .navigationTitle(&quot;Characters&quot;)<br>    }<br>  }</pre><pre name="7e70" id="7e70" class="graf graf--pre graf-after--pre"><a href="http://twitter.com/ViewBuilder" data-href="http://twitter.com/ViewBuilder" class="markup--anchor markup--pre-anchor" title="Twitter profile for @ViewBuilder" rel="noopener" target="_blank">@ViewBuilder</a><br>  private func sectionContent(for characters: [StoryCharacter]) -&gt; some View {<br>    ForEach(characters) { character in<br>      CharacterProfile(character)<br>    }<br>  }<br>}</pre><pre name="dc47" id="dc47" class="graf graf--pre graf-after--pre">struct CharacterProfile: View {<br>  var character: StoryCharacter</pre><pre name="a504" id="a504" class="graf graf--pre graf-after--pre">init(_ character: StoryCharacter) {<br>    self.character = character<br>  }</pre><pre name="bbb0" id="bbb0" class="graf graf--pre graf-after--pre">var body: some View {<br>    NavigationLink {<br>      Text(character.name)<br>    } label: {<br>      HStack {<br>        HStack {<br>          let symbol = Image(systemName: character.symbol)<br>            .resizable()<br>            .aspectRatio(contentMode: .fit)<br>            .foregroundStyle(.white)<br>            .padding(6)<br>            .frame(width: 33, height: 33)</pre><pre name="ad4b" id="ad4b" class="graf graf--pre graf-after--pre">if character.isVillain {<br>            symbol<br>              .background(character.color, in: RoundedRectangle(cornerRadius: 8))<br>          } else {<br>            symbol<br>              .background(character.color, in: Circle())<br>          }<br>        }<br>        VStack(alignment: .leading, spacing: 2) {<br>          HStack(alignment: .center) {<br>            Text(character.name)<br>              .bold()<br>              .foregroundStyle(.primary)<br>          }<br>          HStack(spacing: 4) {<br>            Text(character.isVillain ? &quot;VILLAIN&quot; : &quot;HERO&quot;)<br>              .bold()<br>              .font(.caption2.weight(.heavy))<br>              .foregroundStyle(.white)<br>              .padding(.vertical, 1)<br>              .padding(.horizontal, 3)<br>              .background(.quaternary, in: RoundedRectangle(cornerRadius: 3))</pre><pre name="c0c0" id="c0c0" class="graf graf--pre graf-after--pre">Text(character.powers)<br>              .font(.footnote)<br>              .foregroundStyle(.secondary)<br>          }<br>        }<br>      }<br>    }<br>  }<br>}</pre><pre name="3963" id="3963" class="graf graf--pre graf-after--pre">struct CharacterStore {<br>  var all: [StoryCharacter] {<br>    get { _all }<br>    set { _all = newValue; sortAll() }<br>  }<br>  var _all: [StoryCharacter]</pre><pre name="b752" id="b752" class="graf graf--pre graf-after--pre">var pinned: [StoryCharacter] {<br>    all.prefix { $0.isPinned }<br>  }</pre><pre name="161f" id="161f" class="graf graf--pre graf-after--pre">var unpinned: [StoryCharacter] {<br>    if let start = all.firstIndex(where: { !$0.isPinned }) {<br>      return Array(all.suffix(from: start))<br>    } else {<br>      return []<br>    }<br>  }</pre><pre name="de92" id="de92" class="graf graf--pre graf-after--pre">var filterText: String = &quot;&quot;<br>  var filtered: [StoryCharacter] {<br>    if filterText.isEmpty {<br>      return all<br>    } else {<br>      return all.filter {<br>        $0.name.contains(filterText) || $0.powers.contains(filterText)<br>      }<br>    }<br>  }</pre><pre name="bf55" id="bf55" class="graf graf--pre graf-after--pre">init(_ characters: [StoryCharacter]) {<br>    _all = characters<br>    sortAll()<br>  }</pre><pre name="7d57" id="7d57" class="graf graf--pre graf-after--pre">private mutating func sortAll() {<br>    _all.sort { lhs, rhs in<br>      if lhs.isPinned &amp;&amp; !rhs.isPinned {<br>        return true<br>      } else if !lhs.isPinned &amp;&amp; rhs.isPinned {<br>        return false<br>      } else {<br>        return lhs.lastModified &lt; rhs.lastModified<br>      }<br>    }<br>  }<br>}</pre><pre name="7953" id="7953" class="graf graf--pre graf-after--pre">struct StoryCharacter: Identifiable, Equatable {<br>  var id: Int64<br>  var name: String<br>  var symbol: String<br>  var color: Color<br>  var powers: String<br>  var isVillain: Bool = false<br>  var isPinned: Bool = false<br>  var lastModified = Date()<br>}</pre><pre name="b9b9" id="b9b9" class="graf graf--pre graf-after--pre">extension StoryCharacter {<br>  static let previewData: [StoryCharacter] = [<br>    StoryCharacter(<br>      id: 0,<br>      name: &quot;The View Builder&quot;,<br>      symbol: &quot;hammer&quot;,<br>      color: .pink,<br>      powers: &quot;Conjures objects on-demand.&quot;,<br>      isPinned: true),<br>    StoryCharacter(<br>      id: 1,<br>      name: &quot;The Truth Duplicator&quot;,<br>      symbol: &quot;eyes&quot;,<br>      color: .blue,<br>      powers: &quot;Distorts reality.&quot;,<br>      isVillain: true),<br>    StoryCharacter(<br>      id: 2,<br>      name: &quot;The Previewer&quot;,<br>      symbol: &quot;viewfinder&quot;,<br>      color: .indigo,<br>      powers: &quot;Reveals the future.&quot;,<br>      isPinned: true),<br>    StoryCharacter(<br>      id: 3,<br>      name: &quot;The Type Eraser&quot;,<br>      symbol: &quot;eye.slash&quot;,<br>      color: .black,<br>      powers: &quot;Steals identities.&quot;,<br>      isVillain: true,<br>      isPinned: true),<br>    StoryCharacter(<br>      id: 4,<br>      name: &quot;The Environment Modifier&quot;,<br>      symbol: &quot;leaf&quot;,<br>      color: .green,<br>      powers: &quot;Controls the physical world.&quot;),<br>    StoryCharacter(<br>      id: 5,<br>      name: &quot;The Unstable Identifier&quot;,<br>      symbol: &quot;shuffle&quot;,<br>      color: .brown,<br>      powers: &quot;Shape-shifter, uncatchable.&quot;,<br>      isVillain: true),<br>    StoryCharacter(<br>      id: 6,<br>      name: &quot;The Stylizer&quot;,<br>      symbol: &quot;wand.and.stars.inverse&quot;,<br>      color: .red,<br>      powers: &quot;Quartermaster of heroes.&quot;),<br>    StoryCharacter(<br>      id: 7,<br>      name: &quot;The Singleton&quot;,<br>      symbol: &quot;diamond&quot;,<br>      color: .purple,<br>      powers: &quot;An evil robotic hive mind.&quot;,<br>      isVillain: true),<br>    StoryCharacter(<br>      id: 8,<br>      name: &quot;The Geometry Reader&quot;,<br>      symbol: &quot;ruler&quot;,<br>      color: .orange,<br>      powers: &quot;Instantly scans any structure.&quot;),<br>    StoryCharacter(<br>      id: 9,<br>      name: &quot;The Opaque Typist&quot;,<br>      symbol: &quot;app.fill&quot;,<br>      color: .teal,<br>      powers: &quot;Creates impenetrable disguises.&quot;),<br>    StoryCharacter(<br>      id: 10,<br>      name: &quot;The Unobservable Man&quot;,<br>      symbol: &quot;hand.raised.slash&quot;,<br>      color: .black,<br>      powers: &quot;Impervious to detection.&quot;,<br>      isVillain: true),<br>  ]<br>}</pre><div name="2c36" id="2c36" class="graf graf--mixtapeEmbed graf-after--pre"><a href="https://developer.apple.com/videos/play/wwdc2021/10018/" data-href="https://developer.apple.com/videos/play/wwdc2021/10018/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/videos/play/wwdc2021/10018/"><strong class="markup--strong markup--mixtapeEmbed-strong">What&#39;s new in SwiftUI - WWDC 2021 - Videos - Apple Developer</strong><br><em class="markup--em markup--mixtapeEmbed-em">There&#39;s never been a better time to develop your apps with SwiftUI. Discover the latest updates to the UI framework …</em>developer.apple.com</a><a href="https://developer.apple.com/videos/play/wwdc2021/10018/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d19ac0a7b713377b64b30eaf33e1879a" data-thumbnail-img-id="0*CucBK-TkhwnLZpJF" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*CucBK-TkhwnLZpJF);"></a></div><p name="ec98" id="ec98" class="graf graf--p graf--empty graf-after--mixtapeEmbed"><br></p><div name="a733" id="a733" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.hackingwithswift.com/quick-start/swiftui/how-to-add-a-search-bar-to-filter-your-data" data-href="https://www.hackingwithswift.com/quick-start/swiftui/how-to-add-a-search-bar-to-filter-your-data" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.hackingwithswift.com/quick-start/swiftui/how-to-add-a-search-bar-to-filter-your-data"><strong class="markup--strong markup--mixtapeEmbed-strong">How to add a search bar to filter your data</strong><br><em class="markup--em markup--mixtapeEmbed-em">Paul Hudson @twostraws In the process of being updated for Xcode 13.0 New in iOS 15 SwiftUI&#39;s searchable() modifier…</em>www.hackingwithswift.com</a><a href="https://www.hackingwithswift.com/quick-start/swiftui/how-to-add-a-search-bar-to-filter-your-data" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="36a36efe6c8aec05ed7c8b47888f0dfb" data-thumbnail-img-id="0*OckuLpvA1bluSAao" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*OckuLpvA1bluSAao);"></a></div><p name="6c75" id="6c75" class="graf graf--p graf--empty graf-after--mixtapeEmbed graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/361178d5e25">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>