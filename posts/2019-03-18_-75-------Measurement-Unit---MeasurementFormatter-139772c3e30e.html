<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>#75 單位轉換的 Measurement，Unit &amp; MeasurementFormatter</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">#75 單位轉換的 Measurement，Unit &amp; MeasurementFormatter</h1>
</header>
<section data-field="subtitle" class="p-summary">
Apple 在 iOS 10 加入方便進行各種單位轉換和計算的 Measurement，Unit &amp; MeasurementFormatter 型別，現在想開發一個單位換算的 App 變得十分容易，再也不用 google 研究一堆複雜的單位換算公式了。
</section>
<section data-field="body" class="e-content">
<section name="c69d" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="172a" id="172a" class="graf graf--h3 graf--leading graf--title">#75 單位轉換的 Measurement，Unit &amp; MeasurementFormatter</h3><p name="7e86" id="7e86" class="graf graf--p graf-after--h3">Apple 在 iOS 10 加入方便進行各種單位轉換和計算的 Measurement，Unit &amp; MeasurementFormatter 型別，現在想開發一個單位換算的 App 變得十分容易，再也不用 google 研究一堆複雜的單位換算公式了。</p><blockquote name="04db" id="04db" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">利用 Measurement 建立某個單位量測的數值</strong></blockquote><p name="11e1" id="11e1" class="graf graf--p graf-after--blockquote">例子: 產生代表 180.5 公分的 Measurement 資料。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="bac3" id="bac3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> Foundation<br /><br /><span class="hljs-keyword">let</span> height <span class="hljs-operator">=</span> <span class="hljs-number">180.5</span><br /><span class="hljs-keyword">let</span> heightInCm <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: height, unit: <span class="hljs-type">UnitLength</span>.centimeters)</span></pre><p name="016a" id="016a" class="graf graf--p graf-after--pre">在生成 Measurement 時，第一個參數 value 傳入數值的大小，unit 則傳入量測的單位。</p><figure name="aec6" id="aec6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1givOlQH-fsdubBjLd7Zew.jpeg" data-width="912" data-height="96" src="https://cdn-images-1.medium.com/max/800/1*1givOlQH-fsdubBjLd7Zew.jpeg"></figure><div name="eb3c" id="eb3c" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/foundation/measurement" data-href="https://developer.apple.com/documentation/foundation/measurement" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/measurement"><strong class="markup--strong markup--mixtapeEmbed-strong">Measurement | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A numeric quantity labeled with a unit of measure, with support for unit conversion and unit-aware calculations.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/measurement" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1deaa7173fe386f9d4c438a2c7c01a6b" data-thumbnail-img-id="0*eiy0uc9IVXddz392" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*eiy0uc9IVXddz392);"></a></div><p name="5456" id="5456" class="graf graf--p graf-after--mixtapeEmbed">iOS SDK 裡定義許多我們小時候讀書時學過但是不小心還給老師的單位，比方型別 UnitLength 定義長度的單位，像是 UnitLength.centimeters (公分) &amp; UnitLength.inches(英寸)。型別 UnitMass 則定義重量的單位，像是 UnitMass.kilograms(公斤) &amp; UnitMass.pounds(磅)。想認識還有哪些可用的單位，可參考以下連結的說明。</p><div name="f735" id="f735" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/foundation/units_and_measurement" data-href="https://developer.apple.com/documentation/foundation/units_and_measurement" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/units_and_measurement"><strong class="markup--strong markup--mixtapeEmbed-strong">Units and Measurement | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Label numeric quantities with physical dimensions to allow locale-aware formatting and conversion between related…</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/units_and_measurement" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b7c3e25d41c77ef70bc0258d1c8807d0" data-thumbnail-img-id="0*vtiHr9s9T4TeNhX3" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*vtiHr9s9T4TeNhX3);"></a></div><blockquote name="7a06" id="7a06" class="graf graf--blockquote graf-after--mixtapeEmbed"><strong class="markup--strong markup--blockquote-strong">列印 Measurement 資料</strong></blockquote><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="5bf2" id="5bf2" class="graf graf--pre graf-after--blockquote graf--preV2"><span class="pre--content"><span class="hljs-built_in">print</span>(heightInCm)</span></pre><p name="2b1d" id="2b1d" class="graf graf--p graf-after--pre">如下圖所示，列印的結果將包含數字和單位。</p><figure name="73dc" id="73dc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*jK79MpzmZ38R7FQjg0WguQ.jpeg" data-width="290" data-height="130" src="https://cdn-images-1.medium.com/max/800/1*jK79MpzmZ38R7FQjg0WguQ.jpeg"></figure><blockquote name="331e" id="331e" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">讀取 Measurement 資料的內容</strong></blockquote><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="165e" id="165e" class="graf graf--pre graf-after--blockquote graf--preV2"><span class="pre--content">heightInCm.value<br />heightInCm.unit<br />heightInCm.unit.symbol</span></pre><figure name="fa6a" id="fa6a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*nGCG_ENJDXbRvm3araBD9g.jpeg" data-width="1414" data-height="214" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*nGCG_ENJDXbRvm3araBD9g.jpeg"></figure><blockquote name="599a" id="599a" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">單位換算</strong></blockquote><p name="a7be" id="a7be" class="graf graf--p graf-after--blockquote">終於進入重頭戲了。利用 Measurement 的 function converted(to:)，我們不用背數學公式也能做單位換算，比方以下將公分變成公尺的例子。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8ceb" id="8ceb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> heightInM <span class="hljs-operator">=</span> heightInCm.converted(to: .meters)<br />heightInM.unit.symbol</span></pre><figure name="0542" id="0542" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*qmYX2sCKx7JDgajsRljMJg.jpeg" data-width="1428" data-height="192" src="https://cdn-images-1.medium.com/max/800/1*qmYX2sCKx7JDgajsRljMJg.jpeg"></figure><div name="8327" id="8327" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/foundation/measurement/2799413-converted" data-href="https://developer.apple.com/documentation/foundation/measurement/2799413-converted" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/measurement/2799413-converted"><strong class="markup--strong markup--mixtapeEmbed-strong">converted(to:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Returns a new measurement created by converting to the specified unit.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/measurement/2799413-converted" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="32d528648313afdec1988bc12ebddc3a" data-thumbnail-img-id="0*ouDnjeBPAC2adZ-n" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*ouDnjeBPAC2adZ-n);"></a></div><blockquote name="cdb9" id="cdb9" class="graf graf--blockquote graf-after--mixtapeEmbed"><strong class="markup--strong markup--blockquote-strong">比大小</strong></blockquote><p name="5b0c" id="5b0c" class="graf graf--p graf-after--blockquote">只要是同類型的單位，我們還可直接比大小，比方 180.5 cm 的 peter &amp; 1.6 m 的 hook 比身高，因為 peterHeight &amp; hookHeight 的單位型別都是代表長度的 UnitLength，所以可以比大小。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1e73" id="1e73" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> peterHeight <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: <span class="hljs-number">180.5</span>, unit: <span class="hljs-type">UnitLength</span>.centimeters)<br /><span class="hljs-keyword">let</span> hookHeight <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: <span class="hljs-number">1.6</span>, unit: <span class="hljs-type">UnitLength</span>.meters)<br /><span class="hljs-keyword">if</span> peterHeight <span class="hljs-operator">&gt;</span> hookHeight {<br />   <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;peter 比 hook 高&quot;</span>)<br />}</span></pre><blockquote name="26a8" id="26a8" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">數學運算</strong></blockquote><p name="8d24" id="8d24" class="graf graf--p graf-after--blockquote">只要是同類型的單位，我們也可以做數學運算。比方將 1 km + 10 m，得到 1010 m。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3378" id="3378" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> distance1 <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: <span class="hljs-number">1</span>, unit: <span class="hljs-type">UnitLength</span>.kilometers)<br /><span class="hljs-keyword">let</span> distance2 <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: <span class="hljs-number">10</span>, unit: <span class="hljs-type">UnitLength</span>.meters)<br /><span class="hljs-keyword">let</span> distanceSum <span class="hljs-operator">=</span> distance1 <span class="hljs-operator">+</span> distance2</span></pre><figure name="3bb1" id="3bb1" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*WONImMn5sKdPE1_jISFIvg.jpeg" data-width="1330" data-height="312" src="https://cdn-images-1.medium.com/max/800/1*WONImMn5sKdPE1_jISFIvg.jpeg"></figure><blockquote name="b18b" id="b18b" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">控制字串格式的 MeasurementFormatter</strong></blockquote><p name="beca" id="beca" class="graf graf--p graf-after--blockquote">利用 MeasurementFormatter 我們可以依 App 畫面的需求，將 Measurement 資料變成特定格式的字串。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f461" id="f461" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> time <span class="hljs-operator">=</span> <span class="hljs-type">Measurement</span>(value: <span class="hljs-number">1000</span>, unit: <span class="hljs-type">UnitDuration</span>.seconds)<br /><span class="hljs-keyword">let</span> formatter <span class="hljs-operator">=</span> <span class="hljs-type">MeasurementFormatter</span>()<br /><span class="hljs-keyword">let</span> timeString <span class="hljs-operator">=</span> formatter.string(from: time)<br /><span class="hljs-built_in">print</span>(timeString)</span></pre><p name="9190" id="9190" class="graf graf--p graf-after--pre">MeasurementFormatter 將 1000 秒的時間變成字串 1,000 秒，字串顯示的格式跟 locale 有關，剛剛的程式會產生<code class="markup--code markup--p-code"> 1,000 秒</code>是因為手機的語言設為繁體中文。</p><figure name="e3f3" id="e3f3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Z6OOk51SS4sPcU-OLilgJg.jpeg" data-width="220" data-height="88" src="https://cdn-images-1.medium.com/max/800/1*Z6OOk51SS4sPcU-OLilgJg.jpeg"></figure><div name="ed42" id="ed42" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://developer.apple.com/documentation/foundation/measurementformatter" data-href="https://developer.apple.com/documentation/foundation/measurementformatter" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/measurementformatter"><strong class="markup--strong markup--mixtapeEmbed-strong">MeasurementFormatter | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A formatter that provides localized representations of units and measurements.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/measurementformatter" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ee32f80e8a74862bc7a344f806ec7060" data-thumbnail-img-id="0*B2lpYSgBN2wtH9PC" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*B2lpYSgBN2wtH9PC);"></a></div><p name="6607" id="6607" class="graf graf--p graf-after--mixtapeEmbed">我們也可以修改 MeasurementFormatter 的 locale，比方將它改成英文。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="aa6f" id="aa6f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">formatter.locale <span class="hljs-operator">=</span> <span class="hljs-type">Locale</span>(identifier: <span class="hljs-string">&quot;en&quot;</span>)</span></pre><figure name="0bd1" id="0bd1" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*o3Os4Tikv-BPVnsw_aJtJA.jpeg" data-width="266" data-height="80" src="https://cdn-images-1.medium.com/max/800/1*o3Os4Tikv-BPVnsw_aJtJA.jpeg"></figure><p name="6323" id="6323" class="graf graf--p graf-after--figure">關於 MeasurementFormatter 的更多說明，有興趣的朋友也可以參考以下連結。</p><div name="be8b" id="be8b" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://www.sitepoint.com/using-measurementformatter/" data-href="https://www.sitepoint.com/using-measurementformatter/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.sitepoint.com/using-measurementformatter/"><strong class="markup--strong markup--mixtapeEmbed-strong">Using MeasurementFormatter in Swift - SitePoint</strong><br><em class="markup--em markup--mixtapeEmbed-em">The MeasurementFormatter class provides formatted and localized representations of units and measurements. When…</em>www.sitepoint.com</a><a href="https://www.sitepoint.com/using-measurementformatter/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7372757b3a625c30512dc9ff11e807c9" data-thumbnail-img-id="0*34EKsV2-unr7LNXW" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*34EKsV2-unr7LNXW);"></a></div></div></div></section><section name="2e82" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="5ce0" id="5ce0" class="graf graf--p graf--leading">作業</p><p name="9132" id="9132" class="graf graf--p graf-after--p graf--trailing">利用 Measurement，Unit &amp; MeasurementFormatter 製作單位換算 App。</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/139772c3e30e"><time class="dt-published" datetime="2019-03-18T09:12:00.384Z">March 18, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/75-%E5%96%AE%E4%BD%8D%E8%BD%89%E6%8F%9B%E7%9A%84-measurement-unit-measurementformatter-139772c3e30e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>