<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>JSON 在 Swift 裡 print 列印的模樣</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">JSON 在 Swift 裡 print 列印的模樣</h1>
</header>
<section data-field="subtitle" class="p-summary">
根據 JSON 官方網站的描述，JSON 主要有兩種東西組成:
</section>
<section data-field="body" class="e-content">
<section name="54da" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="144e" id="144e" class="graf graf--h3 graf--leading graf--title">JSON 在 Swift 裡 print 列印的模樣</h3><p name="7059" id="7059" class="graf graf--p graf-after--h3">根據 JSON 官方網站的描述，JSON 主要有兩種東西組成:</p><figure name="34ef" id="34ef" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LsM_Bj-6sZnNveEGp8DHAQ.jpeg" data-width="1684" data-height="806" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*LsM_Bj-6sZnNveEGp8DHAQ.jpeg"></figure><div name="9cdd" id="9cdd" class="graf graf--mixtapeEmbed graf-after--figure"><a href="http://www.json.org" data-href="http://www.json.org" class="markup--anchor markup--mixtapeEmbed-anchor" title="http://www.json.org"><strong class="markup--strong markup--mixtapeEmbed-strong">JSON</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>www.json.org</a><a href="http://www.json.org" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="d6def0b5816b9f8f31b2fd4572b71fc8"></a></div><p name="03c3" id="03c3" class="graf graf--p graf-after--mixtapeEmbed">1 用 { } 描述的 object，它就像 Swift 的 dictionary，用 key &amp; value 描述東西的內容，key &amp; value 間用冒號分隔。比方以下歌手田馥甄的個人資料。</p><pre name="2ad7" id="2ad7" class="graf graf--pre graf-after--p">{&quot;name&quot;: &quot;田馥甄&quot;, &quot;height&quot;: 161, &quot;birthday&quot;: &quot;3/30&quot; }</pre><figure name="8817" id="8817" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*bcSCafQpVxQPc5I2mwIwaw.jpeg" data-width="934" data-height="948" src="https://cdn-images-1.medium.com/max/800/1*bcSCafQpVxQPc5I2mwIwaw.jpeg"></figure><p name="6b25" id="6b25" class="graf graf--p graf-after--figure">2 用 [ ] 描述的 array，比方田馥甄的三首熱門歌曲。</p><pre name="7c53" id="7c53" class="graf graf--pre graf-after--p">[&quot;小幸運&quot;, &quot;愛了很久的朋友&quot;, &quot;你就不要想起我&quot;]</pre><figure name="4810" id="4810" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*W7WPG3WxgzRbyswjPBxgtw.jpeg" data-width="708" data-height="488" src="https://cdn-images-1.medium.com/max/800/1*W7WPG3WxgzRbyswjPBxgtw.jpeg"></figure><p name="5d5f" id="5d5f" class="graf graf--p graf-after--figure">只要記得 { } &amp; [ ] 代表的意義，即可看懂世上千奇百怪 API 回傳的 JSON 資料。</p><p name="5741" id="5741" class="graf graf--p graf-after--p">例如以下從 iTunes API 抓取田馥甄音樂作品回傳的 JSON。</p><p name="4c2a" id="4c2a" class="graf graf--p graf-after--p">https://itunes.apple.com/search?term=田馥甄&amp;media=music&amp;country=tw&amp;limit=2</p><pre name="1e44" id="1e44" class="graf graf--pre graf-after--p">{<br> &quot;resultCount&quot;:2,<br> &quot;results&quot;: [<br>{&quot;wrapperType&quot;:&quot;track&quot;, &quot;kind&quot;:&quot;song&quot;, &quot;artistId&quot;:417691809, &quot;collectionId&quot;:1017697307, &quot;trackId&quot;:1017697311, &quot;artistName&quot;:&quot;田馥甄&quot;, &quot;collectionName&quot;:&quot;小幸運 (電影《我的少女時代》主題曲) - Single&quot;, &quot;trackName&quot;:&quot;小幸運 (電影《我的少女時代》主題曲)&quot;, &quot;collectionCensoredName&quot;:&quot;小幸運 (電影《我的少女時代》主題曲) - Single&quot;, &quot;trackCensoredName&quot;:&quot;小幸運 (電影《我的少女時代》主題曲)&quot;, &quot;artistViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4" data-href="https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4</a>&quot;, <br>&quot;collectionViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4" data-href="https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4</a>&quot;, <br>&quot;trackViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4" data-href="https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/album/%E5%B0%8F%E5%B9%B8%E9%81%8B-%E9%9B%BB%E5%BD%B1-%E6%88%91%E7%9A%84%E5%B0%91%E5%A5%B3%E6%99%82%E4%BB%A3-%E4%B8%BB%E9%A1%8C%E6%9B%B2/1017697307?i=1017697311&amp;uo=4</a>&quot;, <br>&quot;previewUrl&quot;:&quot;<a href="https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/Music4/v4/83/51/28/83512811-f5d4-b9d4-88ca-ec1ea2e28b25/mzaf_8664450626030380628.plus.aac.p.m4a" data-href="https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/Music4/v4/83/51/28/83512811-f5d4-b9d4-88ca-ec1ea2e28b25/mzaf_8664450626030380628.plus.aac.p.m4a" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/Music4/v4/83/51/28/83512811-f5d4-b9d4-88ca-ec1ea2e28b25/mzaf_8664450626030380628.plus.aac.p.m4a</a>&quot;, &quot;artworkUrl30&quot;:&quot;<a href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/30x30bb.jpg" data-href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/30x30bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/30x30bb.jpg</a>&quot;, &quot;artworkUrl60&quot;:&quot;<a href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/60x60bb.jpg" data-href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/60x60bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/60x60bb.jpg</a>&quot;, &quot;artworkUrl100&quot;:&quot;<a href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/100x100bb.jpg" data-href="https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/100x100bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is2-ssl.mzstatic.com/image/thumb/Music5/v4/d2/c0/c2/d2c0c211-bf26-37ae-5f81-6fdafe07cace/source/100x100bb.jpg</a>&quot;, &quot;collectionPrice&quot;:20.00, &quot;trackPrice&quot;:20.00, &quot;releaseDate&quot;:&quot;2015-07-10T07:00:00Z&quot;, &quot;collectionExplicitness&quot;:&quot;notExplicit&quot;, &quot;trackExplicitness&quot;:&quot;notExplicit&quot;, &quot;discCount&quot;:1, &quot;discNumber&quot;:1, &quot;trackCount&quot;:1, &quot;trackNumber&quot;:1, &quot;trackTimeMillis&quot;:265522, &quot;country&quot;:&quot;TWN&quot;, &quot;currency&quot;:&quot;TWD&quot;, &quot;primaryGenreName&quot;:&quot;國語流行樂&quot;, &quot;isStreamable&quot;:true}, <br>{&quot;wrapperType&quot;:&quot;track&quot;, &quot;kind&quot;:&quot;song&quot;, &quot;artistId&quot;:417691809, &quot;collectionId&quot;:1365338048, &quot;trackId&quot;:1365338050, &quot;artistName&quot;:&quot;田馥甄&quot;, &quot;collectionName&quot;:&quot;愛了很久的朋友 (電影《後來的我們》插曲) - Single&quot;, &quot;trackName&quot;:&quot;愛了很久的朋友 (電影《後來的我們》插曲)&quot;, &quot;collectionCensoredName&quot;:&quot;愛了很久的朋友 (電影《後來的我們》插曲) - Single&quot;, &quot;trackCensoredName&quot;:&quot;愛了很久的朋友 (電影《後來的我們》插曲)&quot;, &quot;artistViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4" data-href="https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/artist/%E7%94%B0%E9%A6%A5%E7%94%84/417691809?uo=4</a>&quot;, <br>&quot;collectionViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4" data-href="https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4</a>&quot;, <br>&quot;trackViewUrl&quot;:&quot;<a href="https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4" data-href="https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://itunes.apple.com/tw/album/%E6%84%9B%E4%BA%86%E5%BE%88%E4%B9%85%E7%9A%84%E6%9C%8B%E5%8F%8B-%E9%9B%BB%E5%BD%B1-%E5%BE%8C%E4%BE%86%E7%9A%84%E6%88%91%E5%80%91-%E6%8F%92%E6%9B%B2/1365338048?i=1365338050&amp;uo=4</a>&quot;, <br>&quot;previewUrl&quot;:&quot;<a href="https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/AudioPreview128/v4/f8/ac/f0/f8acf08e-3fbc-29d8-9f12-0452a7dc42c1/mzaf_6682930033168084378.plus.aac.p.m4a" data-href="https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/AudioPreview128/v4/f8/ac/f0/f8acf08e-3fbc-29d8-9f12-0452a7dc42c1/mzaf_6682930033168084378.plus.aac.p.m4a" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://audio-ssl.itunes.apple.com/apple-assets-us-std-000001/AudioPreview128/v4/f8/ac/f0/f8acf08e-3fbc-29d8-9f12-0452a7dc42c1/mzaf_6682930033168084378.plus.aac.p.m4a</a>&quot;, &quot;artworkUrl30&quot;:&quot;<a href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/30x30bb.jpg" data-href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/30x30bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/30x30bb.jpg</a>&quot;, &quot;artworkUrl60&quot;:&quot;<a href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/60x60bb.jpg" data-href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/60x60bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/60x60bb.jpg</a>&quot;, &quot;artworkUrl100&quot;:&quot;<a href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/100x100bb.jpg" data-href="https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/100x100bb.jpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://is3-ssl.mzstatic.com/image/thumb/Music128/v4/b7/b1/57/b7b157ed-607d-2a6e-ce52-95ffc850c1eb/source/100x100bb.jpg</a>&quot;, &quot;collectionPrice&quot;:20.00, &quot;trackPrice&quot;:20.00, &quot;releaseDate&quot;:&quot;2018-03-29T07:00:00Z&quot;, &quot;collectionExplicitness&quot;:&quot;notExplicit&quot;, &quot;trackExplicitness&quot;:&quot;notExplicit&quot;, &quot;discCount&quot;:1, &quot;discNumber&quot;:1, &quot;trackCount&quot;:1, &quot;trackNumber&quot;:1, &quot;trackTimeMillis&quot;:268507, &quot;country&quot;:&quot;TWN&quot;, &quot;currency&quot;:&quot;TWD&quot;, &quot;primaryGenreName&quot;:&quot;國語流行樂&quot;, &quot;isStreamable&quot;:true}]<br>}</pre><p name="59ef" id="59ef" class="graf graf--p graf-after--pre">從以上例子，我們看出第一層是 { } ，所以是 dictionary。而 results 的內容是 [ ]，所以是 array。</p><figure name="9382" id="9382" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*KxnoICaChu0k_6IttBoHyA.jpeg" data-width="1310" data-height="1044" src="https://cdn-images-1.medium.com/max/800/1*KxnoICaChu0k_6IttBoHyA.jpeg"></figure><p name="0e2d" id="0e2d" class="graf graf--p graf-after--figure">有些人覺得 { } 和 [ ] 很容易搞混，無法區分，此時還有個小技巧。請記得冒號是 dictionary 的特徵，從<code class="markup--code markup--p-code">&quot;resultCount&quot;:2</code> 我們看到了冒號，因此明白它被包在 dictionary 裡。</p><p name="9818" id="9818" class="graf graf--p graf-after--p">倘若跟 JSON 還不熟，也可以找一些幫我們更容易看懂 JSON 內容的線上網站幫忙，例如 JSON Editor Online 將 JSON 以彩色的文字顯示，而且還將它整理成可以層層展開的架構。</p><div name="5b07" id="5b07" class="graf graf--mixtapeEmbed graf-after--p"><a href="http://jsoneditoronline.org/" data-href="http://jsoneditoronline.org/" class="markup--anchor markup--mixtapeEmbed-anchor" title="http://jsoneditoronline.org/"><strong class="markup--strong markup--mixtapeEmbed-strong">JSON Editor Online - view, edit and format JSON online</strong><br><em class="markup--em markup--mixtapeEmbed-em">JSON Editor Online is a web-based tool to view, edit, and format JSON. It shows your data side by side in a clear…</em>jsoneditoronline.org</a><a href="http://jsoneditoronline.org/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="f224a9c42cebf5d3dbd9b973ee67d0c8"></a></div><figure name="453c" id="453c" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*BYfKuUwjWnYmKU3bHeCMxw.jpeg" data-width="2182" data-height="1250" src="https://cdn-images-1.medium.com/max/800/1*BYfKuUwjWnYmKU3bHeCMxw.jpeg"></figure><p name="a33b" id="a33b" class="graf graf--p graf-after--figure">接著讓我們回到程式的世界，瞧瞧從 URLSessionDataTask 抓取，然後再用 JSONSerialization 解析的 JSON 印出來是什麼模樣。</p><pre name="12fb" id="12fb" class="graf graf--pre graf-after--p">if let urlString = &quot;https://itunes.apple.com/search?term=田馥甄&amp;media=music&amp;country=tw&amp;limit=2&quot;.addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed), let url = URL(string: urlString) {</pre><pre name="df53" id="df53" class="graf graf--pre graf-after--pre">   let task = URLSession.shared.dataTask(with: url) { (data, response, error) in</pre><pre name="c48b" id="c48b" class="graf graf--pre graf-after--pre">      if let data = data, let json = try? JSONSerialization.jsonObject(with: data, options: []) {</pre><pre name="9b92" id="9b92" class="graf graf--pre graf-after--pre">         print(json)</pre><pre name="695c" id="695c" class="graf graf--pre graf-after--pre">      }</pre><pre name="75d3" id="75d3" class="graf graf--pre graf-after--pre">   }</pre><pre name="4313" id="4313" class="graf graf--pre graf-after--pre">   task.resume()</pre><pre name="d408" id="d408" class="graf graf--pre graf-after--pre">}</pre><p name="ba87" id="ba87" class="graf graf--p graf-after--pre">結果</p><figure name="ddba" id="ddba" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ufMCZYTeh9WKWRrHUR3VAg.jpeg" data-width="2032" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*ufMCZYTeh9WKWRrHUR3VAg.jpeg"></figure><p name="ddef" id="ddef" class="graf graf--p graf-after--figure">印出的結果看似跟原本的 JSON 內容一樣，其實有四個明顯不同的地方。</p><blockquote name="1097" id="1097" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">1 dictionary 裡用 = 串接 key 對應的 value，而不是冒號。</strong></blockquote><figure name="d760" id="d760" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*_EutbTIt_gyME5tiu5UPgA.jpeg" data-width="560" data-height="248" src="https://cdn-images-1.medium.com/max/800/1*_EutbTIt_gyME5tiu5UPgA.jpeg"></figure><blockquote name="bc04" id="bc04" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">2 array 變成 ( ) ，而不是 [ ]。</strong></blockquote><figure name="1aef" id="1aef" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*xJ_IJ2UInzTJsn-UpCt82w.jpeg" data-width="560" data-height="248" src="https://cdn-images-1.medium.com/max/800/1*xJ_IJ2UInzTJsn-UpCt82w.jpeg"></figure><blockquote name="19ed" id="19ed" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">3 順序不一樣。</strong></blockquote><p name="5095" id="5095" class="graf graf--p graf-after--blockquote">dictionary 裡 key 的順序和原始 JSON 的順序不同。仔細觀察的話，還可看出印出時 key 將依字母順序排列。</p><figure name="b310" id="b310" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZaDJSeyzQA6ClamkuMXkYg.jpeg" data-width="1266" data-height="820" src="https://cdn-images-1.medium.com/max/800/1*ZaDJSeyzQA6ClamkuMXkYg.jpeg"></figure><blockquote name="8337" id="8337" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">4 中文字變亂碼。</strong></blockquote><p name="d612" id="d612" class="graf graf--p graf-after--blockquote">女神田馥甄的名字變成 <code class="markup--code markup--p-code">&quot;\U7530\U99a5\U7504&quot;</code>。其實 \U 後面的數字是文字的 unicode，7530 對應田，99a5 對應馥，但正常人是看不懂的，可能只有火星人看得懂吧。</p><figure name="f348" id="f348" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*In_O8YCracsT5ckYKCqmEw.jpeg" data-width="786" data-height="180" src="https://cdn-images-1.medium.com/max/800/1*In_O8YCracsT5ckYKCqmEw.jpeg"></figure><p name="ea0b" id="ea0b" class="graf graf--p graf-after--figure">為什麼會有這麼多不同的地方呢 ? 這跟 jsonObject(with:options:) 回傳的資料型別有關。</p><div name="b584" id="b584" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/foundation/jsonserialization/1415493-jsonobject" data-href="https://developer.apple.com/documentation/foundation/jsonserialization/1415493-jsonobject" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/jsonserialization/1415493-jsonobject"><strong class="markup--strong markup--mixtapeEmbed-strong">jsonObject(with:options:) - JSONSerialization | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">The data must be in one of the 5 supported encodings listed in the JSON specification: UTF-8, UTF-16LE, UTF-16BE…</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/jsonserialization/1415493-jsonobject" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="c120fbf203752566de19ea18e6b6de31"></a></div><pre name="9a14" id="9a14" class="graf graf--pre graf-after--mixtapeEmbed">class func jsonObject(with data: Data, <br>              options opt: JSONSerialization.ReadingOptions = []) throws -&gt; Any</pre><p name="32bc" id="32bc" class="graf graf--p graf-after--pre">雖然 -&gt; Any 表示它回傳 Any，但如果成功解析 JSON，它所回傳的東西只有兩種型別，NSDictionary 或 NSArray，因此我們可以用 is 判斷它是 NSDictionary 還是 NSArray。</p><pre name="5dbb" id="5dbb" class="graf graf--pre graf-after--p">if let data = data, let json = try? JSONSerialization.jsonObject(with: data, options: []) {</pre><pre name="ad79" id="ad79" class="graf graf--pre graf-after--pre">   if json is NSDictionary {</pre><pre name="1466" id="1466" class="graf graf--pre graf-after--pre">      print(&quot;is NSDictionary&quot;)</pre><pre name="af3f" id="af3f" class="graf graf--pre graf-after--pre">   } else if json is NSArray {</pre><pre name="8148" id="8148" class="graf graf--pre graf-after--pre">      print(&quot;is NSArray&quot;)</pre><pre name="b2c9" id="b2c9" class="graf graf--pre graf-after--pre">   }</pre><pre name="9386" id="9386" class="graf graf--pre graf-after--pre">}</pre><p name="4774" id="4774" class="graf graf--p graf-after--pre">當 print 列印東西時，它將依東西的型別印出不同的面貌。以我們熟悉的 array 為例，型別 [String] 的 songs 列印的結果跟我們想得差不多，就是以 [ ] 包含的 array。</p><pre name="8841" id="8841" class="graf graf--pre graf-after--p">let songs = [&quot;小幸運&quot;, &quot;愛了很久的朋友&quot;, &quot;你就不要想起我&quot;]</pre><pre name="189c" id="189c" class="graf graf--pre graf-after--pre">print(songs)</pre><figure name="9f3a" id="9f3a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*oTNF39tP9s0jJMqae6fvMA.jpeg" data-width="874" data-height="150" src="https://cdn-images-1.medium.com/max/800/1*oTNF39tP9s0jJMqae6fvMA.jpeg"></figure><p name="5846" id="5846" class="graf graf--p graf-after--figure">但如果我們想不開，將它的型別設為 NSArray 呢 ?</p><pre name="5b45" id="5b45" class="graf graf--pre graf-after--p">let songs: NSArray = [&quot;小幸運&quot;, &quot;愛了很久的朋友&quot;, &quot;你就不要想起我&quot;]</pre><pre name="6568" id="6568" class="graf graf--pre graf-after--pre">print(songs)</pre><figure name="d041" id="d041" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*47x37sdxYDJhn_kvfHWSaw.jpeg" data-width="1072" data-height="296" src="https://cdn-images-1.medium.com/max/800/1*47x37sdxYDJhn_kvfHWSaw.jpeg"></figure><p name="d272" id="d272" class="graf graf--p graf-after--figure">哇，馬上變成了奇怪的 ( ) 跟亂碼。print 列印 NSArray 時是以 ( ) 表示，而且遇到中文之類特別語言的文字會變成亂碼，我們得另外取出它的成員才能正確顯示文字。</p><figure name="3d5b" id="3d5b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*H8eFGGBiLfZf7rVX5HVirQ.jpeg" data-width="1276" data-height="290" src="https://cdn-images-1.medium.com/max/800/1*H8eFGGBiLfZf7rVX5HVirQ.jpeg"></figure><p name="03c8" id="03c8" class="graf graf--p graf-after--figure">同樣的，Swift 的 dictionary 型別和 NSDictionary 也會出現不同的列印結果。</p><pre name="36ab" id="36ab" class="graf graf--pre graf-after--p">let singer: [String: Any] = [&quot;name&quot;: &quot;田馥甄&quot;, &quot;height&quot;: 161, &quot;birthday&quot;: &quot;3/30&quot;]</pre><pre name="255c" id="255c" class="graf graf--pre graf-after--pre">print(singer)</pre><p name="0082" id="0082" class="graf graf--p graf-after--pre">Swift 的 dictionary 型別列印時以 [ ] &amp; 冒號表示。(ps: Swift 的 dictionary &amp; array 都是用 [ ] 表示，不像 JSON 是用 { } 表示 dictionary。)</p><figure name="d4ab" id="d4ab" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*4NsQpOQnf02C8Ep_9R-Owg.jpeg" data-width="1126" data-height="146" src="https://cdn-images-1.medium.com/max/800/1*4NsQpOQnf02C8Ep_9R-Owg.jpeg"></figure><p name="a0f2" id="a0f2" class="graf graf--p graf-after--figure">當型別為 NSDictionary 時，印出的結果將變成以 { } 表示，冒號變成 =，中文字還成了亂碼。</p><pre name="8537" id="8537" class="graf graf--pre graf-after--p">let singer: NSDictionary = [&quot;name&quot;: &quot;田馥甄&quot;, &quot;height&quot;: 161, &quot;birthday&quot;: &quot;3/30&quot;]</pre><pre name="eb9f" id="eb9f" class="graf graf--pre graf-after--pre">print(singer)</pre><figure name="1a25" id="1a25" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*shjKYHFXQ_L_dojddXmCbg.jpeg" data-width="736" data-height="304" src="https://cdn-images-1.medium.com/max/800/1*shjKYHFXQ_L_dojddXmCbg.jpeg"></figure><p name="d533" id="d533" class="graf graf--p graf-after--figure">此時我們得另外從 dictionary 取出 key 對應的內容，中文才能正確顯示。</p><figure name="23ea" id="23ea" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*CONbc2g175mpS9QfWXrViQ.jpeg" data-width="1412" data-height="330" src="https://cdn-images-1.medium.com/max/800/1*CONbc2g175mpS9QfWXrViQ.jpeg"></figure><p name="787d" id="787d" class="graf graf--p graf-after--figure">從剛剛 NSArray &amp; NSDictionary 的列印結果， 我們似乎明白了什麼。</p><figure name="3c99" id="3c99" class="graf graf--figure graf--iframe graf-after--p"><iframe src="https://www.youtube.com/embed/e0Ijo-4OpMc?feature=oembed" width="640" height="480" frameborder="0" scrolling="no"></iframe></figure><p name="3bab" id="3bab" class="graf graf--p graf-after--figure">相信聰明的你已經發覺了，剛剛 jsonObject(with:options:) 回傳值的列印結果長得就像 NSArray 和 NSDictionary 呀。當我們沒有特別轉型時，print 會將 jsonObject(with:options:) 回傳的東西以它實際的型別 NSArray 或 NSDictionary 列印。</p><p name="3287" id="3287" class="graf graf--p graf-after--p">當我們將它轉型成 Swift 的 array &amp; dictionary 型別，印出的結果則變成我們熟悉的模樣。</p><p name="5bf8" id="5bf8" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">轉型為 Swift 的 dictionary 型別 [String: Any]</strong></p><pre name="59f7" id="59f7" class="graf graf--pre graf-after--p">if let data = data, let json = try? JSONSerialization.jsonObject(with: data, options: []) as? [String: Any] {</pre><pre name="2a15" id="2a15" class="graf graf--pre graf-after--pre">   print(json)</pre><pre name="6b77" id="6b77" class="graf graf--pre graf-after--pre">}</pre><p name="3c59" id="3c59" class="graf graf--p graf-after--pre">以 Swift dictionary 的表示方式印出，因此我們看到了 [ ] 和冒號。而 results 對應的內容因為型別指定為 Any，所以它還是以資料實際的型別， NSArray 的格式印出。</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="662d" id="662d" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><img class="graf-image" data-image-id="1*BtuQuD1psoxbSEqTWw21Pg.jpeg" data-width="2036" data-height="486" src="https://cdn-images-1.medium.com/max/1200/1*BtuQuD1psoxbSEqTWw21Pg.jpeg"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="338c" id="338c" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">將 key results 對應的東西轉型為 [[String: Any]]</strong></p><pre name="00a6" id="00a6" class="graf graf--pre graf-after--p">if let data = data, let json = try? JSONSerialization.jsonObject(with: data, options: []) as? [String: Any], let dic = json, <strong class="markup--strong markup--pre-strong">let songs = dic[&quot;results&quot;] as? [[String: Any]]</strong> {</pre><pre name="5b85" id="5b85" class="graf graf--pre graf-after--pre">   print(songs)</pre><pre name="a490" id="a490" class="graf graf--pre graf-after--pre">}</pre><p name="5c5d" id="5c5d" class="graf graf--p graf-after--pre">以 Swift array &amp; dictionary 的表示方式印出。</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="6588" id="6588" class="graf graf--figure graf--layoutOutsetCenter graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*D2YyEZhqmLGBs5oi3udmnQ.jpeg" data-width="2042" data-height="408" src="https://cdn-images-1.medium.com/max/1200/1*D2YyEZhqmLGBs5oi3udmnQ.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/46ee890863ed"><time class="dt-published" datetime="2019-01-07T10:01:00.527Z">January 7, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/json-%E5%9C%A8-swift-%E8%A3%A1%E5%8D%B0%E5%88%97%E7%9A%84%E6%A8%A1%E6%A8%A3-46ee890863ed" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>