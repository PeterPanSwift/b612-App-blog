<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>enum 儲存相關聯資料的 associated value</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">enum 儲存相關聯資料的 associated value</h1>
</header>
<section data-field="subtitle" class="p-summary">
Swift 的 enum 有個特別的 associated value 語法，它將讓 enum 的 case 具有儲存相關聯資料的特異功能。接下來讓我們透過實際的例子好好認識它吧。
</section>
<section data-field="body" class="e-content">
<section name="1466" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="146f" id="146f" class="graf graf--h3 graf--leading graf--title">enum 儲存相關聯資料的 associated value</h3><figure name="1adf" id="1adf" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*Sm5CHxdh5AEA7LM6aoEYaw.jpeg" data-width="1688" data-height="968" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Sm5CHxdh5AEA7LM6aoEYaw.jpeg"></figure><p name="7fe8" id="7fe8" class="graf graf--p graf-after--figure">Swift 的 enum 有個特別的 associated value 語法，它將讓 enum 的 case 具有儲存相關聯資料的特異功能。接下來讓我們透過實際的例子好好認識它吧。</p><div name="d7c7" id="d7c7" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/enumerations/" data-href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/enumerations/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/enumerations/"><strong class="markup--strong markup--mixtapeEmbed-strong">Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Copyright © 2014-2023 Apple Inc. and the Swift project authors. All rights reserved.</em>docs.swift.org</a><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/enumerations/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="ac2c0c60edb181f8ce43a2dbe5800783"></a></div><h3 name="d53b" id="d53b" class="graf graf--h3 graf-after--mixtapeEmbed">儲存相關聯資料的 associated value</h3><p name="ed26" id="ed26" class="graf graf--p graf-after--h3">假設我們定義 enum Status 記錄上班是否準時。在 Status 裡我們宣告兩種成員， onTime 表示準時抵達的乖寶寶，delayed 表示人在江湖，身不由己造成的遲到。</p><p name="5c66" id="5c66" class="graf graf--p graf-after--p">我們希望 delayed 的 case 不只能說明遲到，還能告訴我們遲到了幾分幾秒。因此在宣告 case delayed 時，我們運用能儲存相關聯資料的 associated value 語法。</p><p name="f2ec" id="f2ec" class="graf graf--p graf-after--p">associated value 語法的格式如下</p><figure name="6690" id="6690" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PV2U5vH1bJCv_e9N-8qpZg.jpeg" data-width="1616" data-height="442" src="https://cdn-images-1.medium.com/max/800/1*PV2U5vH1bJCv_e9N-8qpZg.jpeg"></figure><p name="fffa" id="fffa" class="graf graf--p graf-after--figure">我們在 delayed 後接 ( )，( ) 裡宣告的參數為儲存資料的 associated value。在這個例子，我們宣告 2 個相關聯的 value， minute 和 second，型別都是 Int，用來儲存遲到了幾分幾秒。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b7c3" id="b7c3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> {<br />    <span class="hljs-keyword">case</span> onTime<br />    <span class="hljs-keyword">case</span> delayed(minute: <span class="hljs-type">Int</span>, second: <span class="hljs-type">Int</span>)<br />}</span></pre><p name="e52f" id="e52f" class="graf graf--p graf-after--pre">要如何設定 associated value 的內容呢? 很簡單，在產生 enum 資料時，於 Status.delayed 後接上 ( )，於 ( ) 裡傳入 associated value 的相關內容。在這個例子，參數分別為 minute 和 second，我們將 minute 指定為 10，second 指定為 20，表示遲到 10 分 20 秒。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e9bd" id="e9bd" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> todayStatus <span class="hljs-operator">=</span> <span class="hljs-type">Status</span>.delayed(minute: <span class="hljs-number">10</span>, second: <span class="hljs-number">20</span>)</span></pre><h3 name="e8ca" id="e8ca" class="graf graf--h3 graf-after--pre">associated value &amp; switch</h3><p name="a9c6" id="a9c6" class="graf graf--p graf-after--h3">當 associated value 和最佳拍檔 switch 結合時，兩者擦出的火花，將產生更大的威力。比方以下例子，我們利用 switch 判斷是否準時。若是完美 onTime，老闆將龍心大悅，幫我們加薪一百萬。若是不幸遲到了，那事情可大可小。20 分 20 秒內可花錢消災，只需扣薪一百萬。否則的話，老闆將火山爆發，我們只好默默打包，準備尋找下一個工作的棲身地。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7164" id="7164" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">checkStatus</span>(<span class="hljs-params">status</span>: <span class="hljs-type">Status</span>) {<br />        <span class="hljs-keyword">switch</span> status {<br />        <span class="hljs-keyword">case</span> .onTime:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;加薪一百萬&quot;</span>)<br />        <span class="hljs-keyword">case</span> .delayed(<span class="hljs-keyword">let</span> minute, <span class="hljs-keyword">let</span> second):<br />            <span class="hljs-keyword">if</span> minute <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span>, second <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span> {<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;東西收一收, 明天不用來了&quot;</span>)<br />            } <span class="hljs-keyword">else</span> {<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;扣薪一百萬&quot;</span>)<br />            }<br />        }<br />}</span></pre><p name="a939" id="a939" class="graf graf--p graf-after--pre">當我們在 switch 裡和 case delayed 比對時，可從<code class="markup--code markup--p-code"> .delayed(let minute, let second)</code> 的參數 minute 和 second 得知遲到的時間。</p><p name="c921" id="c921" class="graf graf--p graf-after--p">想偷懶的話，甚至還有更精簡的寫法，我們可將參數宣告的 let 移到前面，變成 <code class="markup--code markup--p-code">case let .delayed(minute, second)</code>。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="228f" id="228f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">checkStatus</span>(<span class="hljs-params">status</span>: <span class="hljs-type">Status</span>) {<br />        <span class="hljs-keyword">switch</span> status {<br />        <span class="hljs-keyword">case</span> .onTime:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;加薪一百萬&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> .delayed(minute, second):<br />            <span class="hljs-keyword">if</span> minute <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span>, second <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span> {<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;東西收一收, 明天不用來了&quot;</span>)<br />            } <span class="hljs-keyword">else</span> {<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;扣薪一百萬&quot;</span>)<br />            }<br />        }<br />}</span></pre><p name="fa6f" id="fa6f" class="graf graf--p graf-after--pre">在 switch 裡利用 case 比對 associated value 時，我們也可結合 where，直接將相關的比較用 where 串接。比方以下例子利用 <code class="markup--code markup--p-code">where minute &gt; 0 </code>判斷遲到超過一分鐘時，東西收一收，明天不用來了。另外由於 second 用不到，所以以下例子裡我們使用 <code class="markup--code markup--p-code">delayed(minute, _)</code>，將 second 以 _ 代替。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="44a7" id="44a7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">checkStatus</span>(<span class="hljs-params">status</span>: <span class="hljs-type">Status</span>) {<br />        <span class="hljs-keyword">switch</span> status {<br />        <span class="hljs-keyword">case</span> .onTime:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;加薪一百萬&quot;</span>)<br />        <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> .delayed(minute, <span class="hljs-keyword">_</span>) <span class="hljs-keyword">where</span> minute <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span>:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;東西收一收, 明天不用來了&quot;</span>)<br />        <span class="hljs-keyword">default</span>:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;扣薪一百萬&quot;</span>)<br />        }<br />}</span></pre><p name="1bd2" id="1bd2" class="graf graf--p graf-after--pre">當我們不需要判斷 associated value 時，也可以直接省略它們，因此以下例子寫成 <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">case .delayed</strong></code>，省略後面的 ( )。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e743" id="e743" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">checkStatus</span>(<span class="hljs-params">status</span>: <span class="hljs-type">Status</span>) {<br />        <span class="hljs-keyword">switch</span> status {<br />        <span class="hljs-keyword">case</span> .onTime:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;加薪一百萬&quot;</span>)<br />        <span class="hljs-keyword">case</span> .delayed:<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;東西收一收, 明天不用來了&quot;</span>)<br />        }<br />}</span></pre><h3 name="1e0d" id="1e0d" class="graf graf--h3 graf-after--pre">省略參數名的 associated value</h3><p name="93b4" id="93b4" class="graf graf--p graf-after--h3">在宣告 associated value 的參數時，我們也可以只宣告型別，省略參數名。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6e67" id="6e67" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> {<br />    <span class="hljs-keyword">case</span> onTime<br />    <span class="hljs-keyword">case</span> delayed(<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>)<br />}<br /><br /><span class="hljs-keyword">let</span> todayStatus <span class="hljs-operator">=</span> <span class="hljs-type">Status</span>.delayed(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)</span></pre><h3 name="3078" id="3078" class="graf graf--h3 graf-after--pre">raw value &amp; associated value 的 PK</h3><p name="6a50" id="6a50" class="graf graf--p graf-after--h3">跟 enum 的另一個 raw value 功能相比，associated value 有以下幾點勝出之處:</p><ul class="postList"><li name="243d" id="243d" class="graf graf--li graf-after--p">可在產生 enum 資料時設定 associated value 的內容，raw value 只能在定義 enum 時指定，之後不能更改。</li><li name="0820" id="0820" class="graf graf--li graf-after--li">能和多個 value 相關聯，享有如同一夫多妻的福利，不像 raw value 只能一對一，遵守傳統的一夫一妻制。</li><li name="cc8a" id="cc8a" class="graf graf--li graf-after--li">相關聯的 value 可以是任何型別，甚至是類別生成的物件。raw value 只能搭配 String，Int 等基本型別。</li></ul><h3 name="532a" id="532a" class="graf graf--h3 graf-after--li">Apple 官網的 associated value 範例</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c7b6" id="c7b6" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Barcode</span> {<br />    <span class="hljs-keyword">case</span> upc(<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>)<br />    <span class="hljs-keyword">case</span> qrCode(<span class="hljs-type">String</span>)<br />}</span></pre><p name="7be4" id="7be4" class="graf graf--p graf-after--pre">以 enum 定義 Barcode，upc 儲存 4 個數字，qrCode 儲存字串。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="c5f6" id="c5f6" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 66.005%;"><img class="graf-image" data-image-id="1*SjNOYItDsoL3Gekbt9Ub3w.jpeg" data-width="564" data-height="246" src="https://cdn-images-1.medium.com/max/800/1*SjNOYItDsoL3Gekbt9Ub3w.jpeg"></figure><figure name="76e8" id="76e8" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.995%;"><img class="graf-image" data-image-id="1*rYg-wQFusmoeR-XgthfamA.jpeg" data-width="418" data-height="354" src="https://cdn-images-1.medium.com/max/600/1*rYg-wQFusmoeR-XgthfamA.jpeg"><figcaption class="imageCaption" style="width: 294.161%; left: -194.161%;">左邊是 UPC，右邊是 qrCode</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8ff2" id="8ff2" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> productBarcode <span class="hljs-operator">=</span> <span class="hljs-type">Barcode</span>.upc(<span class="hljs-number">8</span>, <span class="hljs-number">85909</span>, <span class="hljs-number">51226</span>, <span class="hljs-number">3</span>)<br />productBarcode <span class="hljs-operator">=</span> .qrCode(<span class="hljs-string">&quot;ABCDEFGHIJKLMNOP&quot;</span>)<br /><span class="hljs-keyword">switch</span> productBarcode {<br /><span class="hljs-keyword">case</span> .upc(<span class="hljs-keyword">let</span> numberSystem, <span class="hljs-keyword">let</span> manufacturer, <span class="hljs-keyword">let</span> product, <span class="hljs-keyword">let</span> check):<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;UPC: <span class="hljs-subst">\(numberSystem)</span>, <span class="hljs-subst">\(manufacturer)</span>, <span class="hljs-subst">\(product)</span>, <span class="hljs-subst">\(check)</span>.&quot;</span>)<br /><span class="hljs-keyword">case</span> .qrCode(<span class="hljs-keyword">let</span> productCode):<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;QR code: <span class="hljs-subst">\(productCode)</span>.&quot;</span>)<br />}</span></pre><h3 name="2fb2" id="2fb2" class="graf graf--h3 graf-after--pre">Swift 的 associated value 範例: Optional</h3><div name="1171" id="1171" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/optional-%E7%9A%84%E7%9C%9F%E9%9D%A2%E7%9B%AE%E5%8E%9F%E4%BE%86%E6%98%AF-enum-ca9ea924f631" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/optional-%E7%9A%84%E7%9C%9F%E9%9D%A2%E7%9B%AE%E5%8E%9F%E4%BE%86%E6%98%AF-enum-ca9ea924f631" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/optional-%E7%9A%84%E7%9C%9F%E9%9D%A2%E7%9B%AE%E5%8E%9F%E4%BE%86%E6%98%AF-enum-ca9ea924f631"><strong class="markup--strong markup--mixtapeEmbed-strong">Optional 的真面目原來是 enum</strong><br><em class="markup--em markup--mixtapeEmbed-em">撰寫 Swift 程式時，我們時常用到 optional，為了它使用 ? &amp; !。現在是時候揭開它的真面目了。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/optional-%E7%9A%84%E7%9C%9F%E9%9D%A2%E7%9B%AE%E5%8E%9F%E4%BE%86%E6%98%AF-enum-ca9ea924f631" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7f839dbeb50a11056e830c92891016d4" data-thumbnail-img-id="1*4EOidZ8VRLMFilszaho6XQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*4EOidZ8VRLMFilszaho6XQ.jpeg);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/26ab3e061a16"><time class="dt-published" datetime="2020-04-05T16:21:04.203Z">April 5, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/enum-%E5%84%B2%E5%AD%98%E7%9B%B8%E9%97%9C%E8%81%AF%E8%B3%87%E6%96%99%E7%9A%84-associated-value-26ab3e061a16" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>