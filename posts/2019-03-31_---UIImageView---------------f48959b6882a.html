<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 UIImageView 實現多張圖片連續播放的動畫</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 UIImageView 實現多張圖片連續播放的動畫</h1>
</header>
<section data-field="subtitle" class="p-summary">
iOS App 無法直接播放 gif，除非透過一些第三方套件的程式。不過我們可以換個方法，先將 gif 分解成多張圖片，然後透過 UIImageView 實現多張圖片連續播放的動畫效果。
</section>
<section data-field="body" class="e-content">
<section name="a962" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f258" id="f258" class="graf graf--h3 graf--leading graf--title">利用 UIImageView 實現<strong class="markup--strong markup--h3-strong">多張圖片連續播放的動畫</strong></h3><p name="62c6" id="62c6" class="graf graf--p graf-after--h3">從 iOS 13 開始，我們可以利用 function CGAnimateImageDataWithBlock &amp; CGAnimateImageAtURLWithBlock 播放 gif。</p><div name="61a3" id="61a3" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cganimateimageaturlwithblock-%E6%92%AD%E6%94%BE-gif-4780071b835e" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cganimateimageaturlwithblock-%E6%92%AD%E6%94%BE-gif-4780071b835e" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cganimateimageaturlwithblock-%E6%92%AD%E6%94%BE-gif-4780071b835e"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 CGAnimateImageDataWithBlock &amp; CGAnimateImageAtURLWithBlock 播放 gif</strong><br><em class="markup--em markup--mixtapeEmbed-em">從 iOS 13 開始，我們可以利用 function CGAnimateImageAtURLWithBlock 播放 gif 了 !</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-cganimateimageaturlwithblock-%E6%92%AD%E6%94%BE-gif-4780071b835e" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ef486d2a48a5d30feb0ea05b30d1ce1f" data-thumbnail-img-id="1*wukyJun3w1or7Gs4uv5eVw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*wukyJun3w1or7Gs4uv5eVw.jpeg);"></a></div><p name="17b4" id="17b4" class="graf graf--p graf-after--mixtapeEmbed">不過 iOS 13 之前的要怎麼辦呢 ? 沒關係，我們可以換個方法，先將 gif 分解成多張圖片，然後透過 UIImageView 實現多張圖片連續播放的動畫效果。</p><div name="aa20" id="aa20" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/uiimageview" data-href="https://developer.apple.com/documentation/uikit/uiimageview" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uiimageview"><strong class="markup--strong markup--mixtapeEmbed-strong">UIImageView | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A view that displays a single image or a sequence of animated images in your interface.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uiimageview" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="1db1019313e2224c3a5941572a626268" data-thumbnail-img-id="0*xLspEri2baZap_pQ" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*xLspEri2baZap_pQ);"></a></div><p name="e308" id="e308" class="graf graf--p graf-after--mixtapeEmbed">UIImageView 播放動畫的步驟說明。</p><blockquote name="2f22" id="2f22" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">1 下載 gif</strong></blockquote><div name="2d7c" id="2d7c" class="graf graf--mixtapeEmbed graf-after--blockquote"><a href="http://www.animatedimages.org" data-href="http://www.animatedimages.org" class="markup--anchor markup--mixtapeEmbed-anchor" title="http://www.animatedimages.org"><strong class="markup--strong markup--mixtapeEmbed-strong">Thousands of animated gifs, images, pictures &amp; animations: 100% FREE!</strong><br><em class="markup--em markup--mixtapeEmbed-em">Find thousands of animated gifs, images &amp; animations on AnimatedImages.org! More than 100,000 images and pictures…</em>www.animatedimages.org</a><a href="http://www.animatedimages.org" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="5eaaf348c51d5f38733adc273e28ede3" data-thumbnail-img-id="0*YNigQ10KkVOtK15H" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*YNigQ10KkVOtK15H);"></a></div><figure name="e24f" id="e24f" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*Ux8XiE9Edsn1z5mHQw0Bcg.png" data-width="1484" data-height="828" src="https://cdn-images-1.medium.com/max/800/1*Ux8XiE9Edsn1z5mHQw0Bcg.png"></figure><blockquote name="3f1f" id="3f1f" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">2 將 gif 轉成多張圖片</strong></blockquote><p name="d4f6" id="d4f6" class="graf graf--p graf-after--blockquote">將 gif 上傳到網站，將 gif 轉成多張圖片後下載。</p><div name="2c9b" id="2c9b" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://image.online-convert.com/convert/gif-to-png" data-href="https://image.online-convert.com/convert/gif-to-png" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://image.online-convert.com/convert/gif-to-png"><strong class="markup--strong markup--mixtapeEmbed-strong">GIF to PNG online file converter</strong><br><em class="markup--em markup--mixtapeEmbed-em">To convert in the opposite direction, click here to convert from PNG to GIF: PNG to GIF converter Not convinced? Click…</em>image.online-convert.com</a><a href="https://image.online-convert.com/convert/gif-to-png" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c2f7e18d26ede4c7961d0f4c60c4c2e6" data-thumbnail-img-id="0*nLZm1nz60NQsI5RU" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*nLZm1nz60NQsI5RU);"></a></div><p name="a409" id="a409" class="graf graf--p graf-after--mixtapeEmbed">點選 Download ZIP File。</p><figure name="0e03" id="0e03" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_YOdJyjs7s0Ft36XCBqSBg.png" data-width="1556" data-height="230" src="https://cdn-images-1.medium.com/max/800/1*_YOdJyjs7s0Ft36XCBqSBg.png"></figure><figure name="0180" id="0180" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*w-iu4twNsPtaaZB5_AhaMQ.png" data-width="1026" data-height="492" src="https://cdn-images-1.medium.com/max/800/1*w-iu4twNsPtaaZB5_AhaMQ.png"></figure><p name="95dd" id="95dd" class="graf graf--p graf-after--figure">其它 gif 轉成多張圖片的網站。</p><div name="21ac" id="21ac" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://convertio.co/gif-png/" data-href="https://convertio.co/gif-png/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://convertio.co/gif-png/"><strong class="markup--strong markup--mixtapeEmbed-strong">Convert GIF to PNG (Online &amp; Free) — Convertio</strong><br><em class="markup--em markup--mixtapeEmbed-em">GIF is a format for the exchange of images. It is a popular format graphics. Capable of storing compressed data without…</em>convertio.co</a><a href="https://convertio.co/gif-png/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="2de78c7cf773745d5b65891da7e24636"></a></div><div name="d10a" id="d10a" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://ezgif.com/gif-to-apng" data-href="https://ezgif.com/gif-to-apng" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://ezgif.com/gif-to-apng"><strong class="markup--strong markup--mixtapeEmbed-strong">Convert GIF to Animated PNG</strong><br><em class="markup--em markup--mixtapeEmbed-em">For permanent links you can use: https://ezgif.com/gif-to-apng?url=https://example.com/source-image.gif Convert…</em>ezgif.com</a><a href="https://ezgif.com/gif-to-apng" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="efbeb886d13c3180e63ba28416d592ca"></a></div><blockquote name="7d1c" id="7d1c" class="graf graf--blockquote graf-after--mixtapeEmbed"><strong class="markup--strong markup--blockquote-strong">3 將圖片加到 Xcode 專案的 Assets.xcassets。</strong></blockquote><figure name="c591" id="c591" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*f75dJYyRK4hhGLgQ2lWMDA.jpeg" data-width="1494" data-height="760" src="https://cdn-images-1.medium.com/max/800/1*f75dJYyRK4hhGLgQ2lWMDA.jpeg"></figure><blockquote name="b6e4" id="b6e4" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">4 在 controller 的 function viewDidLoad 裡設定 image view 播放動畫。</strong></blockquote><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="833b" id="833b" class="graf graf--pre graf-after--blockquote graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br /><br />   <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />      <span class="hljs-keyword">super</span>.viewDidLoad()<br />      <span class="hljs-keyword">let</span> imageView <span class="hljs-operator">=</span> <span class="hljs-type">UIImageView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">30</span>, y: <span class="hljs-number">30</span>, width: <span class="hljs-number">201</span>, height: <span class="hljs-number">131</span>))<br />      view.addSubview(imageView)<br />      <span class="hljs-keyword">let</span> animatedImage <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>.animatedImageNamed(<span class="hljs-string">&quot;a06fc2aa3f2a4968e4716e36f4a0cb3b-&quot;</span>, duration: <span class="hljs-number">1</span>)<br />      imageView.image <span class="hljs-operator">=</span> animatedImage<br />   }<br />}</span></pre><p name="ed0b" id="ed0b" class="graf graf--p graf-after--pre">說明</p><ul class="postList"><li name="69f7" id="69f7" class="graf graf--li graf-after--p">產生 image view。</li></ul><p name="f890" id="f890" class="graf graf--p graf-after--li">寬高請參考原始圖片的尺寸。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e58c" id="e58c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> imageView <span class="hljs-operator">=</span> <span class="hljs-type">UIImageView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">30</span>, y: <span class="hljs-number">30</span>, width: <span class="hljs-number">201</span>, height: <span class="hljs-number">131</span>))</span></pre><ul class="postList"><li name="aab4" id="aab4" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">產生代表動畫圖片的 UIImage 物件。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="d99d" id="d99d" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> animatedImage <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>.animatedImageNamed(<span class="hljs-string">&quot;a06fc2aa3f2a4968e4716e36f4a0cb3b-&quot;</span>, duration: <span class="hljs-number">1</span>)</span></pre><figure name="6501" id="6501" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*qyvAH0vhUANc1nrkwM4NJQ.jpeg" data-width="1920" data-height="184" src="https://cdn-images-1.medium.com/max/800/1*qyvAH0vhUANc1nrkwM4NJQ.jpeg"></figure><p name="aee4" id="aee4" class="graf graf--p graf-after--figure">呼叫 UIImage 的型別 function animatedImageNamed，參數 name 傳入圖片的名字，duration 傳入動畫的時間(以秒為單位)。</p><p name="6441" id="6441" class="graf graf--p graf-after--p">等等，我們不是有多張圖片，名字是 a06fc2aa3f2a4968e4716e36f4a0cb3b-0 到 a06fc2aa3f2a4968e4716e36f4a0cb3b-7 嗎 ? 別擔心，我們只需傳入開頭的 <code class="markup--code markup--p-code">a06fc2aa3f2a4968e4716e36f4a0cb3b-</code>，function animatedImageNamed 很聰明，它會自動在結尾補上數字，從數字 0 開始找尋以此數字開頭的圖片，因此它將找到 a06fc2aa3f2a4968e4716e36f4a0cb3b-0 ~ a06fc2aa3f2a4968e4716e36f4a0cb3b-7 組合出圖片的動畫。</p><div name="d549" id="d549" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/uikit/uiimage/1624094-animatedimagenamed" data-href="https://developer.apple.com/documentation/uikit/uiimage/1624094-animatedimagenamed" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uiimage/1624094-animatedimagenamed"><strong class="markup--strong markup--mixtapeEmbed-strong">animatedImageNamed(_:duration:) | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Creates and returns an animated image.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uiimage/1624094-animatedimagenamed" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d341db474a0eb12496aaf438b6892764" data-thumbnail-img-id="0*7DmaPh3284OyhXff" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*7DmaPh3284OyhXff);"></a></div><figure name="b675" id="b675" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*tnM3jfd7msy1y-LWGeV_cA.png" data-width="2048" data-height="440" src="https://cdn-images-1.medium.com/max/800/1*tnM3jfd7msy1y-LWGeV_cA.png"></figure><p name="47c0" id="47c0" class="graf graf--p graf-after--figure">關於圖片名字的部分，還有幾個要注意的小地方:</p><ol class="postList"><li name="31ec" id="31ec" class="graf graf--li graf-after--p">圖片名字必須以數字結尾，從某個數字開始依序遞增，因為 function animatedImageNamed 將以此決定圖片動畫的順序，比方剛剛範例的圖片從數字 0 開始。</li><li name="5d6f" id="5d6f" class="graf graf--li graf-after--li">圖片名字結尾的數字最大可以到 1024，因此我們最多可以用 1025 張圖片組合出動畫。</li></ol><ul class="postList"><li name="5164" id="5164" class="graf graf--li graf-after--li">將 image view 的 image 指定為代表動畫圖片的 UIImage 物件。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="890e" id="890e" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">imageView.image <span class="hljs-operator">=</span> animatedImage</span></pre><h3 name="17eb" id="17eb" class="graf graf--h3 graf-after--pre">輪播照片</h3><p name="13ba" id="13ba" class="graf graf--p graf-after--h3">利用剛剛的方法，我們還可以實現簡單的輪播照片效果。</p><p name="2f02" id="2f02" class="graf graf--p graf-after--p">以下我們加入 peter 4 張帥氣的照片。</p><figure name="a923" id="a923" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZmupUZ9e0lisUWAF08HeMA.png" data-width="1724" data-height="1200" src="https://cdn-images-1.medium.com/max/800/1*ZmupUZ9e0lisUWAF08HeMA.png"></figure><p name="881e" id="881e" class="graf graf--p graf-after--figure">設定 duration 為 8，因為有 4 張圖片，所以每張圖片將停留 2 秒的時間，然後再換下一張圖片。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1e44" id="1e44" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <br />    <span class="hljs-keyword">let</span> imageView <span class="hljs-operator">=</span> <span class="hljs-type">UIImageView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">30</span>, y: <span class="hljs-number">30</span>, width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>))<br />    imageView.contentMode <span class="hljs-operator">=</span> .scaleAspectFit<br />    view.addSubview(imageView)<br />    <span class="hljs-keyword">let</span> animatedImage <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>.animatedImageNamed(<span class="hljs-string">&quot;peter&quot;</span>, duration: <span class="hljs-number">8</span>)<br />    imageView.image <span class="hljs-operator">=</span> animatedImage<br />}</span></pre><p name="bfb0" id="bfb0" class="graf graf--p graf-after--pre">此做法可以做到簡單的照片輪播，不過換圖時是瞬間切換，因此不會有水平移動或淡入淡出的動畫效果。</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="ca07" id="ca07" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><img class="graf-image" data-image-id="1*cflFEQ-Q-1x-lBW-k0DWeg.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*cflFEQ-Q-1x-lBW-k0DWeg.png"></figure><figure name="0ec0" id="0ec0" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><img class="graf-image" data-image-id="1*Hkq0mE-U9RqWaeXmDPKejA.png" data-width="1170" data-height="2532" src="https://cdn-images-1.medium.com/max/600/1*Hkq0mE-U9RqWaeXmDPKejA.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="2026" id="2026" class="graf graf--h3 graf-after--figure">讓動畫跑固定次數</h3><p name="5858" id="5858" class="graf graf--p graf-after--h3">剛剛的方法可以製作出跑到地老天荒的動畫，但若想讓動畫只跑固定的次數，比方一次就好呢 ?</p><p name="7b4d" id="7b4d" class="graf graf--p graf-after--p">我們必須改用 animationImages 才能限制動畫的次數，方法如下:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8b13" id="8b13" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />    <span class="hljs-keyword">super</span>.viewDidLoad()<br />    <span class="hljs-comment">// Do any additional setup after loading the view.</span><br />    <span class="hljs-keyword">let</span> imageView <span class="hljs-operator">=</span> <span class="hljs-type">UIImageView</span>(frame: <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">30</span>, y: <span class="hljs-number">30</span>, width: <span class="hljs-number">201</span>, height: <span class="hljs-number">131</span>))<br />    view.addSubview(imageView)<br />    <span class="hljs-keyword">var</span> images <span class="hljs-operator">=</span> [<span class="hljs-type">UIImage</span>]()<br />    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span><span class="hljs-operator">...</span><span class="hljs-number">7</span> {<br />        images.append(<span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;a06fc2aa3f2a4968e4716e36f4a0cb3b-<span class="hljs-subst">\(i)</span>&quot;</span>)<span class="hljs-operator">!</span>)<br />    }<br />    imageView.animationImages <span class="hljs-operator">=</span> images<br />    imageView.animationDuration <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />    imageView.animationRepeatCount <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />    imageView.image <span class="hljs-operator">=</span> images.last<br />    imageView.startAnimating()<br />}</span></pre><p name="ea62" id="ea62" class="graf graf--p graf-after--pre">說明:</p><ul class="postList"><li name="e302" id="e302" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">產生動畫圖片的 array，將它存到 image view 的 animationImages。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e84f" id="e84f" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> images <span class="hljs-operator">=</span> [<span class="hljs-type">UIImage</span>]()<br /><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span><span class="hljs-operator">...</span><span class="hljs-number">7</span> {<br />    images.append(<span class="hljs-type">UIImage</span>(named: <span class="hljs-string">&quot;a06fc2aa3f2a4968e4716e36f4a0cb3b-<span class="hljs-subst">\(i)</span>&quot;</span>)<span class="hljs-operator">!</span>)<br />}<br />imageView.animationImages <span class="hljs-operator">=</span> images</span></pre><ul class="postList"><li name="b70f" id="b70f" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">指定動畫的時間(animationDuration) 1 秒，動畫的次數(animationRepeatCount)一次。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="869f" id="869f" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">imageView.animationDuration <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br />imageView.animationRepeatCount <span class="hljs-operator">=</span> <span class="hljs-number">1</span></span></pre><ul class="postList"><li name="d111" id="d111" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">設定 image view 的圖片為動畫的最後一張圖。</strong></li></ul><p name="8958" id="8958" class="graf graf--p graf-after--li">讓動畫終止時顯示最後一張圖。如果忘了寫這一次，動畫結束時圖片將無情地消失在我們眼前。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="91c6" id="91c6" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">imageView.image <span class="hljs-operator">=</span> images.last</span></pre><ul class="postList"><li name="c108" id="c108" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">開始動畫。</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="52db" id="52db" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content">imageView.startAnimating()</span></pre><h3 name="c1ed" id="c1ed" class="graf graf--h3 graf-after--pre">停止動畫</h3><div name="20cb" id="20cb" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://developer.apple.com/documentation/uikit/uiimageview/1621057-stopanimating" data-href="https://developer.apple.com/documentation/uikit/uiimageview/1621057-stopanimating" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/uikit/uiimageview/1621057-stopanimating"><strong class="markup--strong markup--mixtapeEmbed-strong">stopAnimating() | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Stops animating the images in the receiver.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/uikit/uiimageview/1621057-stopanimating" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f62c4e4544990654c332cbf612f7ed6e" data-thumbnail-img-id="0*JoJb-D0ZNM3bX3hV" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*JoJb-D0ZNM3bX3hV);"></a></div><h3 name="9df2" id="9df2" class="graf graf--h3 graf-after--mixtapeEmbed">使用套件 SwiftyGif</h3><p name="3999" id="3999" class="graf graf--p graf-after--h3">我們也可以使用套件播放 gif，比方使用 SwiftyGif</p><div name="776a" id="776a" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://github.com/kirualex/SwiftyGif" data-href="https://github.com/kirualex/SwiftyGif" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/kirualex/SwiftyGif"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - kirualex/SwiftyGif: High performance GIF engine</strong><br><em class="markup--em markup--mixtapeEmbed-em">High performance &amp; easy to use Gif engine source &#39;https://github.com/CocoaPods/Specs.git&#39; use_frameworks! pod…</em>github.com</a><a href="https://github.com/kirualex/SwiftyGif" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9245a25e13ca4ba01a4fe6466dece735" data-thumbnail-img-id="0*78Ksttm15iApxE6t" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*78Ksttm15iApxE6t);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/f48959b6882a"><time class="dt-published" datetime="2019-03-31T13:23:51.858Z">March 31, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-uiimageview-%E6%92%AD%E6%94%BE%E5%8B%95%E7%95%AB-f48959b6882a" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>