<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>請 AI 解析 PTT 網頁 — 生成 JSON、寫 python 爬蟲程式、開發 iOS App</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">請 AI 解析 PTT 網頁 — 生成 JSON、寫 python 爬蟲程式、開發 iOS App</h1>
</header>
<section data-field="subtitle" class="p-summary">
ptt 看板充滿許多有趣的鄉民討論，之前彼得潘一直想出個搭配 ptt 的作業，請同學製作 ptt 文章列表的 iOS App。
</section>
<section data-field="body" class="e-content">
<section name="0225" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="222f" id="222f" class="graf graf--h3 graf--leading graf--title">請 AI 解析 PTT 網頁 — 生成 JSON、寫 python 爬蟲程式、開發 iOS App</h3><p name="c6ad" id="c6ad" class="graf graf--p graf-after--h3">ptt 看板充滿許多有趣的鄉民討論，之前彼得潘一直想出個搭配 ptt 的作業，請同學製作 ptt 文章列表的 iOS App。</p><p name="cb57" id="cb57" class="graf graf--p graf-after--p">可惜 ptt 官方目前尚未公開 API，因此同學沒有方便的方法取得文章列表。然而最近 AI 的出現，取得 ptt 的內容再也不是難事。由於 ptt 網頁的 html 算滿簡單的，因此 AI 可以勝任解析 html 產生 JSON &amp; 撰寫爬蟲的任務。</p><p name="e9af" id="e9af" class="graf graf--p graf-after--p">以下彼得潘示範透過 GPT 4 解析 ptt 網頁，實現以下功能。</p><ul class="postList"><li name="79b6" id="79b6" class="graf graf--li graf-after--p">將 ptt 文章列表變成 JSON。</li><li name="a450" id="a450" class="graf graf--li graf-after--li">開發 ptt 文章列表的 python 爬蟲程式 — 使用連網的 AI。</li><li name="17ad" id="17ad" class="graf graf--li graf-after--li">開發 ptt 文章列表的 python 爬蟲程式 — 使用沒連網的 AI。</li><li name="20fd" id="20fd" class="graf graf--li graf-after--li">將 ptt 文章列表變成 iOS App。</li><li name="a270" id="a270" class="graf graf--li graf-after--li">解析 ptt 的文章內容。</li><li name="4b21" id="4b21" class="graf graf--li graf-after--li">解析 ptt 的熱門看板。</li><li name="dd5a" id="dd5a" class="graf graf--li graf-after--li">解析 ptt 的表特板照片。</li></ul><h3 name="3c63" id="3c63" class="graf graf--h3 graf-after--li">ptt 的統一獅看板</h3><p name="b559" id="b559" class="graf graf--p graf-after--h3">彼得潘以心愛的球隊統一獅看板為例，以下為統一獅最新文章列表的連結。</p><div name="e5df" id="e5df" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.ptt.cc/bbs/Lions/index4079.html"><strong class="markup--strong markup--mixtapeEmbed-strong">看板 Lions 文章列表 - 批踢踢實業坊</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>www.ptt.cc</a><a href="https://www.ptt.cc/bbs/Lions/index4079.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="86c6cdbb8255d58a4569c284bea46a5f"></a></div><figure name="5114" id="5114" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*pm8RDjk2FKmdpzbopiNiJQ.png" data-width="1278" data-height="1024" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*pm8RDjk2FKmdpzbopiNiJQ.png"></figure><h3 name="927f" id="927f" class="graf graf--h3 graf-after--figure">將 ptt 文章列表變成 JSON</h3><p name="d72b" id="d72b" class="graf graf--p graf-after--h3">請將網頁內容整理成 JSON</p><p name="f0cf" id="f0cf" class="graf graf--p graf-after--p"><a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://www.ptt.cc/bbs/Lions/index4079.html</a></p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="json" name="9264" id="9264" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;posts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 這週用1000和1譜寫不凡人生 張聖豪：「好&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 5/27 洲際客場：給我一顆球&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;doras&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 與陳鴻文隔空互嗆 昨晚暴怒的羅昂解密&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;micheal59&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[閒聊] 三鬼進化成六鬼了嗎？&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shaqjeff&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 230526 以為是久違 其實是首次&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Zhude&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[分享] 獅王SPOTLIGHT#8獅王調查局：誰是獅子&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yuri0626&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 首局5割男 蘇智傑電兄弟&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[轉播] 台鋼統一自辦熱身賽&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hsr7016&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 Lions 板規&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[情報] 職棒34年統一7-ELEVEn獅一軍賽程賽果更新&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;PowderSnow&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/01&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 票務、周邊交換/贈送區&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><br />        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-punctuation">{</span><br />            <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 5月份置底 怒灌/黑特/閒聊區&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/08&quot;</span><br />        <span class="hljs-punctuation">}</span><br />    <span class="hljs-punctuation">]</span><br /><span class="hljs-punctuation">}</span></span></pre><h3 name="fb8f" id="fb8f" class="graf graf--h3 graf-after--pre">開發 ptt 文章列表的 python 爬蟲程式 — 使用連網的 AI</h3><p name="cc66" id="cc66" class="graf graf--p graf-after--h3">寫一個 python 程式解析 html，輸出 JSON 格式的文章清單 <a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://www.ptt.cc/bbs/Lions/index4079.html</a></p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="601a" id="601a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> requests<br /><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br /><span class="hljs-keyword">import</span> json<br /><br />url = <span class="hljs-string">&quot;https://www.ptt.cc/bbs/Lions/index4079.html&quot;</span><br />response = requests.get(url)<br /><br /><span class="hljs-comment"># Parse the HTML</span><br />soup = BeautifulSoup(response.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br /><br /><span class="hljs-comment"># Find all posts</span><br />posts = soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;r-ent&#x27;</span>)<br /><br /><span class="hljs-comment"># Initialize an empty list to store the details of each post</span><br />post_details = []<br /><br /><span class="hljs-comment"># Loop through each post</span><br /><span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:<br />    <span class="hljs-comment"># Extract the title, author, and date</span><br />    title = post.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;title&#x27;</span>).text.strip()<br />    author = post.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;author&#x27;</span>).text.strip()<br />    date = post.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;date&#x27;</span>).text.strip()<br />    <br />    <span class="hljs-comment"># Store the details in a dictionary</span><br />    post_dict = {<br />        <span class="hljs-string">&#x27;title&#x27;</span>: title,<br />        <span class="hljs-string">&#x27;author&#x27;</span>: author,<br />        <span class="hljs-string">&#x27;date&#x27;</span>: date<br />    }<br />    <br />    <span class="hljs-comment"># Add the dictionary to the list</span><br />    post_details.append(post_dict)<br /><br /><span class="hljs-comment"># Convert the list to JSON</span><br />json_output = json.dumps(post_details, ensure_ascii=<span class="hljs-literal">False</span>)<br /><br /><span class="hljs-comment"># Print the JSON output</span><br /><span class="hljs-built_in">print</span>(json_output)</span></pre><p name="7a17" id="7a17" class="graf graf--p graf-after--pre">剛剛的爬蟲程式會印出 JSON，若想將 JSON 另外存檔，可加入以下程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="31fb" id="31fb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ptt.json&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br />    json.dump(post_details, f, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)</span></pre><p name="68e2" id="68e2" class="graf graf--p graf-after--pre">以下是爬蟲程式生成的 JSON。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="json" name="5a6d" id="5a6d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-punctuation">[</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 這週用1000和1譜寫不凡人生 張聖豪：「好&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 5/27 洲際客場：給我一顆球&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;doras&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 與陳鴻文隔空互嗆 昨晚暴怒的羅昂解密&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;micheal59&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[閒聊] 三鬼進化成六鬼了嗎？&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shaqjeff&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 230526 以為是久違 其實是首次&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Zhude&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[分享] 獅王SPOTLIGHT#8獅王調查局：誰是獅子&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yuri0626&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 首局5割男 蘇智傑電兄弟&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[轉播] 台鋼統一自辦熱身賽&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hsr7016&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 Lions 板規&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[情報] 職棒34年統一7-ELEVEn獅一軍賽程賽果更新&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;PowderSnow&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/01&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 票務、周邊交換/贈送區&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><br />  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 5月份置底 怒灌/黑特/閒聊區&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/08&quot;</span><br />  <span class="hljs-punctuation">}</span><br /><span class="hljs-punctuation">]</span></span></pre><p name="475d" id="475d" class="graf graf--p graf-after--pre">有了爬蟲程式，我們可以自由地解析任何 ptt 的文章列表。剛剛範例的連結是 <a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener noopener" target="_blank">https://www.ptt.cc/bbs/Lions/index4079.html</a>，我們只要改變數字即可讀取其它頁面，比方上一頁的網址是 index4078.html。</p><h3 name="0d2d" id="0d2d" class="graf graf--h3 graf-after--p">開發 ptt 文章列表的 python 爬蟲程式 — 使用沒連網的 AI</h3><p name="1bb6" id="1bb6" class="graf graf--p graf-after--h3">使用沒連網的 AI 也可以寫出爬蟲程式，只要我們告訴 AI html 的相關內容。以下為彼得潘詢問 GPT 的 prompt。</p><p name="e935" id="e935" class="graf graf--p graf-after--p">寫一個 python 程式解析 html，輸出 JSON 格式的文章清單，每篇文章包含 4 個欄位，<br>標題，作者，日期和推文數量，其中推文數量的型別為字串</p><p name="dd99" id="dd99" class="graf graf--p graf-after--p">html 的網址是 <br><a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://www.ptt.cc/bbs/Lions/index4079.html</a></p><p name="346e" id="346e" class="graf graf--p graf-after--p">以下是 html 裡某篇文章的區塊內容，div class nerc 的內容是推文數量</p><p name="0f02" id="0f02" class="graf graf--p graf-after--p">&lt;div class=”r-ent”&gt;<br> &lt;div class=”nrec”&gt;&lt;span class=”hl f3&quot;&gt;14&lt;/span&gt;&lt;/div&gt;<br> &lt;div class=”title”&gt;<br> <br> &lt;a href=”/bbs/Lions/M.1685235897.A.A1F.html”&gt;[新聞] 首局5割男 蘇智傑電兄弟&lt;/a&gt;<br> <br> &lt;/div&gt;<br> &lt;div class=”meta”&gt;<br> &lt;div class=”author”&gt;girl10319&lt;/div&gt;<br> &lt;div class=”article-menu”&gt;<br> <br> &lt;div class=”trigger”&gt;&amp;#x22ef;&lt;/div&gt;<br> &lt;div class=”dropdown”&gt;<br> &lt;div class=”item”&gt;&lt;a href=”/bbs/Lions/search?q=thread%3A%5B%E6%96%B0%E8%81%9E%5D&amp;#43;%E9%A6%96%E5%B1%805%E5%89%B2%E7%94%B7&amp;#43;%E8%98%87%E6%99%BA%E5%82%91%E9%9B%BB%E5%85%84%E5%BC%9F”&gt;搜尋同標題文章&lt;/a&gt;&lt;/div&gt;<br> <br> &lt;div class=”item”&gt;&lt;a href=”/bbs/Lions/search?q=author%3Agirl10319&quot;&gt;搜尋看板內 girl10319 的文章&lt;/a&gt;&lt;/div&gt;<br> <br> &lt;/div&gt;<br> <br> &lt;/div&gt;<br> &lt;div class=”date”&gt; 5/28&lt;/div&gt;<br> &lt;div class=”mark”&gt;&lt;/div&gt;<br> &lt;/div&gt;<br> &lt;/div&gt;</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="a522" id="a522" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br /><span class="hljs-keyword">import</span> json<br /><span class="hljs-keyword">import</span> requests<br /><br /><span class="hljs-comment"># 網頁 URL</span><br />url = <span class="hljs-string">&quot;https://www.ptt.cc/bbs/Lions/index4079.html&quot;</span><br /><br /><span class="hljs-comment"># 用 requests 取得網頁內容</span><br />response = requests.get(url)<br />html_content = response.text<br /><br /><span class="hljs-comment"># 用 BeautifulSoup 解析 html</span><br />soup = BeautifulSoup(html_content, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br /><br /><span class="hljs-comment"># 尋找所有的文章區塊</span><br />article_blocks = soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;r-ent&#x27;</span>)<br /><br /><span class="hljs-comment"># 建立文章清單</span><br />articles = []<br /><br /><span class="hljs-keyword">for</span> block <span class="hljs-keyword">in</span> article_blocks:<br />    title_block = block.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;title&#x27;</span>).find(<span class="hljs-string">&#x27;a&#x27;</span>)<br />    title = title_block.text <span class="hljs-keyword">if</span> title_block <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;N/A&quot;</span>  <span class="hljs-comment"># 標題</span><br />    author = block.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;author&#x27;</span>).text  <span class="hljs-comment"># 作者</span><br />    date = block.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;date&#x27;</span>).text.strip()  <span class="hljs-comment"># 日期</span><br />    nrec_block = block.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;nrec&#x27;</span>).find(<span class="hljs-string">&#x27;span&#x27;</span>)<br />    nrec = nrec_block.text <span class="hljs-keyword">if</span> nrec_block <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;0&quot;</span>  <span class="hljs-comment"># 推文數量，儲存為字串型別</span><br /><br />    articles.append({<br />        <span class="hljs-string">&#x27;title&#x27;</span>: title,<br />        <span class="hljs-string">&#x27;author&#x27;</span>: author,<br />        <span class="hljs-string">&#x27;date&#x27;</span>: date,<br />        <span class="hljs-string">&#x27;nrec&#x27;</span>: nrec,<br />    })<br /><br /><span class="hljs-comment"># 將文章清單轉為 JSON 格式並輸出</span><br />articles_json = json.dumps(articles, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)<br /><span class="hljs-built_in">print</span>(articles_json)</span></pre><p name="f299" id="f299" class="graf graf--p graf-after--pre">以下是爬蟲程式生成的 JSON。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="json" name="d835" id="d835" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-punctuation">[</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 這週用1000和1譜寫不凡人生 張聖豪：「好&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;14&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 5/27 洲際客場：給我一顆球&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;doras&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;17&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 與陳鴻文隔空互嗆 昨晚暴怒的羅昂解密&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;micheal59&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;17&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[閒聊] 三鬼進化成六鬼了嗎？&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shaqjeff&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/27&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;X1&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[心得] 230526 以為是久違 其實是首次&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Zhude&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[分享] 獅王SPOTLIGHT#8獅王調查局：誰是獅子&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yuri0626&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;16&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[新聞] 首局5割男 蘇智傑電兄弟&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;girl10319&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;14&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[轉播] 台鋼統一自辦熱身賽 &quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hsr7016&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/28&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;爆&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 Lions 板規&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[情報] 職棒34年統一7-ELEVEn獅一軍賽程賽果更新&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;PowderSnow&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/01&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 2023 票務、周邊交換/贈送區&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4/10&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;爆&quot;</span><br />    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-punctuation">{</span><br />        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;[公告] 5月份置底 怒灌/黑特/閒聊區&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;onlysnoopy&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5/08&quot;</span><span class="hljs-punctuation">,</span><br />        <span class="hljs-attr">&quot;nrec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;15&quot;</span><br />    <span class="hljs-punctuation">}</span><br /><span class="hljs-punctuation">]</span></span></pre><h3 name="e2aa" id="e2aa" class="graf graf--h3 graf-after--pre">將 ptt 文章列表變成 iOS App</h3><p name="4980" id="4980" class="graf graf--p graf-after--h3">請用 SwiftUI 的 List 顯示網頁內容 <a href="https://www.ptt.cc/bbs/Lions/index4079.html" data-href="https://www.ptt.cc/bbs/Lions/index4079.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://www.ptt.cc/bbs/Lions/index4079.html</a></p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="cad8" id="cad8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> posts: [<span class="hljs-type">Post</span>] <span class="hljs-operator">=</span> [<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[新聞] 這週用1000和1譜寫不凡人生 張聖豪：「好&quot;</span>, author: <span class="hljs-string">&quot;girl10319&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[心得] 5/27 洲際客場：給我一顆球&quot;</span>, author: <span class="hljs-string">&quot;doras&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[新聞] 與陳鴻文隔空互嗆 昨晚暴怒的羅昂解密&quot;</span>, author: <span class="hljs-string">&quot;micheal59&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[閒聊] 三鬼進化成六鬼了嗎？&quot;</span>, author: <span class="hljs-string">&quot;shaqjeff&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[心得] 230526 以為是久違 其實是首次&quot;</span>, author: <span class="hljs-string">&quot;Zhude&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[分享] 獅王SPOTLIGHT#8獅王調查局：誰是獅子&quot;</span>, author: <span class="hljs-string">&quot;yuri0626&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[新聞] 首局5割男 蘇智傑電兄弟&quot;</span>, author: <span class="hljs-string">&quot;girl10319&quot;</span>),<br />        <span class="hljs-type">Post</span>(title: <span class="hljs-string">&quot;[轉播] 台鋼統一自辦熱身賽 &quot;</span>, author: <span class="hljs-string">&quot;hsr7016&quot;</span>),<br />    ]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">List</span>(posts) { post <span class="hljs-keyword">in</span><br />            <span class="hljs-type">VStack</span>(alignment: .leading) {<br />                <span class="hljs-type">Text</span>(post.title).font(.headline)<br />                <span class="hljs-type">Text</span>(post.author).font(.subheadline)<br />            }<br />        }<br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Post</span>: <span class="hljs-title class_">Identifiable</span> {<br />    <span class="hljs-keyword">let</span> id <span class="hljs-operator">=</span> <span class="hljs-type">UUID</span>()<br />    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span><br />    <span class="hljs-keyword">let</span> author: <span class="hljs-type">String</span><br />}</span></pre><figure name="b3fd" id="b3fd" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*t9Kpa666rOq2MP1Yhij9rw.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*t9Kpa666rOq2MP1Yhij9rw.png"></figure><p name="d150" id="d150" class="graf graf--p graf-after--figure">學會以上技巧後，我們可以用同樣方法解析 ptt 的其它資料，比方文章內容，熱門看板和表特板照片。</p><h3 name="bfe8" id="bfe8" class="graf graf--h3 graf-after--p">解析 ptt 的文章內容</h3><p name="1b59" id="1b59" class="graf graf--p graf-after--h3">以下我們請 AI 撰寫爬蟲程式解析文章內容。</p><div name="946f" id="946f" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html" data-href="https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html"><strong class="markup--strong markup--mixtapeEmbed-strong">[新聞] 首局5割男 蘇智傑電兄弟</strong><br><em class="markup--em markup--mixtapeEmbed-em">時間 Sun May 28 09:04:54 2023 首局5割男 蘇智傑電兄弟 記者羅志朋／台中報導 「球給智傑」就對了！統一獅蘇智傑昨繳3安猛打賞，包含1發陽春砲，打下3分打點獲選…</em>www.ptt.cc</a><a href="https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="16a361bed4f5d9b6cc10e7b53f1aefcb" data-thumbnail-img-id="0*FT2juwPGs0pZcRP2" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*FT2juwPGs0pZcRP2);"></a></div><figure name="e853" id="e853" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*FvGazqgEwFK_dLvyFLzQZA.png" data-width="1322" data-height="1250" src="https://cdn-images-1.medium.com/max/800/1*FvGazqgEwFK_dLvyFLzQZA.png"></figure><p name="a8cf" id="a8cf" class="graf graf--p graf-after--figure">文章內容的爬蟲程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="0162" id="0162" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> requests<br /><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br /><span class="hljs-keyword">import</span> json<br /><br />url = <span class="hljs-string">&#x27;https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html&#x27;</span><br /><br />res = requests.get(url)<br />soup = BeautifulSoup(res.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br /><br /><span class="hljs-comment"># Extract the post&#x27;s metadata</span><br />meta_data = {<br />    <span class="hljs-string">&#x27;author&#x27;</span>: soup.find(<span class="hljs-string">&#x27;div&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-metaline&#x27;</span>}).find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-meta-value&#x27;</span>}).text,<br />    <span class="hljs-string">&#x27;title&#x27;</span>: soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-metaline&#x27;</span>})[<span class="hljs-number">1</span>].find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-meta-value&#x27;</span>}).text,<br />    <span class="hljs-string">&#x27;date&#x27;</span>: soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-metaline&#x27;</span>})[<span class="hljs-number">2</span>].find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;article-meta-value&#x27;</span>}).text,<br />}<br /><br /><span class="hljs-comment"># Extract the post&#x27;s content</span><br />content = soup.find(<span class="hljs-string">&#x27;div&#x27;</span>, {<span class="hljs-string">&#x27;id&#x27;</span>: <span class="hljs-string">&#x27;main-content&#x27;</span>}).text<br /><br /><span class="hljs-comment"># Extract the comments</span><br />comments = []<br /><span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;push&#x27;</span>}):<br />    push_tag = comment.find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;push-tag&#x27;</span>}).text.strip()<br />    push_userid = comment.find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;push-userid&#x27;</span>}).text.strip()<br />    push_content = comment.find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;push-content&#x27;</span>}).text.strip()<br />    push_time = comment.find(<span class="hljs-string">&#x27;span&#x27;</span>, {<span class="hljs-string">&#x27;class&#x27;</span>: <span class="hljs-string">&#x27;push-ipdatetime&#x27;</span>}).text.strip()<br />    comments.append({<br />        <span class="hljs-string">&#x27;tag&#x27;</span>: push_tag,<br />        <span class="hljs-string">&#x27;userid&#x27;</span>: push_userid,<br />        <span class="hljs-string">&#x27;content&#x27;</span>: push_content,<br />        <span class="hljs-string">&#x27;time&#x27;</span>: push_time,<br />    })<br /><br /><span class="hljs-comment"># Combine all data</span><br />data = {<br />    <span class="hljs-string">&#x27;meta_data&#x27;</span>: meta_data,<br />    <span class="hljs-string">&#x27;content&#x27;</span>: content,<br />    <span class="hljs-string">&#x27;comments&#x27;</span>: comments,<br />}<br /><br /><span class="hljs-comment"># Convert data to JSON</span><br />json_data = json.dumps(data, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)<br /><br /><span class="hljs-comment"># Print the JSON data</span><br /><span class="hljs-built_in">print</span>(json_data)</span></pre><p name="d2eb" id="d2eb" class="graf graf--p graf-after--pre">爬蟲程式產生的 JSON 十分完整，除了完整的文章內容，還包含了鄉民精彩的留言。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="933d" id="933d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">{<br />    <span class="hljs-string">&quot;meta_data&quot;</span>: {<br />        <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;girl10319 (凱莉)&quot;</span>,<br />        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;[新聞] 首局5割男 蘇智傑電兄弟&quot;</span>,<br />        <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;Sun May 28 09:04:54 2023&quot;</span><br />    },<br />    <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;作者girl10319 (凱莉)看板Lions標題[新聞] 首局5割男 蘇智傑電兄弟時間Sun May 28 09:04:54 2023<span class="hljs-subst">\n</span>首局5割男 蘇智傑電兄弟<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>記者羅志朋／台中報導<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>「球給智傑」就對了！統一獅蘇智傑昨繳3安猛打賞，包含1發陽春砲，打下3分打點獲選<span class="hljs-subst">\n</span>單場MVP，加上洋投勝騎士先發7局失1分，攜手助隊以5：1擊敗中信兄弟拿下4連勝。<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>開轟猛打賞 3數據居榜首<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>首局蘇智傑擊出2分打點安打，3局上再轟陽春砲，苦主都是兄弟先發投手鄭浩均，7局上<span class="hljs-subst">\n</span>老將陳鏞基敲2分打點安打奠定勝基，鄭浩均投4局被敲6安失3分苦吞本季第2敗；蘇智傑<span class="hljs-subst">\n</span>累計3成67打擊率、47安、31分打點，都暫居全聯盟第一。<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>去年開季蘇智傑因自打球造成右膝髕骨骨裂動刀，只出賽15場，本季破繭而出，獅隊總教<span class="hljs-subst">\n</span>練林岳平表示，蘇智傑去年受傷急著回歸陣線，結果舊傷復發，今年春訓希望他放慢腳步<span class="hljs-subst">\n</span>，開季逐漸加溫即可，不用一下衝太快。<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>獅4連勝 洋投陣功不可沒<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>本季蘇智傑首局累計22打數敲11安，打擊率高達5成，進帳12分打點，堪稱「首局火熱男<span class="hljs-subst">\n</span>」，他笑說，「要感謝隊友啦，如果他們首局沒上壘，我也沒機會賺打點，今年心態正向<span class="hljs-subst">\n</span>很多，攻擊策略也很明確，喜歡的球就毫不猶豫出棒。」<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>連同勝騎士先發7局失1分奪下個人第3勝，近期獅隊4連勝都由洋投先發，羅昂、布雷克、<span class="hljs-subst">\n</span>克維斯、勝騎士依序登板，總計投27局只掉3分，本季獅隊洋投戰績13勝7敗、防禦率2.26<span class="hljs-subst">\n</span>，目前以勝率5成83暫居榜首，洋投強勢表現功不可沒。<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>林岳平認為，比賽勝負關鍵在3局下，當時勝騎士接連被敲安後取得兩出局，再被岳政華<span class="hljs-subst">\n</span>擊出右外野長打，但林安可、陳重廷迅速轉傳回本壘觸殺跑者岳東華結束攻勢，若讓岳東<span class="hljs-subst">\n</span>華得分，下一棒是周思齊，有可能形成大局。<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>https://sports.ltn.com.tw/news/paper/1585393<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>--<span class="hljs-subst">\n</span>※ 發信站: 批踢踢實業坊(ptt.cc), 來自: 110.28.25.135 (臺灣)<span class="hljs-subst">\n</span>※ 文章網址: https://www.ptt.cc/bbs/Lions/M.1685235897.A.A1F.html<span class="hljs-subst">\n</span>推 KoreanDream : OPS+204.6的男人 05/28 11:28<span class="hljs-subst">\n</span>推 a22580144   : 不要再報了 我很擔心台南鄭先生的週報 被嗨到 05/28 12:12<span class="hljs-subst">\n</span>推 gaga        : 樓上 我看那是必然的了 05/28 12:19<span class="hljs-subst">\n</span>推 NumberOne   : 目前智傑這樣子的成績，才是當初選他進來時，對他 05/28 12:30<span class="hljs-subst">\n</span>→ NumberOne   : 天份兌現的期待，也就是年度mvp競爭者等級的打擊表 05/28 12:30<span class="hljs-subst">\n</span>→ NumberOne   : 現 05/28 12:30<span class="hljs-subst">\n</span>推 NumberOne   : 今年他醒來真的欣慰，不然前幾年的打擊變化，會擔憂 05/28 12:37<span class="hljs-subst">\n</span>→ NumberOne   : 是不是長歪了 05/28 12:37<span class="hljs-subst">\n</span>推 FantasyChopi: 拜託不要再被嗨了 05/28 12:44<span class="hljs-subst">\n</span>推 youarepig999: 完了要上嗨報了XD 05/28 12:57<span class="hljs-subst">\n</span>→ oocooc      : 又要被嗨了 05/28 13:06<span class="hljs-subst">\n</span>推 YaLuBigRock : 打成這樣如果鄭先生不講他就是私心了 05/28 13:34<span class="hljs-subst">\n</span>推 GoIce       : 太強惹 05/28 13:43<span class="hljs-subst">\n</span>→ Gcobs130275 : 協尋 05/28 13:49<span class="hljs-subst">\n</span>推 sluggers    : https://i.imgur.com/lfUWSW5.jpg 05/28 16:39<span class="hljs-subst">\n</span>推 LionFans    : 智傑打擊王真的不習慣 憲打擊or安打 智打點 安HR王 05/28 18:52<span class="hljs-subst">\n</span>→ LionFans    : 這樣好像比較正常 XD 05/28 18:54<span class="hljs-subst">\n</span>→ granturismo : 憲今年應該是生涯最低潮年吧 05/28 19:04<span class="hljs-subst">\n</span>→ goetze      : 其實這幾場陳傑憲有回穩的跡象 05/28 19:46<span class="hljs-subst">\n</span>推 Iori2010    : 被樓主<span class="hljs-subst">\&quot;</span>協尋<span class="hljs-subst">\&quot;</span>之後,居然變回20上半季的球給智傑 05/28 20:39<span class="hljs-subst">\n</span>→ castlewind  : 協尋完以後大爆發 05/28 20:41<span class="hljs-subst">\n</span>推 allyp7985   : 憲哪是最低潮年，ops+ 還有132，他最差是116 05/28 22:13<span class="hljs-subst">\n</span>推 IANSUE      : 智傑突然就醒了～ 05/28 22:41<span class="hljs-subst">\n</span>&quot;</span>,<br />    <span class="hljs-string">&quot;comments&quot;</span>: [<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;KoreanDream&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: OPS+204.6的男人&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 11:28&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;a22580144&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 不要再報了 我很擔心台南鄭先生的週報 被嗨到&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:12&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;gaga&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 樓上 我看那是必然的了&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:19&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;NumberOne&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 目前智傑這樣子的成績，才是當初選他進來時，對他&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:30&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;NumberOne&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 天份兌現的期待，也就是年度mvp競爭者等級的打擊表&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:30&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;NumberOne&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 現&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:30&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;NumberOne&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 今年他醒來真的欣慰，不然前幾年的打擊變化，會擔憂&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:37&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;NumberOne&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 是不是長歪了&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:37&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;FantasyChopi&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 拜託不要再被嗨了&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:44&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;youarepig999&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 完了要上嗨報了XD&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 12:57&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;oocooc&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 又要被嗨了&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 13:06&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;YaLuBigRock&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 打成這樣如果鄭先生不講他就是私心了&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 13:34&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;GoIce&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 太強惹&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 13:43&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;Gcobs130275&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 協尋&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 13:49&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;sluggers&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: https://i.imgur.com/lfUWSW5.jpg&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 16:39&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;LionFans&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 智傑打擊王真的不習慣 憲打擊or安打 智打點 安HR王&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 18:52&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;LionFans&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 這樣好像比較正常 XD&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 18:54&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;granturismo&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 憲今年應該是生涯最低潮年吧&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 19:04&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;goetze&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 其實這幾場陳傑憲有回穩的跡象&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 19:46&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;Iori2010&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 被樓主<span class="hljs-subst">\&quot;</span>協尋<span class="hljs-subst">\&quot;</span>之後,居然變回20上半季的球給智傑&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 20:39&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;→&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;castlewind&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 協尋完以後大爆發&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 20:41&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;allyp7985&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 憲哪是最低潮年，ops+ 還有132，他最差是116&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 22:13&quot;</span><br />        },<br />        {<br />            <span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-string">&quot;推&quot;</span>,<br />            <span class="hljs-string">&quot;userid&quot;</span>: <span class="hljs-string">&quot;IANSUE&quot;</span>,<br />            <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;: 智傑突然就醒了～&quot;</span>,<br />            <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;05/28 22:41&quot;</span><br />        }<br />    ]<br />}</span></pre><h3 name="f728" id="f728" class="graf graf--h3 graf-after--pre">解析 ptt 的熱門看板</h3><p name="935b" id="935b" class="graf graf--p graf-after--h3">以下我們請 AI 撰寫爬蟲程式解析熱門看板。</p><div name="cea9" id="cea9" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.ptt.cc/bbs/hotboards.html" data-href="https://www.ptt.cc/bbs/hotboards.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.ptt.cc/bbs/hotboards.html"><strong class="markup--strong markup--mixtapeEmbed-strong">熱門看板 - 批踢踢實業坊</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>www.ptt.cc</a><a href="https://www.ptt.cc/bbs/hotboards.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="435818a60e789759fa686afb6f486909"></a></div><figure name="2be8" id="2be8" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*dbKDQQoOrhyqK_LyOdV24A.png" data-width="1108" data-height="678" src="https://cdn-images-1.medium.com/max/800/1*dbKDQQoOrhyqK_LyOdV24A.png"></figure><p name="33ad" id="33ad" class="graf graf--p graf-after--figure">熱門看板的爬蟲程式。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="5f68" id="5f68" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> requests<br /><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br /><span class="hljs-keyword">import</span> json<br /><br /><span class="hljs-keyword">def</span> <span class="hljs-title function_">parse_hotboards</span>(<span class="hljs-params">url</span>):<br />    response = requests.get(url)<br />    soup = BeautifulSoup(response.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br /><br />    hotboards = []<br /><br />    <span class="hljs-comment"># Based on the provided HTML structure, we know that each board is represented by a &#x27;div&#x27; with class &#x27;b-ent&#x27;</span><br />    <span class="hljs-keyword">for</span> board_div <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;b-ent&#x27;</span>):<br />        board_details = {}<br />        <br />        <span class="hljs-comment"># Each detail about the board is contained in a &#x27;div&#x27; within the &#x27;b-ent&#x27; div.</span><br />        <span class="hljs-comment"># We can find these using the BeautifulSoup .find method, and then get the text within the div.</span><br />        board_details[<span class="hljs-string">&#x27;name&#x27;</span>] = board_div.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;board-name&#x27;</span>).text<br />        board_details[<span class="hljs-string">&#x27;popularity&#x27;</span>] = board_div.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;board-nuser&#x27;</span>).text<br />        board_details[<span class="hljs-string">&#x27;category&#x27;</span>] = board_div.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;board-class&#x27;</span>).text<br />        board_details[<span class="hljs-string">&#x27;title&#x27;</span>] = board_div.find(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&#x27;board-title&#x27;</span>).text<br /><br />        hotboards.append(board_details)<br /><br />    <span class="hljs-keyword">return</span> json.dumps(hotboards)<br /><br /><span class="hljs-comment"># Use the function</span><br />json_hotboards = parse_hotboards(<span class="hljs-string">&#x27;https://www.ptt.cc/bbs/hotboards.html&#x27;</span>)<br /><span class="hljs-built_in">print</span>(json_hotboards)</span></pre><p name="2a5e" id="2a5e" class="graf graf--p graf-after--pre">爬蟲程式產生的 JSON。</p><figure name="6764" id="6764" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*uH6BQTWDfIes39a-zSnETQ.png" data-width="998" data-height="1140" src="https://cdn-images-1.medium.com/max/800/1*uH6BQTWDfIes39a-zSnETQ.png"></figure><h3 name="6078" id="6078" class="graf graf--h3 graf-after--figure">解析 ptt 的表特板照片</h3><p name="21dd" id="21dd" class="graf graf--p graf-after--h3">以下我們請 AI 解析表特板文章，撰寫爬蟲程式將文章裡的圖片網址整理成 JSON。</p><p name="02df" id="02df" class="graf graf--p graf-after--p">以下連結充滿了 IU 可愛的照片。</p><div name="7215" id="7215" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://www.ptt.cc/bbs/Beauty/M.1684173602.A.28F.html" data-href="https://www.ptt.cc/bbs/Beauty/M.1684173602.A.28F.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://www.ptt.cc/bbs/Beauty/M.1684173602.A.28F.html"><strong class="markup--strong markup--mixtapeEmbed-strong">批踢踢實業坊</strong><br><em class="markup--em markup--mixtapeEmbed-em">Edit description</em>www.ptt.cc</a><a href="https://www.ptt.cc/bbs/Beauty/M.1684173602.A.28F.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="4e4b97e79a53fdd72b076d70619195e6"></a></div><figure name="d3bc" id="d3bc" class="graf graf--figure graf-after--mixtapeEmbed"><img class="graf-image" data-image-id="1*TA7fJpTwWCDzFdvgppv0HA.png" data-width="1334" data-height="1304" src="https://cdn-images-1.medium.com/max/800/1*TA7fJpTwWCDzFdvgppv0HA.png"></figure><p name="f2a4" id="f2a4" class="graf graf--p graf-after--figure">表特板文章的爬蟲程式如下，記得要設定 http header 的 Cookie 是 over18=1，這樣才能跳過 18 歲的檢查抓資料。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="6aa5" id="6aa5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> requests<br /><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br /><span class="hljs-keyword">import</span> json<br /><br /><span class="hljs-keyword">def</span> <span class="hljs-title function_">parse_images</span>(<span class="hljs-params">url</span>):<br />    <span class="hljs-comment"># Set the headers for the request</span><br />    headers = {<br />        <span class="hljs-string">&#x27;Cookie&#x27;</span>: <span class="hljs-string">&#x27;over18=1&#x27;</span><br />    }<br /><br />    response = requests.get(url, headers=headers)<br />    soup = BeautifulSoup(response.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br /><br />    images = []<br /><br />    <span class="hljs-comment"># Select all &#x27;a&#x27; elements</span><br />    <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> soup.select(<span class="hljs-string">&#x27;a&#x27;</span>):<br />        <span class="hljs-comment"># Get the &#x27;href&#x27; attribute of the &#x27;a&#x27; tag, which is the image URL</span><br />        image_url = a.get(<span class="hljs-string">&#x27;href&#x27;</span>)<br />        <span class="hljs-comment"># Check if the href link is an image by checking if it ends with .jpg, .png, etc. Adjust the list of image extensions based on your needs.</span><br />        <span class="hljs-keyword">if</span> image_url <span class="hljs-keyword">and</span> <span class="hljs-built_in">any</span>(image_url.endswith(ext) <span class="hljs-keyword">for</span> ext <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;.jpg&#x27;</span>, <span class="hljs-string">&#x27;.png&#x27;</span>, <span class="hljs-string">&#x27;.jpeg&#x27;</span>, <span class="hljs-string">&#x27;.gif&#x27;</span>]):<br />            images.append(image_url)<br /><br />    <span class="hljs-keyword">return</span> json.dumps(images)<br /><br /><span class="hljs-comment"># Use the function</span><br />json_images = parse_images(<span class="hljs-string">&#x27;https://www.ptt.cc/bbs/Beauty/M.1684173602.A.28F.html&#x27;</span>)<br /><span class="hljs-built_in">print</span>(json_images)</span></pre><p name="2bcd" id="2bcd" class="graf graf--p graf-after--pre">爬蟲程式產生的 JSON。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="839b" id="839b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">[<br />  <span class="hljs-string">&quot;https://i.imgur.com/G2fjckg.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/wjj5F4p.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/rXfBuJF.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/VNNo3es.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/41kOMLq.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/k1eKksN.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/MCrQ89P.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/Gla7hbN.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/DjxL24f.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/lwSIMhp.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/dAAVCt5.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/FUdTW0v.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/twZPqdO.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/I3LlEu8.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/uNfnu40.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/ZgRiuzo.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/s5KGpWL.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/8QW22PO.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/VBSmow4.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/9d20i3c.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/3VqYRkH.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/4PyRGcy.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/e8L8i8I.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/p3cJRIg.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/QtdpSvO.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/DYnLlaw.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;http://i.imgur.com/v31HHor.jpg&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/cg4zCVV.gif&quot;</span>,<br />  <span class="hljs-string">&quot;https://i.imgur.com/oj5hjsN.jpg&quot;</span><br />]</span></pre><h3 name="8c5e" id="8c5e" class="graf graf--h3 graf-after--pre">作業練習</h3><p name="0014" id="0014" class="graf graf--p graf-after--h3">開發 iOS App 顯示 ptt 的內容，JSON 資料可事先透過剛剛的 ptyhon 程式生成，然後將 JSON 檔放在 GitHub 上。</p><div name="62e4" id="62e4" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%90%AD%E9%85%8D-ai-%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E6%84%9F%E8%88%88%E8%B6%A3%E7%9A%84-json-api-f8c3f51cf81d" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%90%AD%E9%85%8D-ai-%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E6%84%9F%E8%88%88%E8%B6%A3%E7%9A%84-json-api-f8c3f51cf81d" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%90%AD%E9%85%8D-ai-%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E6%84%9F%E8%88%88%E8%B6%A3%E7%9A%84-json-api-f8c3f51cf81d"><strong class="markup--strong markup--mixtapeEmbed-strong">搭配 AI 建立自己感興趣的 JSON API</strong><br><em class="markup--em markup--mixtapeEmbed-em">新手剛開始學習串接網路 API 解析 JSON 時，常常會遇到以下兩個問題。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%90%AD%E9%85%8D-ai-%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E6%84%9F%E8%88%88%E8%B6%A3%E7%9A%84-json-api-f8c3f51cf81d" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9d2ebcf50cfa35b86dcd43ba580ba060" data-thumbnail-img-id="1*2mxcczrMRowRy5IMCdKs_Q.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*2mxcczrMRowRy5IMCdKs_Q.png);"></a></div><p name="5e5f" id="5e5f" class="graf graf--p graf-after--mixtapeEmbed">ps: ptt 也正在開發官方的 iOS App，有興趣的朋友可參考以下連結。</p><div name="ba9b" id="ba9b" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://github.com/Ptt-official-app/Ptt-iOS" data-href="https://github.com/Ptt-official-app/Ptt-iOS" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/Ptt-official-app/Ptt-iOS"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - Ptt-official-app/Ptt-iOS</strong><br><em class="markup--em markup--mixtapeEmbed-em">Licensed under the GPLv3: https://www.gnu.org/licenses/gpl-3.0.html Additional Permissions For Submission to Apple App…</em>github.com</a><a href="https://github.com/Ptt-official-app/Ptt-iOS" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="becc8d679b08705682c02bfdd4f4848e" data-thumbnail-img-id="0*JW_l6m2j7jSMstZD" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*JW_l6m2j7jSMstZD);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/a34b198acbff"><time class="dt-published" datetime="2023-05-28T17:35:36.804Z">May 28, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E8%AB%8B-ai-%E8%A7%A3%E6%9E%90-ptt-%E7%B6%B2%E9%A0%81-%E7%94%9F%E6%88%90-json-%E5%AF%AB-python-%E7%88%AC%E8%9F%B2%E7%A8%8B%E5%BC%8F-%E9%96%8B%E7%99%BC-ios-app-a34b198acbff" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>