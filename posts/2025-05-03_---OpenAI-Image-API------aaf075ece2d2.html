<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>串接 OpenAI Image API 生成圖片</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">串接 OpenAI Image API 生成圖片</h1>
</header>
<section data-field="subtitle" class="p-summary">
OpenAI 具備厲害的生圖技術，除了透過 ChatGPT &amp; Sora 網站生成圖片，我們也可以串接 OpenAI Image API，讓自己開發的 App 擁有無與倫比的繪圖功能。
</section>
<section data-field="body" class="e-content">
<section name="8836" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a066" id="a066" class="graf graf--h3 graf--leading graf--title">串接 OpenAI Image API 生成圖片</h3><p name="9294" id="9294" class="graf graf--p graf-after--h3">OpenAI 具備厲害的生圖技術，除了透過 ChatGPT &amp; Sora 網站生成圖片，我們也可以串接 OpenAI Image API，讓自己開發的 App 擁有無與倫比的繪圖功能。</p><h3 name="a3d3" id="a3d3" class="graf graf--h3 graf-after--p">註冊 OpenAI API Platform 帳號、儲值和建立 API key</h3><p name="bc02" id="bc02" class="graf graf--p graf-after--h3">串接 OpenAI API 需要符合以下條件。</p><ul class="postList"><li name="ccf6" id="ccf6" class="graf graf--li graf-after--p">OpenAI API Platform 帳號。</li><li name="e5dd" id="e5dd" class="graf graf--li graf-after--li">大於 0 的儲值金。</li><li name="d40e" id="d40e" class="graf graf--li graf-after--li">API key。</li></ul><p name="2c9b" id="2c9b" class="graf graf--p graf-after--li">相關步驟可參考以下連結。</p><div name="359d" id="359d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%94%A8%E4%B8%80%E9%A4%90%E9%BA%A5%E7%95%B6%E5%8B%9E%E7%9A%84%E9%8C%A2%E7%8E%A9%E7%8E%A9-openai-api-09f2ffeff6cb" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%94%A8%E4%B8%80%E9%A4%90%E9%BA%A5%E7%95%B6%E5%8B%9E%E7%9A%84%E9%8C%A2%E7%8E%A9%E7%8E%A9-openai-api-09f2ffeff6cb" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%94%A8%E4%B8%80%E9%A4%90%E9%BA%A5%E7%95%B6%E5%8B%9E%E7%9A%84%E9%8C%A2%E7%8E%A9%E7%8E%A9-openai-api-09f2ffeff6cb"><strong class="markup--strong markup--mixtapeEmbed-strong">用一餐麥當勞的錢玩玩 OpenAI API</strong><br><em class="markup--em markup--mixtapeEmbed-em">OpenAI 提供豐富的 API 讓我們開發各種結合 AI 的有趣應用，比方聊天機器人、生成圖片，寫程式等。然而天下沒有白吃的午餐，串接 OpenAI 會消耗 token，而 token 必須花錢購買，因此要先儲值才能使用 API。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%94%A8%E4%B8%80%E9%A4%90%E9%BA%A5%E7%95%B6%E5%8B%9E%E7%9A%84%E9%8C%A2%E7%8E%A9%E7%8E%A9-openai-api-09f2ffeff6cb" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7285e92bdccdc88480858c9945177517" data-thumbnail-img-id="1*1DE1ZHcer4a1sv19W1JDkg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*1DE1ZHcer4a1sv19W1JDkg.png);"></a></div><h3 name="f50f" id="f50f" class="graf graf--h3 graf-after--mixtapeEmbed">認證身份</h3><p name="dfeb" id="dfeb" class="graf graf--p graf-after--h3">OpenAI 提供許多 API，其中較厲害的 AI model 或生圖功能皆須通過身份驗證才能使用。比方 Playground 的 Images 頁面在沒身份驗證時會顯示 Verify organization，Verify organization details to use the Images playground。</p><figure name="2df1" id="2df1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*VlDUfbyTkn__ZpL1-9FJXQ.png" data-width="3236" data-height="1186" src="https://cdn-images-1.medium.com/max/800/1*VlDUfbyTkn__ZpL1-9FJXQ.png"></figure><p name="1b30" id="1b30" class="graf graf--p graf-after--figure">依據以下步驟認證身份。</p><p name="35fb" id="35fb" class="graf graf--p graf-after--p">點選右上的 Settings 按鈕。</p><figure name="0cb3" id="0cb3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1lu6qdsjgUAOzO6jSyij4Q.png" data-width="788" data-height="92" src="https://cdn-images-1.medium.com/max/800/1*1lu6qdsjgUAOzO6jSyij4Q.png"></figure><p name="b07b" id="b07b" class="graf graf--p graf-after--figure">點選側邊欄的 General，點選 Verify Organization。</p><figure name="7a7a" id="7a7a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8zb1OVlHvoWQ-FDRc_M40w.png" data-width="1734" data-height="1132" src="https://cdn-images-1.medium.com/max/800/1*8zb1OVlHvoWQ-FDRc_M40w.png"></figure><p name="220b" id="220b" class="graf graf--p graf-after--figure">點選 Start ID Check。</p><figure name="5dba" id="5dba" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3CGw0hovMSq9k-2wSyGv7g.png" data-width="940" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*3CGw0hovMSq9k-2wSyGv7g.png"></figure><p name="5366" id="5366" class="graf graf--p graf-after--figure">點選 Begin verifying。</p><figure name="550f" id="550f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*T-h7FFnwl8FvuUNggr1URA.png" data-width="848" data-height="1342" src="https://cdn-images-1.medium.com/max/800/1*T-h7FFnwl8FvuUNggr1URA.png"></figure><p name="33c5" id="33c5" class="graf graf--p graf-after--figure">選擇國家。</p><figure name="5d6e" id="5d6e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tRCMaj7ixjRXfrBCJVMDWA.png" data-width="830" data-height="1350" src="https://cdn-images-1.medium.com/max/800/1*tRCMaj7ixjRXfrBCJVMDWA.png"></figure><p name="25df" id="25df" class="graf graf--p graf-after--figure">選擇上傳的照片身份，像是駕照、護照、身份證等。</p><figure name="7a97" id="7a97" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*CCBL9kvlzOiVM9fbdwRMSw.png" data-width="844" data-height="1344" src="https://cdn-images-1.medium.com/max/800/1*CCBL9kvlzOiVM9fbdwRMSw.png"></figure><p name="d628" id="d628" class="graf graf--p graf-after--figure">使用手機拍 QR Code 打開網頁，從手機拍攝證件和臉部完成身份認證。</p><figure name="96c2" id="96c2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WpFGZ98zCaI0QwjDTmuDeQ.png" data-width="840" data-height="1346" src="https://cdn-images-1.medium.com/max/800/1*WpFGZ98zCaI0QwjDTmuDeQ.png"></figure><p name="861b" id="861b" class="graf graf--p graf-after--figure">完成後網頁將顯示 Organization Verified。</p><figure name="1c3c" id="1c3c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dInl3FzEWeKSDjlX99jzew.png" data-width="680" data-height="236" src="https://cdn-images-1.medium.com/max/800/1*dInl3FzEWeKSDjlX99jzew.png"></figure><h3 name="0dca" id="0dca" class="graf graf--h3 graf-after--figure">使用 Playground 生成圖片</h3><p name="00fe" id="00fe" class="graf graf--p graf-after--h3">通過認證後，現在我們有能力生圖了。一開始可以先從 Playground 生成圖片。</p><p name="d2fe" id="d2fe" class="graf graf--p graf-after--p">點選右上的 Playground，從 Images 頁面生成圖片。</p><figure name="7288" id="7288" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*WxOuKQJXyEwQx3hA0EHD1A.png" data-width="3012" data-height="1780" src="https://cdn-images-1.medium.com/max/800/1*WxOuKQJXyEwQx3hA0EHD1A.png"></figure><p name="750b" id="750b" class="graf graf--p graf-after--figure">在下方的框框輸入 prompt。</p><figure name="0af9" id="0af9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*zP-TP7b4dQwkGs5kzHZhXQ.png" data-width="1674" data-height="276" src="https://cdn-images-1.medium.com/max/800/1*zP-TP7b4dQwkGs5kzHZhXQ.png"></figure><p name="4294" id="4294" class="graf graf--p graf-after--figure">輸入框的下方有 4 個按鈕，第一個按鈕可選擇預設的 prompt。</p><figure name="93b5" id="93b5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Qeas-e8tSH2_hCKhKaku-A.png" data-width="494" data-height="734" src="https://cdn-images-1.medium.com/max/800/1*Qeas-e8tSH2_hCKhKaku-A.png"></figure><p name="2822" id="2822" class="graf graf--p graf-after--figure">比方選擇 Logo 後將輸入以下 prompt。</p><figure name="7cfa" id="7cfa" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*h4PBP3Bp_h7t68Tx2WWYQg.png" data-width="1416" data-height="362" src="https://cdn-images-1.medium.com/max/800/1*h4PBP3Bp_h7t68Tx2WWYQg.png"></figure><p name="f898" id="f898" class="graf graf--p graf-after--figure">第二個按鈕可選擇圖片的尺寸和品質。</p><figure name="6d6c" id="6d6c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ftDncN2yBq5FFtCaWm_mMQ.png" data-width="484" data-height="792" src="https://cdn-images-1.medium.com/max/800/1*ftDncN2yBq5FFtCaWm_mMQ.png"></figure><p name="120f" id="120f" class="graf graf--p graf-after--figure">第二個按鈕可選擇圖片的數量，第四個按鈕可上傳參考的圖片。</p><figure name="348c" id="348c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TFRlCHXexwX4nfA_9BDw_A.png" data-width="478" data-height="290" src="https://cdn-images-1.medium.com/max/800/1*TFRlCHXexwX4nfA_9BDw_A.png"></figure><figure name="423e" id="423e" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*FSh9BN7G2r71oIEaUMEruQ.png" data-width="474" data-height="312" src="https://cdn-images-1.medium.com/max/800/1*FSh9BN7G2r71oIEaUMEruQ.png"></figure><p name="ce2f" id="ce2f" class="graf graf--p graf-after--figure">以下我們請 AI 生成寫程式的兔子。</p><figure name="3a9e" id="3a9e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2f5Fek3dtq2PELD7fMCCQw.png" data-width="1652" data-height="278" src="https://cdn-images-1.medium.com/max/800/1*2f5Fek3dtq2PELD7fMCCQw.png"></figure><figure name="a2d2" id="a2d2" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*77emJASOdXcUXAJHoQsRBA.png" data-width="742" data-height="834" src="https://cdn-images-1.medium.com/max/800/1*77emJASOdXcUXAJHoQsRBA.png"></figure><p name="e894" id="e894" class="graf graf--p graf-after--figure">AI 成功生成認真 coding 的兔子。</p><figure name="f29e" id="f29e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*GckZxKbJ6I3SPrzY1ePxLQ.png" data-width="750" data-height="850" src="https://cdn-images-1.medium.com/max/800/1*GckZxKbJ6I3SPrzY1ePxLQ.png"></figure><p name="2f6d" id="2f6d" class="graf graf--p graf-after--figure">雙擊圖片可查看詳細資訊。</p><figure name="d4b4" id="d4b4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rluvJ1JbA9U-o_4xrnzMWg.png" data-width="2638" data-height="1670" src="https://cdn-images-1.medium.com/max/800/1*rluvJ1JbA9U-o_4xrnzMWg.png"></figure><p name="c713" id="c713" class="graf graf--p graf-after--figure">點擊 code 可查看生成圖片的 curl 指令和程式。</p><figure name="c37d" id="c37d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*yhur-Xc35AXZ7AGFEMuiwA.png" data-width="1442" data-height="636" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*yhur-Xc35AXZ7AGFEMuiwA.png"></figure><h3 name="848f" id="848f" class="graf graf--h3 graf-after--figure">查詢 Image API 的相關說明</h3><p name="a6ac" id="a6ac" class="graf graf--p graf-after--h3">從以下連結查詢。</p><p name="de7d" id="de7d" class="graf graf--p graf-after--p"><a href="https://platform.openai.com/docs/api-reference/images" data-href="https://platform.openai.com/docs/api-reference/images" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://platform.openai.com/docs/api-reference/images</a></p><figure name="dbbf" id="dbbf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ur8djwvKPY_-PdAPYI9l7g.png" data-width="2678" data-height="1326" src="https://cdn-images-1.medium.com/max/800/1*Ur8djwvKPY_-PdAPYI9l7g.png"></figure><p name="5731" id="5731" class="graf graf--p graf-after--figure">建立圖片的 curl 範例如下。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="07a1" id="07a1" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/images/generations \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />    &quot;model&quot;: &quot;gpt-image-1&quot;,<br />    &quot;prompt&quot;: &quot;A cute baby sea otter&quot;,<br />    &quot;n&quot;: 1,<br />    &quot;size&quot;: &quot;1024x1024&quot;<br />  }&#x27;</span></span></pre><p name="cf04" id="cf04" class="graf graf--p graf-after--pre">回傳的 JSON 範例如下，圖片將以 base64 的字串帶在 b64_json。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="json" name="904c" id="904c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-punctuation">{</span><br />  <span class="hljs-attr">&quot;created&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1713833628</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br />    <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;b64_json&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;...&quot;</span><br />    <span class="hljs-punctuation">}</span><br />  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br />  <span class="hljs-attr">&quot;usage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />    <span class="hljs-attr">&quot;total_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;input_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;output_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span><br />    <span class="hljs-attr">&quot;input_tokens_details&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><br />      <span class="hljs-attr">&quot;text_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span><br />      <span class="hljs-attr">&quot;image_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">40</span><br />    <span class="hljs-punctuation">}</span><br />  <span class="hljs-punctuation">}</span><br /><span class="hljs-punctuation">}</span></span></pre><h3 name="a8a4" id="a8a4" class="graf graf--h3 graf-after--pre">從 Terminal 測試 Create image 的 curl 指令</h3><p name="2c45" id="2c45" class="graf graf--p graf-after--h3">測試 curl，prompt 改成 A cute little fox programming on a MacBook，$OPENAI_API_KEY 改成真正的 API key。由於 API 回傳的圖片是 base64 的字串，因此請在 curl 指令後加上 <code class="markup--code markup--p-code">| jq -r &#39;.data[0].b64_json&#39; | base64 — decode &gt; output.png</code>，將它變成圖檔。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="bash" name="a10b" id="a10b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">curl https://api.openai.com/v1/images/generations \<br />  -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> \<br />  -H <span class="hljs-string">&quot;Authorization: Bearer <span class="hljs-variable">$OPENAI_API_KEY</span>&quot;</span> \<br />  -d <span class="hljs-string">&#x27;{<br />    &quot;model&quot;: &quot;gpt-image-1&quot;,<br />    &quot;prompt&quot;: &quot;A cute little fox programming on a MacBook&quot;,<br />    &quot;n&quot;: 1,<br />    &quot;size&quot;: &quot;1024x1024&quot;<br />  }&#x27;</span> | jq -r <span class="hljs-string">&#x27;.data[0].b64_json&#x27;</span> | <span class="hljs-built_in">base64</span> --decode &gt; output.png</span></pre><p name="f916" id="f916" class="graf graf--p graf-after--pre">結果。</p><figure name="502f" id="502f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*0ERA6fo-rkBH8AQtpkYVQA.png" data-width="1776" data-height="188" src="https://cdn-images-1.medium.com/max/800/1*0ERA6fo-rkBH8AQtpkYVQA.png"></figure><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="sql" name="a2c7" id="a2c7" class="graf graf--pre graf-after--figure graf--preV2"><span class="pre--content"><span class="hljs-operator">%</span> Total    <span class="hljs-operator">%</span> Received <span class="hljs-operator">%</span> Xferd  Average Speed   <span class="hljs-type">Time</span>    <span class="hljs-type">Time</span>     <span class="hljs-type">Time</span>  <span class="hljs-keyword">Current</span><br />                                 Dload  Upload   Total   Spent    <span class="hljs-keyword">Left</span>  Speed<br /><span class="hljs-number">100</span> <span class="hljs-number">2599</span>k  <span class="hljs-number">100</span> <span class="hljs-number">2599</span>k  <span class="hljs-number">100</span>   <span class="hljs-number">129</span>  <span class="hljs-number">63857</span>      <span class="hljs-number">3</span>  <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">43</span>  <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">41</span>  <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">02</span>  <span class="hljs-number">768</span>k</span></pre><p name="c5ee" id="c5ee" class="graf graf--p graf-after--pre">成功生成可愛的狐狸。</p><figure name="6aa0" id="6aa0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cwEKcQexwrI4FzU-XBT1dA.png" data-width="1024" data-height="1024" src="https://cdn-images-1.medium.com/max/800/1*cwEKcQexwrI4FzU-XBT1dA.png"></figure><h3 name="b8a9" id="b8a9" class="graf graf--h3 graf-after--figure">將 API key 存在環境變數</h3><p name="0b90" id="0b90" class="graf graf--p graf-after--h3">為了簡化 curl 指令，我們可將 API key 存在環境變數 OPENAI_API_KEY，之後輸入 curl 指令時 API key 只要打 <code class="markup--code markup--p-code">$OPENAI_API_KEY</code> 即可。</p><p name="42ff" id="42ff" class="graf graf--p graf-after--p">相關說明可參考以下連結。</p><div name="7828" id="7828" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4"><strong class="markup--strong markup--mixtapeEmbed-strong">將 API key 存在方便 curl 指令存取的環境變數</strong><br><em class="markup--em markup--mixtapeEmbed-em">串接 API 時，我們時常利用 curl 指令測試 API。當 API 必須包含 API key 時，輸入 curl 指令變得麻煩許多，因為要輸入冗長無比的 API key。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-api-key-%E5%AD%98%E5%9C%A8%E6%96%B9%E4%BE%BF-curl-%E6%8C%87%E4%BB%A4%E5%AD%98%E5%8F%96%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-8d13088973b4" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0ad8e7b9f621408420732d95dce26e02" data-thumbnail-img-id="0*_mjP3efvVGvwJ6uC" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*_mjP3efvVGvwJ6uC);"></a></div><h3 name="559f" id="559f" class="graf graf--h3 graf-after--mixtapeEmbed">查詢餘額</h3><p name="cbdc" id="cbdc" class="graf graf--p graf-after--h3">從 Settings 的 Billing 頁面可查詢餘額，每次串接 API 都會花費一些金額，請省著點用。</p><figure name="9a13" id="9a13" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*rakfEOizeW_5YLaB.png" data-width="1400" data-height="421" src="https://cdn-images-1.medium.com/max/800/0*rakfEOizeW_5YLaB.png"></figure><h3 name="5d27" id="5d27" class="graf graf--h3 graf-after--figure">依據 curl 指令撰寫程式和開發 App</h3><p name="42cb" id="42cb" class="graf graf--p graf-after--h3">知道 API 的 curl 指令後，我們可以快速寫出串接 API 的程式。如果懶得花時間從頭寫串接的程式，也可搭配現成的 OpenAI SDK。</p><p name="e715" id="e715" class="graf graf--p graf-after--p">從以下網址可查詢各種程式語言的 OpenAI SDK，開發 App 常用的 Swift、Python、Dart/Flutter &amp; Kotlin 都有支援。</p><p name="7027" id="7027" class="graf graf--p graf-after--p"><a href="https://platform.openai.com/docs/libraries" data-href="https://platform.openai.com/docs/libraries" class="markup--anchor markup--p-anchor" rel="noopener ugc nofollow noopener" target="_blank">https://platform.openai.com/docs/libraries</a></p><figure name="4fe9" id="4fe9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*_A4REi5_ckQe14ns.png" data-width="1400" data-height="817" src="https://cdn-images-1.medium.com/max/800/0*_A4REi5_ckQe14ns.png"></figure><p name="3a2d" id="3a2d" class="graf graf--p graf-after--figure">開發 Swift UIKit / SwiftUI App 和 Dart Flutter App 時如何將 base64 的圖片字串轉成圖片，則可參考以下連結。</p><div name="ac81" id="ac81" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-base64-%E7%9A%84%E5%9C%96%E7%89%87%E5%AD%97%E4%B8%B2%E8%BD%89%E6%88%90%E5%9C%96%E7%89%87-1d0bc35065ba" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-base64-%E7%9A%84%E5%9C%96%E7%89%87%E5%AD%97%E4%B8%B2%E8%BD%89%E6%88%90%E5%9C%96%E7%89%87-1d0bc35065ba" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-base64-%E7%9A%84%E5%9C%96%E7%89%87%E5%AD%97%E4%B8%B2%E8%BD%89%E6%88%90%E5%9C%96%E7%89%87-1d0bc35065ba"><strong class="markup--strong markup--mixtapeEmbed-strong">將 base64 的圖片字串轉成圖片</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 App 時，我們常常會抓取網路上的圖片，而後台回傳給我們的圖片通常會有兩種，有的用 binary，有的使用 base64 格式字串。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87-base64-%E7%9A%84%E5%9C%96%E7%89%87%E5%AD%97%E4%B8%B2%E8%BD%89%E6%88%90%E5%9C%96%E7%89%87-1d0bc35065ba" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6380f5f1a593bf98d397672dae000c3f" data-thumbnail-img-id="0*Y5vytb-H5yMk4T8t" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Y5vytb-H5yMk4T8t);"></a></div><p name="69d6" id="69d6" class="graf graf--p graf-after--mixtapeEmbed">以下為彼得潘開發的 App 畫面截圖，背後串接了 OpenAI Image API 生成圖片。</p><figure name="e63a" id="e63a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cpollnsLuA7kRTQZNF7jNg.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*cpollnsLuA7kRTQZNF7jNg.png"></figure><figure name="dc70" id="dc70" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*FSETjyjW4_6LLelX8j1qww.png" data-width="1320" data-height="2868" src="https://cdn-images-1.medium.com/max/800/1*FSETjyjW4_6LLelX8j1qww.png"></figure><p name="a07e" id="a07e" class="graf graf--p graf-after--figure">除了輸入 prompt，我們還可以選擇 model、number of images，image size &amp; image quality。</p><figure name="7b99" id="7b99" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*kaZgAnk3dl24ZX5OAXDI8w.png" data-width="1290" data-height="2796" src="https://cdn-images-1.medium.com/max/800/1*kaZgAnk3dl24ZX5OAXDI8w.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/aaf075ece2d2"><time class="dt-published" datetime="2025-05-03T13:22:12.965Z">May 3, 2025</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E4%B8%B2%E6%8E%A5-openai-image-api-%E7%94%9F%E6%88%90%E5%9C%96%E7%89%87-aaf075ece2d2" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>