<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Swift 的 function 也有型別</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Swift 的 function 也有型別</h1>
</header>
<section data-field="subtitle" class="p-summary">
有一天，function 看到野百合也有春天，彼得潘也有溫蒂，所以它就跟 Swift 說它也要有型別，於是乎，function 的參數型別和回傳型別，組成了 function 型別!
</section>
<section data-field="body" class="e-content">
<section name="0502" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="95df" id="95df" class="graf graf--h3 graf--leading graf--title">Swift 的 <strong class="markup--strong markup--h3-strong">function </strong>也有型別</h3><p name="97a6" id="97a6" class="graf graf--p graf-after--h3">有一天，function 看到野百合也有春天，彼得潘也有溫蒂，所以它就跟 Swift 說它也要有型別，於是乎，function 的參數型別和回傳型別，組成了 function 型別!</p><blockquote name="99bd" id="99bd" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">function 型別</strong></blockquote><pre name="c218" id="c218" class="graf graf--pre graf-after--blockquote">func buyBook(name: String, author: String) -&gt; String {</pre><pre name="3714" id="3714" class="graf graf--pre graf-after--pre">   return &quot;買了\(author)的\(name)&quot;</pre><pre name="218d" id="218d" class="graf graf--pre graf-after--pre">}</pre><pre name="bf3a" id="bf3a" class="graf graf--pre graf-after--pre">buyBook(name: &quot;不然你搬去火星啊&quot;, author: &quot;伊坂幸太郎&quot;)</pre><p name="f6a5" id="f6a5" class="graf graf--p graf-after--pre">function 型別由以下三要素組成</p><ul class="postList"><li name="3b15" id="3b15" class="graf graf--li graf-after--p">參數型別</li><li name="e808" id="e808" class="graf graf--li graf-after--li">-&gt; </li><li name="5961" id="5961" class="graf graf--li graf-after--li">回傳型別。</li></ul><p name="f4e7" id="f4e7" class="graf graf--p graf-after--li">從 function buyBook 的參數型別和回傳型別，我們可將它的 function 型別表達成 <code class="markup--code markup--p-code">(String, String) -&gt; String</code>。一旦看到型別裡出現箭頭即表示它是 function 型別，箭頭左邊的 ( ) 是參數型別，以逗號分隔，箭頭右邊則是回傳型別。</p><figure name="3600" id="3600" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rcPZz7pDHETQ2O0CXQ-irQ.jpeg" data-width="956" data-height="342" src="https://cdn-images-1.medium.com/max/800/1*rcPZz7pDHETQ2O0CXQ-irQ.jpeg"></figure><p name="2260" id="2260" class="graf graf--p graf-after--figure">function 型別也是型別的一種，因此變數(常數)也可以宣告為 function 型別，成為一個可當成 function 使用的神奇變數。數字型別的變數儲存數字，字串型別的變數儲存字串，那麼 function 型別呢? 想必聰明的你已經猜到了，它當然是儲存 function 呀。</p><pre name="eb53" id="eb53" class="graf graf--pre graf-after--p">var buyBook2: (String, String) -&gt; String = buyBook</pre><pre name="6a43" id="6a43" class="graf graf--pre graf-after--pre">buyBook2(&quot;不然你搬去火星啊&quot;, &quot;伊坂幸太郎&quot;)</pre><p name="e71c" id="e71c" class="graf graf--p graf-after--pre">例子裡的 buyBook2 被宣告成型別 (String, String) -&gt; String，然後再利用 = buyBook 將它指定為 function buyBook，如此呼叫 buyBook2 時將執行 buyBook 定義的程式碼。值得注意的，由於 buyBook2 不知道參數名稱，所以呼叫時不需包含參數名稱。</p><p name="4d3b" id="4d3b" class="graf graf--p graf-after--p">由於 Swift 會自動推理型別，剛剛的 buyBook2 我們也可以省略型別，寫得更精簡。</p><pre name="8e7d" id="8e7d" class="graf graf--pre graf-after--p">var buyBook2 = buyBook</pre><pre name="f9a0" id="f9a0" class="graf graf--pre graf-after--pre">buyBook2(&quot;不然你搬去火星啊&quot;, &quot;伊坂幸太郎&quot;)</pre><figure name="26ce" id="26ce" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*WNI46XnrAsf4a7vatM2y9w.jpeg" data-width="1286" data-height="412" src="https://cdn-images-1.medium.com/max/800/1*WNI46XnrAsf4a7vatM2y9w.jpeg"><figcaption class="imageCaption">Swift 自動推理出 buyBook2 的型別為 (String, String) -&gt; String</figcaption></figure><blockquote name="62de" id="62de" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">function 型別的檢查</strong></blockquote><p name="711b" id="711b" class="graf graf--p graf-after--blockquote">Swift 對型別檢查很嚴格，function 型別也不例外。當我們指派某個 function 給 function 型別的變數(常數)時，它將檢查以下三點，只要一點不一樣就會產生錯誤:</p><ul class="postList"><li name="d2bb" id="d2bb" class="graf graf--li graf-after--p">參數的個數。</li><li name="61e4" id="61e4" class="graf graf--li graf-after--li">參數的型別和順序。</li><li name="af10" id="af10" class="graf graf--li graf-after--li">回傳的型別。</li></ul><p name="a05b" id="a05b" class="graf graf--p graf-after--li">比方以下即為錯誤的例子。</p><pre name="6b04" id="6b04" class="graf graf--pre graf-after--p">func buyBook(name: String, author: String) -&gt; String {</pre><pre name="d3d9" id="d3d9" class="graf graf--pre graf-after--pre">   return &quot;買了\(author)的\(name)&quot;</pre><pre name="3b8a" id="3b8a" class="graf graf--pre graf-after--pre">}</pre><pre name="6dcb" id="6dcb" class="graf graf--pre graf-after--pre">var buyBook2: (String, Int) -&gt; String = buyBook</pre><figure name="1cd4" id="1cd4" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*riSfRWcUsf91cgt8WCxTUw.jpeg" data-width="2136" data-height="240" src="https://cdn-images-1.medium.com/max/800/1*riSfRWcUsf91cgt8WCxTUw.jpeg"><figcaption class="imageCaption">Cannot convert value of type ‘(String, String) -&gt; String’ to specified type ‘(String, Int) -&gt; String’</figcaption></figure><p name="7b44" id="7b44" class="graf graf--p graf-after--figure">buyBook2 的型別是 (String, Int) -&gt; String，buyBook 是 (String, String) -&gt; String， 前者接受的第二個參數是 Int，後者接受的第二個參數是 String，所以很遺憾，buyBook 此生注定無法指派給 buyBook2。</p><blockquote name="56a6" id="56a6" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">沒有回傳資料的 function 型別</strong></blockquote><p name="c108" id="c108" class="graf graf--p graf-after--blockquote">那如果沒有參數，也沒有回傳資料的 function，它的 function 型別會是什麼呢?很 簡單，( ) -&gt; ( ) 即可表達。表達 function 型別時，記得可別偷懶省略 -&gt; ( )，這是只有 function 定義才享有的省略特權。宣告型別時，要有箭頭 Swift 才能認得它是 function 型別。</p><pre name="9333" id="9333" class="graf graf--pre graf-after--p">func buyBook() {</pre><pre name="24a8" id="24a8" class="graf graf--pre graf-after--pre">   print(&quot;學 Swift 的都是愛買書的文藝青年&quot;)</pre><pre name="240a" id="240a" class="graf graf--pre graf-after--pre">}</pre><pre name="1996" id="1996" class="graf graf--pre graf-after--pre">var buyBook2: () -&gt; () = buyBook</pre><pre name="41da" id="41da" class="graf graf--pre graf-after--pre">buyBook2()</pre><p name="1e7a" id="1e7a" class="graf graf--p graf-after--pre">除了 -&gt; ( )，-&gt; Void 和 -&gt; Swift.Void 也可以表達 function 沒有回傳。</p><pre name="ace1" id="ace1" class="graf graf--pre graf-after--p">var buyBook3: () -&gt; Void = buyBook</pre><pre name="835e" id="835e" class="graf graf--pre graf-after--pre">var buyBook4: () -&gt; Swift.Void = buyBook</pre><blockquote name="885f" id="885f" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">有 ( ) 跟沒 ( ) 大不同</strong></blockquote><p name="e81f" id="e81f" class="graf graf--p graf-after--blockquote">function 名稱後是否加上 ( ) 有很大的差別。如下圖所示，buyBook2 = buyBook 和buyBook3 = buyBook( ) 完全是不同的兩件事。沒加 ( ) 的前者是指派 function，加 了 ( ) 的後者則是呼叫 function，儲存 function 的回傳結果。</p><pre name="f762" id="f762" class="graf graf--pre graf-after--p">func buyBook() -&gt; String {</pre><pre name="aa1b" id="aa1b" class="graf graf--pre graf-after--pre">   return &quot;學 Swift 的都是愛買書的文藝青年&quot;</pre><pre name="0f0a" id="0f0a" class="graf graf--pre graf-after--pre">}</pre><pre name="d113" id="d113" class="graf graf--pre graf-after--pre">var buyBook2 = buyBook</pre><pre name="8a31" id="8a31" class="graf graf--pre graf-after--pre">var buyBook3 = buyBook()</pre><p name="d1af" id="d1af" class="graf graf--p graf-after--pre">所以 buyBook2 將變成等同於 buyBook 的 function，下方的 Show Result 顯示它的 型別 () -&gt; String，而 buyBook3 則等於 function buyBook 呼叫後的回傳值，所以它 將變成字串 “ 學 Swift 的都是愛看書的文藝青年 “。</p><figure name="e28b" id="e28b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*15PscLWnpAF4SrFpJXOPRw.jpeg" data-width="844" data-height="390" src="https://cdn-images-1.medium.com/max/800/1*15PscLWnpAF4SrFpJXOPRw.jpeg"></figure><p name="d2d6" id="d2d6" class="graf graf--p graf--empty graf-after--figure graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/1342140f1fff">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>