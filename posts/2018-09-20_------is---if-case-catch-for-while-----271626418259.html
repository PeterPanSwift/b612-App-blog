<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>比對型別的 is 和 if，case，catch，for，while 的結合</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">比對型別的 is 和 if，case，catch，for，while 的結合</h1>
</header>
<section data-field="subtitle" class="p-summary">
在 Swift 裡 is 可以幫我們判斷某個東西是不是某個型別，而且除了常見的 if 用法外，還可以跟迴圈，switch 的 case 或 error handling 的 catch 搭配呢。
</section>
<section data-field="body" class="e-content">
<section name="c240" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5755" id="5755" class="graf graf--h3 graf--leading graf--title">比對型別的 is 和 if，case，catch，for，while 的結合</h3><p name="b37a" id="b37a" class="graf graf--p graf-after--h3">在 Swift 裡 is 可以幫我們判斷某個東西是不是某個型別，而且除了常見的 if 用法外，還可以跟迴圈，switch 的 case 或 error handling 的 catch 搭配呢。</p><p name="0e96" id="0e96" class="graf graf--p graf-after--p">接下來我們就請 is 幫忙，請他幫我們找出真愛吧。</p><figure name="5eda" id="5eda" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*zHSj9nP_V36UhjVOf8zmKA.jpeg" data-width="1280" data-height="1280" src="https://cdn-images-1.medium.com/max/800/1*zHSj9nP_V36UhjVOf8zmKA.jpeg"></figure><pre name="6612" id="6612" class="graf graf--pre graf-after--figure">class TheOne {</pre><pre name="72f5" id="72f5" class="graf graf--pre graf-after--pre">}</pre><pre name="af79" id="af79" class="graf graf--pre graf-after--pre">var cuteGirl: Any = TheOne()</pre><blockquote name="43c8" id="43c8" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">1 跟 if 搭配</strong></blockquote><pre name="fa0c" id="fa0c" class="graf graf--pre graf-after--blockquote">var cuteGirl: Any = TheOne()</pre><pre name="1546" id="1546" class="graf graf--pre graf-after--pre">if cuteGirl is TheOne {</pre><pre name="3432" id="3432" class="graf graf--pre graf-after--pre">   print(&quot;是真愛&quot;)</pre><pre name="4977" id="4977" class="graf graf--pre graf-after--pre">} else {</pre><pre name="a871" id="a871" class="graf graf--pre graf-after--pre">   print(&quot;不是真愛&quot;)</pre><pre name="c1a2" id="c1a2" class="graf graf--pre graf-after--pre">}</pre><figure name="7f56" id="7f56" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*yK8-qOwPJjIzBkFtM6D3CA.jpeg" data-width="720" data-height="300" src="https://cdn-images-1.medium.com/max/800/1*yK8-qOwPJjIzBkFtM6D3CA.jpeg"></figure><blockquote name="bfd8" id="bfd8" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">2 case is</strong></blockquote><pre name="8f15" id="8f15" class="graf graf--pre graf-after--blockquote">switch cuteGirl {</pre><pre name="abc2" id="abc2" class="graf graf--pre graf-after--pre">case is TheOne:</pre><pre name="9616" id="9616" class="graf graf--pre graf-after--pre">   print(&quot;是真愛&quot;)</pre><pre name="7e4b" id="7e4b" class="graf graf--pre graf-after--pre">default:</pre><pre name="ab64" id="ab64" class="graf graf--pre graf-after--pre">   print(&quot;不是真愛&quot;)</pre><pre name="21d6" id="21d6" class="graf graf--pre graf-after--pre">}</pre><figure name="b75b" id="b75b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*0aZ3kbJuvCj7y6MHjBjpsA.jpeg" data-width="716" data-height="336" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*0aZ3kbJuvCj7y6MHjBjpsA.jpeg"></figure><p name="dc13" id="dc13" class="graf graf--p graf-after--figure">除了 case is，case let (或 case var)搭配 as 也能比對型別。後者寫起來比較麻煩，好處是可以搭配 where 補充其它條件。</p><pre name="9f36" id="9f36" class="graf graf--pre graf-after--p">switch cuteGirl {</pre><pre name="4bf8" id="4bf8" class="graf graf--pre graf-after--pre">case let girl as TheOne:</pre><pre name="f150" id="f150" class="graf graf--pre graf-after--pre">   print(&quot;是真愛&quot;)</pre><pre name="5a60" id="5a60" class="graf graf--pre graf-after--pre">default:</pre><pre name="0684" id="0684" class="graf graf--pre graf-after--pre">   print(&quot;不是真愛&quot;)</pre><pre name="c5c4" id="c5c4" class="graf graf--pre graf-after--pre">}</pre><blockquote name="9fc3" id="9fc3" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">3 和迴圈結合</strong></blockquote><p name="45ec" id="45ec" class="graf graf--p graf-after--blockquote">is 也可以跟 for 或 while 結合，例如以下例子:</p><p name="8ecc" id="8ecc" class="graf graf--p graf-after--p">跟 for 結合</p><pre name="7a95" id="7a95" class="graf graf--pre graf-after--p">var cuteGirl: Any = TheOne()</pre><pre name="db33" id="db33" class="graf graf--pre graf-after--pre">var array = [cuteGirl, &quot;恐龍&quot;]</pre><pre name="e5da" id="e5da" class="graf graf--pre graf-after--pre">for member in array where member is TheOne {</pre><pre name="8065" id="8065" class="graf graf--pre graf-after--pre">   print(&quot;找到真愛&quot;)</pre><pre name="ad8a" id="ad8a" class="graf graf--pre graf-after--pre">}</pre><p name="0d0f" id="0d0f" class="graf graf--p graf-after--pre">跟 while 結合</p><pre name="fc8b" id="fc8b" class="graf graf--pre graf-after--p">var array: [Any] = [TheOne(), &quot;恐龍&quot;, TheOne()]</pre><pre name="11e2" id="11e2" class="graf graf--pre graf-after--pre">var i = 0</pre><pre name="1fe6" id="1fe6" class="graf graf--pre graf-after--pre">var cuteGirl = array[i]</pre><pre name="dbb3" id="dbb3" class="graf graf--pre graf-after--pre">while cuteGirl is TheOne {</pre><pre name="6f46" id="6f46" class="graf graf--pre graf-after--pre">   i += 1</pre><pre name="403a" id="403a" class="graf graf--pre graf-after--pre">   if i &lt; array.count {</pre><pre name="cfc0" id="cfc0" class="graf graf--pre graf-after--pre">      cuteGirl = array[i]</pre><pre name="ad8e" id="ad8e" class="graf graf--pre graf-after--pre">   } else {</pre><pre name="2654" id="2654" class="graf graf--pre graf-after--pre">      break</pre><pre name="4c31" id="4c31" class="graf graf--pre graf-after--pre">   }</pre><pre name="3578" id="3578" class="graf graf--pre graf-after--pre">}</pre><blockquote name="cd47" id="cd47" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">4 catch is</strong></blockquote><p name="aaca" id="aaca" class="graf graf--p graf-after--blockquote">Error Handling 也可以結合 is，利用 catch is 補捉某個型別的錯誤，例如以下例子</p><pre name="000f" id="000f" class="graf graf--pre graf-after--p">enum GoAfterGirlError: Error {</pre><pre name="5954" id="5954" class="graf graf--pre graf-after--pre">   case poorProblem</pre><pre name="bb06" id="bb06" class="graf graf--pre graf-after--pre">   case tooYoungProblem</pre><pre name="0ce6" id="0ce6" class="graf graf--pre graf-after--pre">   case 帥到分手</pre><pre name="e3c2" id="e3c2" class="graf graf--pre graf-after--pre">}</pre><pre name="e50d" id="e50d" class="graf graf--pre graf-after--pre">func goAfterAngelababy(money: Int, age: Int) throws {</pre><pre name="c04d" id="c04d" class="graf graf--pre graf-after--pre">   guard money &gt; 10000 else {</pre><pre name="c792" id="c792" class="graf graf--pre graf-after--pre">      throw GoAfterGirlError.poorProblem</pre><pre name="4a7a" id="4a7a" class="graf graf--pre graf-after--pre">   }</pre><pre name="ff6f" id="ff6f" class="graf graf--pre graf-after--pre">   guard age &gt; 18 else {</pre><pre name="2566" id="2566" class="graf graf--pre graf-after--pre">      throw GoAfterGirlError.tooYoungProblem</pre><pre name="3d8a" id="3d8a" class="graf graf--pre graf-after--pre">   }</pre><pre name="f652" id="f652" class="graf graf--pre graf-after--pre">   print(&quot;我追到 Angelababy 了!&quot;)</pre><pre name="b594" id="b594" class="graf graf--pre graf-after--pre">}</pre><pre name="28d1" id="28d1" class="graf graf--pre graf-after--pre">do {</pre><pre name="a5bc" id="a5bc" class="graf graf--pre graf-after--pre">   try goAfterAngelababy(money: 100, age: 25)</pre><pre name="0f84" id="0f84" class="graf graf--pre graf-after--pre">   print(&quot;我會為你拼，只要你願意，一定會成為，最幸福的秘密&quot;)</pre><pre name="c1b9" id="c1b9" class="graf graf--pre graf-after--pre">} <strong class="markup--strong markup--pre-strong">catch is GoAfterGirlError </strong>{</pre><pre name="e384" id="e384" class="graf graf--pre graf-after--pre">   print(&quot;犯了追女生的其中一種錯誤&quot;)</pre><pre name="7726" id="7726" class="graf graf--pre graf-after--pre">} catch {</pre><pre name="bb21" id="bb21" class="graf graf--pre graf-after--pre">   print(&quot;其它錯誤&quot;)</pre><pre name="c1ac" id="c1ac" class="graf graf--pre graf-after--pre">}</pre><p name="1af2" id="1af2" class="graf graf--p graf-after--pre">利用 <code class="markup--code markup--p-code">catch is GoAfterGirlError</code> 補捉型別為 GoAfterGirlError 的錯誤。</p><figure name="7d57" id="7d57" class="graf graf--figure graf--iframe graf-after--p"><iframe src="https://www.youtube.com/embed/WkzeFwFMpqE?feature=oembed" width="700" height="393" frameborder="0" scrolling="no"></iframe></figure><p name="5573" id="5573" class="graf graf--p graf-after--figure">ps: 也可以用 <code class="markup--code markup--p-code">catch let error as GoAfterGirlError </code>比對，詳情可參考以下連結。</p><div name="faf6" id="faf6" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-enum-%E7%9A%84-associated-value-%E5%92%8C-struct-%E5%AE%9A%E7%BE%A9%E5%8C%85%E5%90%AB%E6%9B%B4%E5%A4%9A%E8%B3%87%E8%A8%8A%E7%9A%84-swift-error-358fe708aa84" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-enum-%E7%9A%84-associated-value-%E5%92%8C-struct-%E5%AE%9A%E7%BE%A9%E5%8C%85%E5%90%AB%E6%9B%B4%E5%A4%9A%E8%B3%87%E8%A8%8A%E7%9A%84-swift-error-358fe708aa84" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-enum-%E7%9A%84-associated-value-%E5%92%8C-struct-%E5%AE%9A%E7%BE%A9%E5%8C%85%E5%90%AB%E6%9B%B4%E5%A4%9A%E8%B3%87%E8%A8%8A%E7%9A%84-swift-error-358fe708aa84"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 enum 的 associated value 和 struct 定義包含更多資訊的 Swift error</strong><br><em class="markup--em markup--mixtapeEmbed-em">在 Swift 裡當我們想自訂錯誤型別時，通常用 enum 搭配簡單的 case 定義遵從 Error protocol 的型別。不過如果想在錯誤裡包含更多資訊，不妨試試運用 enum 的 associated value 和…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-enum-%E7%9A%84-associated-value-%E5%92%8C-struct-%E5%AE%9A%E7%BE%A9%E5%8C%85%E5%90%AB%E6%9B%B4%E5%A4%9A%E8%B3%87%E8%A8%8A%E7%9A%84-swift-error-358fe708aa84" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="7d1bf5850876cf74435ba5965af73bcc"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/271626418259"><time class="dt-published" datetime="2018-09-20T17:34:04.750Z">September 20, 2018</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E6%AF%94%E5%B0%8D%E5%9E%8B%E5%88%A5%E7%9A%84-if-is-case-is-catch-is-271626418259" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>