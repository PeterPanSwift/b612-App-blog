<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SwiftUI 參考資料來源的 Binding</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">SwiftUI 參考資料來源的 Binding</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 SwiftUI App，為了實現單一資料來源，避免資料不同步的問題，我們時常使用 Binding 參考資料來源。
</section>
<section data-field="body" class="e-content">
<section name="d273" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="cfc4" id="cfc4" class="graf graf--h3 graf--leading graf--title">SwiftUI 參考資料來源的 Binding</h3><figure name="ce18" id="ce18" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*MKS17eSLBTdROrFNvfMC_g.png" data-width="1494" data-height="560" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*MKS17eSLBTdROrFNvfMC_g.png"></figure><p name="a80d" id="a80d" class="graf graf--p graf-after--figure">開發 SwiftUI App，為了實現單一資料來源，避免資料不同步的問題，我們時常使用 Binding 參考資料來源。</p><div name="e7dc" id="e7dc" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/swiftui/binding" data-href="https://developer.apple.com/documentation/swiftui/binding" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/swiftui/binding"><strong class="markup--strong markup--mixtapeEmbed-strong">Binding | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">A property wrapper type that can read and write a value owned by a source of truth.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/swiftui/binding" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d624d84134cd6bb3dba74eb48b158774" data-thumbnail-img-id="0*GhRJW--OUPKqw__M" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*GhRJW--OUPKqw__M);"></a></div><p name="14c3" id="14c3" class="graf graf--p graf-after--mixtapeEmbed">接下來我們將改寫Apple 官方的 Binding 範例，先了解原本資料不同步的問題，然後再一步步修正，最後使用 Binding 實現資料同步的版本。</p><h3 name="108f" id="108f" class="graf graf--h3 graf-after--p">定義顯示畫面的 PlayerView</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f24a" id="f24a" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;偵探&quot;</span>)<br />            <span class="hljs-type">Image</span>(isPlaying <span class="hljs-operator">?</span> .辦案偵探 : .睡覺偵探)<br />                .resizable()<br />                .scaledToFit()<br />            <span class="hljs-type">Button</span> {<br />                isPlaying.toggle()<br />            } label: {<br />                <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">&quot;pause.circle&quot;</span> : <span class="hljs-string">&quot;play.circle&quot;</span>)<br />            }<br />            .foregroundStyle(.orange)<br />        }<br />        .font(.largeTitle)<br />    }<br />}</span></pre><p name="0241" id="0241" class="graf graf--p graf-after--pre">播放時顯示辦案中的偵探，暫停時顯示睡覺的偵探。</p><figure name="0dbb" id="0dbb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_SX8gSE5HXLskwBNQkjhKg.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*_SX8gSE5HXLskwBNQkjhKg.png"></figure><figure name="e342" id="e342" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*qnL6XjpM5zBO8Us6YLrvdA.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*qnL6XjpM5zBO8Us6YLrvdA.png"></figure><p name="bfb5" id="bfb5" class="graf graf--p graf-after--figure">以上程式完全沒有問題，但是會讓 body { } 裡的程式碼很多。為了方便之後維護，我們可以將 body 裡的某些程式另外拆出來。</p><h3 name="84ac" id="84ac" class="graf graf--h3 graf-after--p">方法 1: 將播放的 button 宣告成 computed property</h3><p name="cde5" id="cde5" class="graf graf--p graf-after--h3">如果播放的 button 只會在 PlayerView 使用，我們可以將它宣告成 computed property playerButton。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e0af" id="e0af" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;偵探&quot;</span>)<br />            <span class="hljs-type">Image</span>(isPlaying <span class="hljs-operator">?</span> .辦案偵探 : .睡覺偵探)<br />                .resizable()<br />                .scaledToFit()<br />            playerButton<br />        }<br />        .font(.largeTitle)<br />    }<br />    <br />    <span class="hljs-keyword">var</span> playerButton: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Button</span> {<br />            isPlaying.toggle()<br />        } label: {<br />            <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">&quot;pause.circle&quot;</span> : <span class="hljs-string">&quot;play.circle&quot;</span>)<br />        }<br />        .foregroundStyle(.orange)<br />    }<br />}</span></pre><h3 name="55b9" id="55b9" class="graf graf--h3 graf-after--pre">方法 2: 定義播放 button 的型別</h3><p name="ce3f" id="ce3f" class="graf graf--p graf-after--h3">我們希望播放的 button 可以在多個頁面使用，所以我們採用另一個做法，定義播放 button 的型別。</p><ul class="postList"><li name="ea89" id="ea89" class="graf graf--li graf-after--p">滑鼠游標移到 Button 上，從右鍵選單點選 Extract Subview。</li></ul><figure name="0a77" id="0a77" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*3UtW5OtWqxrUIRD2a5Xy6w.png" data-width="360" data-height="358" src="https://cdn-images-1.medium.com/max/800/1*3UtW5OtWqxrUIRD2a5Xy6w.png"></figure><ul class="postList"><li name="ff62" id="ff62" class="graf graf--li graf-after--figure">將它的型別從預設的 ExtractedView 改成 PlayerButton。</li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c8f7" id="c8f7" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;偵探&quot;</span>)<br />            <span class="hljs-type">Image</span>(isPlaying <span class="hljs-operator">?</span> .辦案偵探 : .睡覺偵探)<br />                .resizable()<br />                .scaledToFit()<br />            <span class="hljs-type">PlayerButton</span>()<br />        }<br />        .font(.largeTitle)<br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerButton</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Button</span> {<br />            isPlaying.toggle()<br />        } label: {<br />            <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">&quot;pause.circle&quot;</span> : <span class="hljs-string">&quot;play.circle&quot;</span>)<br />        }<br />        .foregroundStyle(.orange)<br />    }<br />}</span></pre><p name="6ea7" id="6ea7" class="graf graf--p graf-after--pre">此時 PlayerButton 將有紅色錯誤，因為它找不到 isPlaying。</p><figure name="ea52" id="ea52" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_vzchBS--vC0PcQABcqVkw.png" data-width="918" data-height="260" src="https://cdn-images-1.medium.com/max/800/1*_vzchBS--vC0PcQABcqVkw.png"></figure><h3 name="9ecc" id="9ecc" class="graf graf--h3 graf-after--figure">兩個 State 造成的資料不同步問題</h3><p name="3a33" id="3a33" class="graf graf--p graf-after--h3">既然 PlayerButton 少了 isPlaying，我們就補給它吧。在 PlayerButton 裡宣告 State property isPlaying。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="c928" id="c928" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerButton</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Button</span> {<br />            isPlaying.toggle()<br />        } label: {<br />            <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">&quot;pause.circle&quot;</span> : <span class="hljs-string">&quot;play.circle&quot;</span>)<br />        }<br />        .foregroundStyle(.orange)<br />    }<br />}</span></pre><p name="e31d" id="e31d" class="graf graf--p graf-after--pre">現在沒有紅色錯誤，App 也可以順利執行，但是不管在播放還是暫停狀態，圖片都顯示睡覺的偵探。</p><figure name="054b" id="054b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*t-1KjEudtaUH0qQgbFYSag.png" data-width="1206" data-height="2622" src="https://cdn-images-1.medium.com/max/800/1*t-1KjEudtaUH0qQgbFYSag.png"></figure><p name="b5dd" id="b5dd" class="graf graf--p graf-after--figure">為什麼會這樣呢 ? 如下圖所示，當我們以 State 宣告 property 時，SwiftUI 會另外生成空間儲存 property 的資料。剛剛的程式有兩個 State property 時，它們的資料各自存在不同地方，彼此是獨立的。當我們第一次按下 PlayerButton，它的 isPlaying 變成 true 時，PlayerView 的 isPlaying 還是 false ，因此 PlayerView 永遠是暫停播放的狀態。</p><figure name="3abc" id="3abc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*knxpg1L2t907uXMxgg-YRg.png" data-width="1418" data-height="890" src="https://cdn-images-1.medium.com/max/800/1*knxpg1L2t907uXMxgg-YRg.png"></figure><h3 name="74c3" id="74c3" class="graf graf--h3 graf-after--figure">利用 Binding 參考資料來源</h3><p name="42b7" id="42b7" class="graf graf--p graf-after--h3">剛剛資料不同步的問題是因為我們宣告了兩個 State property，造成兩個資料來源。如果我們能實現單一資料來源(single source of truth，SSOT)，將可解決剛剛的問題。</p><p name="7adf" id="7adf" class="graf graf--p graf-after--p">使用 State 宣告的 property 是資料來源，因此我們只在 PlayerView 宣告，讓 PlayerView 的 isPlaying 是資料來源。那麼 PlayerButton 呢 ? 我們改以 @Binding 宣告。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9c31" id="9c31" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerButton</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@Binding</span> <span class="hljs-keyword">var</span> isPlaying: <span class="hljs-type">Bool</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">Button</span> {<br />            isPlaying.toggle()<br />        } label: {<br />            <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">&quot;pause.circle&quot;</span> : <span class="hljs-string">&quot;play.circle&quot;</span>)<br />        }<br />        .foregroundStyle(.orange)<br />    }<br />}</span></pre><p name="1272" id="1272" class="graf graf--p graf-after--pre">當 PlayerButton 的 isPlaying 以 @Binding 宣告時，它本身並沒有儲存資料，它是從別人那裡取得資料。如下圖所示， PlayerButton 的 isPlaying 將參考 PlayerView 的 isPlaying，所以資料只有一份，就像名偵探說的真相只有一個，就在 PlayerView 那裡 !</p><figure name="65b4" id="65b4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*XZ8QgdBb9ZLC50M0" data-width="1536" data-height="1024" src="https://cdn-images-1.medium.com/max/800/0*XZ8QgdBb9ZLC50M0"></figure><p name="8202" id="8202" class="graf graf--p graf-after--figure">當我們按下 PlayerButton，修改 isPlaying 時，改變的其實是 PlayerView 的 isPlaying，又由於 PlayerView 的 isPlayer 是 State property，所以它改變時會觸發畫面更新。</p><figure name="09cf" id="09cf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Jf6VFy6tbJ4J8w4zIfFeVA.png" data-width="1540" data-height="902" src="https://cdn-images-1.medium.com/max/800/1*Jf6VFy6tbJ4J8w4zIfFeVA.png"></figure><p name="6bc4" id="6bc4" class="graf graf--p graf-after--figure">透過 Binding，不管在 PlayerView 還是 PlayerButton，我們都會讀到同一份 isPlaying，不再有資料不同步的問題。不過此時我們還不能測試，因為還有一個 Missing argument for parameter 的紅色錯誤。</p><figure name="dcc6" id="dcc6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8xn5o4XX0rU9oQRGGH0eXA.png" data-width="1574" data-height="760" src="https://cdn-images-1.medium.com/max/800/1*8xn5o4XX0rU9oQRGGH0eXA.png"></figure><p name="a333" id="a333" class="graf graf--p graf-after--figure">因為現在 PlayerButton 的 isPlaying 是 Binding，所以我們生成 PlayerButton 時要傳入 Binding 型別的資料給它，它才能存取參考的資料來源。</p><figure name="c203" id="c203" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LbkxYxxJTE4ZLJWQVruH5Q.png" data-width="1046" data-height="140" src="https://cdn-images-1.medium.com/max/800/1*LbkxYxxJTE4ZLJWQVruH5Q.png"></figure><p name="ee48" id="ee48" class="graf graf--p graf-after--figure">如上圖所示，參數 isPlaying 的型別是 Binding&lt;Bool&gt;，表示它的型別是 Binding，&lt;&gt; 裡的型別是 isPlaying 要參考的資料型別，所以參考的資料型別是 Bool。</p><p name="9e7d" id="9e7d" class="graf graf--p graf-after--p">雖然它要參考的資料是 PlayerView 的 isPlaying，我們卻不能在 PlayerButton( ) 裡傳入 isPlaying，因為 isPlaying 的型別是 Bool，而 PlayerButton 接受的參數型別是 Binding&lt;Bool&gt;。</p><figure name="b327" id="b327" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PKc0Z8v82GyKwzDyixCqHw.png" data-width="1474" data-height="372" src="https://cdn-images-1.medium.com/max/800/1*PKc0Z8v82GyKwzDyixCqHw.png"></figure><p name="807b" id="807b" class="graf graf--p graf-after--figure">我們要怎麼產生型別 Binding&lt;Bool&gt; 的資料呢，很簡單，加上 $ 即可。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3f11" id="3f11" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerView</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying <span class="hljs-operator">=</span> <span class="hljs-literal">false</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;偵探&quot;</span>)<br />            <span class="hljs-type">Image</span>(isPlaying <span class="hljs-operator">?</span> .辦案偵探 : .睡覺偵探)<br />                .resizable()<br />                .scaledToFit()<br />            <span class="hljs-type">PlayerButton</span>(isPlaying: <span class="hljs-variable">$isPlaying</span>)<br />        }<br />        .font(.largeTitle)<br />    }<br />}</span></pre><figure name="e43b" id="e43b" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*O7PcLbP2tjvl4gmlyXBh8Q.png" data-width="1146" data-height="348" src="https://cdn-images-1.medium.com/max/800/1*O7PcLbP2tjvl4gmlyXBh8Q.png"></figure><p name="5a96" id="5a96" class="graf graf--p graf-after--figure">在寫 SwiftUI App 時，我們時常使用 $ 產生 Binding，除了 @State，在 @Binding，@Bindable、@StateObject，@ObservedObject，@EnvironmentObject 的 property 加 $ 都可以產生 Binding。$ 其實是 property wrapper 存取 projected value 的特別寫法，有興趣的朋友可進一步參考 property wrapper 的說明。</p><div name="4a95" id="4a95" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/properties/#Property-Wrappers" data-href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/properties/#Property-Wrappers" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/properties/#Property-Wrappers"><strong class="markup--strong markup--mixtapeEmbed-strong">Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Copyright © 2014-2023 Apple Inc. and the Swift project authors. All rights reserved.</em>docs.swift.org</a><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/properties/#Property-Wrappers" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="eaa51fa29b63cd9a96973cdcfb11252f"></a></div><p name="3e2a" id="3e2a" class="graf graf--p graf-after--mixtapeEmbed">如下圖所示，現在 PlayerButton 裡 Binding property 參考存取的資料將是 PlayerView 的 State property。</p><figure name="752c" id="752c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gzvW7bPytpyM6lVScWFANg.png" data-width="3260" data-height="996" src="https://cdn-images-1.medium.com/max/800/1*gzvW7bPytpyM6lVScWFANg.png"></figure><p name="af5a" id="af5a" class="graf graf--p graf-after--figure">現在程式終於可以正常執行，而且功能也完美無缺，播放時顯示辦案的偵探，暫停時顯示睡覺的偵探。</p><h3 name="f988" id="f988" class="graf graf--h3 graf-after--p">宣告 Binding property 的注意事項</h3><ul class="postList"><li name="bb7b" id="bb7b" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">不要給初始值</strong></li></ul><p name="d3e0" id="d3e0" class="graf graf--p graf-after--li">由於 Binding 本身沒有儲存資料，它是參考別人的資料，所以在宣告 Binding property 時要記得別給初始值，否則會產生以下錯誤。</p><figure name="d211" id="d211" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9NWV7aH85XsujVvvceMijQ.png" data-width="1758" data-height="940" src="https://cdn-images-1.medium.com/max/800/1*9NWV7aH85XsujVvvceMijQ.png"></figure><p name="9c73" id="9c73" class="graf graf--p graf-after--figure">相反的，像 @State &amp; @StateObject 宣告的 property 會是資料來源，所以他們宣告時會設定初始值。</p><ul class="postList"><li name="166d" id="166d" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Binding property 的名字可自訂，不需要跟資料來源的名字一樣。</strong></li></ul><p name="55a2" id="55a2" class="graf graf--p graf-after--li">剛剛 PlayerButton 的 Binding property 也可以取別的名字，像是 isPlay，跟 PlayerView 裡的 State property isPlaying 不一樣。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="1247" id="1247" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerButton</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-meta">@Binding</span> <span class="hljs-keyword">var</span> isPlay: <span class="hljs-type">Bool</span></span></pre><h3 name="5a5d" id="5a5d" class="graf graf--h3 graf-after--pre">為什麼叫 Binding</h3><p name="d75b" id="d75b" class="graf graf--p graf-after--h3">讓我們用剛剛的例子說明。</p><figure name="af20" id="af20" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LbkxYxxJTE4ZLJWQVruH5Q.png" data-width="1046" data-height="140" src="https://cdn-images-1.medium.com/max/800/1*LbkxYxxJTE4ZLJWQVruH5Q.png"></figure><figure name="6fa6" id="6fa6" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*gzvW7bPytpyM6lVScWFANg.png" data-width="3260" data-height="996" src="https://cdn-images-1.medium.com/max/800/1*gzvW7bPytpyM6lVScWFANg.png"></figure><p name="80d0" id="80d0" class="graf graf--p graf-after--figure">binding 的中文是綁定的意思，現在 PlayerButton 將綁定 PlayerView 裡的資料 isPlaying， 它們之間將實現雙向溝通的方便功能:</p><ul class="postList"><li name="fe1b" id="fe1b" class="graf graf--li graf-after--p">操作元件時將同步修改資料。</li></ul><p name="1336" id="1336" class="graf graf--p graf-after--li">按下 PlayerButton 時，修改 PlayerView 裡的 isPlaying。</p><ul class="postList"><li name="82ea" id="82ea" class="graf graf--li graf-after--p">當資料內容改變時，它也會同步更新元件。</li></ul><p name="c135" id="c135" class="graf graf--p graf-after--li">PlayerView 裡的 isPlaying 改變時，也會改變 PlayerButton 顯示的圖片。</p><h3 name="8cfd" id="8cfd" class="graf graf--h3 graf-after--p">SwiftUI 綁定資料的 Binding 元件</h3><p name="909a" id="909a" class="graf graf--p graf-after--h3">SwiftUI 有許多綁定資料的元件，相關介紹可參考以下連結。</p><div name="5cec" id="5cec" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0-view-model-%E7%9A%84-binding-%E6%A9%9F%E5%88%B6-2f175d29ce6c" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0-view-model-%E7%9A%84-binding-%E6%A9%9F%E5%88%B6-2f175d29ce6c" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0-view-model-%E7%9A%84-binding-%E6%A9%9F%E5%88%B6-2f175d29ce6c"><strong class="markup--strong markup--mixtapeEmbed-strong">SwiftUI 綁定資料的 Binding 元件</strong><br><em class="markup--em markup--mixtapeEmbed-em">透過 state property 我們可以在資料修改時自動更新畫面，不過 SwiftUI 還有更厲害的 binding 機制，它可以在 view 修改時自動更新資料。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/swiftui-%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0-view-model-%E7%9A%84-binding-%E6%A9%9F%E5%88%B6-2f175d29ce6c" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f42bcd9825e849cfbbb5fac1f0d1686b" data-thumbnail-img-id="1*CnV1SLSijpzaBKNr9NTQTQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*CnV1SLSijpzaBKNr9NTQTQ.jpeg);"></a></div><h3 name="a2d6" id="a2d6" class="graf graf--h3 graf-after--mixtapeEmbed">在 SwiftUI preview 產生 Binding 資料</h3><div name="ac9c" id="ac9c" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-preview-%E7%94%A2%E7%94%9F-binding-%E8%B3%87%E6%96%99-8ea1f0dafab5" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-preview-%E7%94%A2%E7%94%9F-binding-%E8%B3%87%E6%96%99-8ea1f0dafab5" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-preview-%E7%94%A2%E7%94%9F-binding-%E8%B3%87%E6%96%99-8ea1f0dafab5"><strong class="markup--strong markup--mixtapeEmbed-strong">在 SwiftUI preview 產生 Binding 資料</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 SwiftUI App 時，為了能修改同一份資料，我們時常使用 Binding，比方以下例子 SizeSlider 裡宣告的 property scale 是 Binding，因此它可以修改 ContentView 裡宣告的…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%9C%A8-swiftui-preview-%E7%94%A2%E7%94%9F-binding-%E8%B3%87%E6%96%99-8ea1f0dafab5" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bae6b7f51e8d21c51cd392781fc0afbe" data-thumbnail-img-id="1*_ikepyR7RYiuyBXNdpA_fw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*_ikepyR7RYiuyBXNdpA_fw.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/ab9ab1b9bcd6"><time class="dt-published" datetime="2021-06-22T07:41:01.379Z">June 22, 2021</time></a>.</p><p><a href="https://medium.com/@apppeterpan/swiftui-%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99%E4%BE%86%E6%BA%90%E7%9A%84-binding-ab9ab1b9bcd6" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>