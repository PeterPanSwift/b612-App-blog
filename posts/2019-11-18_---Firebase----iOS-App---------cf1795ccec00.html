<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 Firebase 實現 iOS App 的登入註冊功能</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 Firebase 實現 iOS App 的登入註冊功能</h1>
</header>
<section data-field="subtitle" class="p-summary">
對 iOS App 開發的初學者來說，Firebase 可以幫我們快速實現後台功能，完成具有雲端功能的 App。而登入這個雲端 App 幾乎必備的功能 Firebase 當然也提供了，而且還一口氣提供多種登入選擇，想要帳密，FB，Google 登入都不是問題。
</section>
<section data-field="body" class="e-content">
<section name="8920" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7b99" id="7b99" class="graf graf--h3 graf--leading graf--title">利用 Firebase 實現 iOS App 的登入註冊功能</h3><p name="0234" id="0234" class="graf graf--p graf-after--h3">對 iOS App 開發的初學者來說，Firebase 可以幫我們快速實現後台功能，完成具有雲端功能的 App。而登入這個雲端 App 幾乎必備的功能 Firebase 當然也提供了，而且還一口氣提供多種登入選擇，想要帳密，FB，Google 登入都不是問題。</p><p name="2ebb" id="2ebb" class="graf graf--p graf-after--p">接下來就讓我們一步步實現 Firebase 的帳密 &amp; FB 登入功能吧。</p><h3 name="1d71" id="1d71" class="graf graf--h3 graf-after--p">Firebase 登入的官方文件</h3><p name="5ea6" id="5ea6" class="graf graf--p graf-after--h3">喜歡照著官方說明一步步操作的朋友，可參考以下連結。</p><div name="b196" id="b196" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://firebase.google.com/docs/auth" data-href="https://firebase.google.com/docs/auth" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://firebase.google.com/docs/auth"><strong class="markup--strong markup--mixtapeEmbed-strong">Firebase Authentication | Firebase</strong><br><em class="markup--em markup--mixtapeEmbed-em">Most apps need to know the identity of a user. Knowing a user&#39;s identity allows an app to securely save user data in…</em>firebase.google.com</a><a href="https://firebase.google.com/docs/auth" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7abe9ade19cf41a4f2d5cb969f89547c" data-thumbnail-img-id="0*r2BSViibYw5JwLqs" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*r2BSViibYw5JwLqs);"></a></div><p name="1e25" id="1e25" class="graf graf--p graf-after--mixtapeEmbed">從 Authentication(認證) &gt; iOS 研究 iOS 登入的相關說明。</p><figure name="548e" id="548e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*nqh_GmW8p92DVZaE_oulLQ.jpeg" data-width="2212" data-height="1266" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*nqh_GmW8p92DVZaE_oulLQ.jpeg"></figure><p name="2de7" id="2de7" class="graf graf--p graf-after--figure">懶得看官方說明的朋友，則可跟著彼得潘一步步實現 Firebase 登入功能。</p><h3 name="8852" id="8852" class="graf graf--h3 graf-after--p">建立 Firebase 專案</h3><p name="3153" id="3153" class="graf graf--p graf-after--h3">若已建立 Firebase 專案，則可跳過此步驟。</p><div name="98c1" id="98c1" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-firebase-%E5%B0%88%E6%A1%88-fbd6d19808c3" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-firebase-%E5%B0%88%E6%A1%88-fbd6d19808c3" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-firebase-%E5%B0%88%E6%A1%88-fbd6d19808c3"><strong class="markup--strong markup--mixtapeEmbed-strong">建立 Firebase 專案</strong><br><em class="markup--em markup--mixtapeEmbed-em">1 連到 Firebase 網站。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BB%BA%E7%AB%8B-firebase-%E5%B0%88%E6%A1%88-fbd6d19808c3" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d4346ccd2dd984dcba53c9f4acce4a4f" data-thumbnail-img-id="1*bmkc-Seir7MAzj6eb_08uw.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*bmkc-Seir7MAzj6eb_08uw.jpeg);"></a></div><h3 name="c39b" id="c39b" class="graf graf--h3 graf-after--mixtapeEmbed"><strong class="markup--strong markup--h3-strong"><em class="markup--em markup--h3-em">連到專案頁面</em></strong></h3><figure name="c271" id="c271" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*kgjFp5ZgimiYHDHPPUrwHw.jpeg" data-width="616" data-height="128" src="https://cdn-images-1.medium.com/max/800/1*kgjFp5ZgimiYHDHPPUrwHw.jpeg"></figure><figure name="86cb" id="86cb" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*1CDKaYeCnNxOEw9SJzrlqQ.png" data-width="2612" data-height="1282" src="https://cdn-images-1.medium.com/max/800/1*1CDKaYeCnNxOEw9SJzrlqQ.png"></figure><h3 name="bbc0" id="bbc0" class="graf graf--h3 graf-after--figure">設定 iOS App 的 Firebase 功能</h3><div name="5e6d" id="5e6d" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-ios-app-%E7%9A%84-firebase-%E5%8A%9F%E8%83%BD-afcaaabe00f2" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-ios-app-%E7%9A%84-firebase-%E5%8A%9F%E8%83%BD-afcaaabe00f2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-ios-app-%E7%9A%84-firebase-%E5%8A%9F%E8%83%BD-afcaaabe00f2"><strong class="markup--strong markup--mixtapeEmbed-strong">設定 iOS App 的 Firebase 功能</strong><br><em class="markup--em markup--mixtapeEmbed-em">1 連到 Firebase 的專案頁面。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-ios-app-%E7%9A%84-firebase-%E5%8A%9F%E8%83%BD-afcaaabe00f2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a6897cb16e9940b46d6b5a890c3f21df" data-thumbnail-img-id="1*sU1Rl7a-oTLvzzBRtKBW4A.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*sU1Rl7a-oTLvzzBRtKBW4A.jpeg);"></a></div><h3 name="4046" id="4046" class="graf graf--h3 graf-after--mixtapeEmbed">點選左邊側邊欄 Build 下的 Authentication</h3><figure name="b8ef" id="b8ef" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*hVfCFrGDedsgwNMKVLxeyg.png" data-width="374" data-height="690" src="https://cdn-images-1.medium.com/max/800/1*hVfCFrGDedsgwNMKVLxeyg.png"></figure><p name="8b7b" id="8b7b" class="graf graf--p graf-after--figure">點選 Get started。</p><figure name="a0e5" id="a0e5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*coZruQ79BTq6RuUI3rVLHw.png" data-width="1604" data-height="728" src="https://cdn-images-1.medium.com/max/800/1*coZruQ79BTq6RuUI3rVLHw.png"></figure><h3 name="4a4c" id="4a4c" class="graf graf--h3 graf-after--figure">點選 sign-in method</h3><p name="679b" id="679b" class="graf graf--p graf-after--h3">有多種登入的方式可選擇，比方帳密登入，Apple 登入，FB 登入，Google 登入等，接下來讓我們先實現最常見的帳密登入功能。</p><figure name="230f" id="230f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Fd64QCFeB2RbLWnfsSNlQA.png" data-width="2110" data-height="910" src="https://cdn-images-1.medium.com/max/800/1*Fd64QCFeB2RbLWnfsSNlQA.png"></figure><h3 name="7d7b" id="7d7b" class="graf graf--h3 graf-after--figure">打開帳號密碼登入功能</h3><p name="3d8a" id="3d8a" class="graf graf--p graf-after--h3">點選 Email/ Password。</p><figure name="6acc" id="6acc" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*NsDDrh8Q0Y5i8JSDkbwTZg.png" data-width="354" data-height="184" src="https://cdn-images-1.medium.com/max/800/1*NsDDrh8Q0Y5i8JSDkbwTZg.png"></figure><p name="00f7" id="00f7" class="graf graf--p graf-after--figure">將允許使用者帳密登入的開關打開後按 Save。</p><figure name="621b" id="621b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*48hbi1iU-KW7pWg8LCHcfQ.png" data-width="1334" data-height="578" src="https://cdn-images-1.medium.com/max/800/1*48hbi1iU-KW7pWg8LCHcfQ.png"></figure><p name="9662" id="9662" class="graf graf--p graf-after--figure">之後若想加入其它登入的方式，可再點選 Add new provider。</p><figure name="fac0" id="fac0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Lht0UtmOI0Er_-nrsJKnig.png" data-width="2392" data-height="574" src="https://cdn-images-1.medium.com/max/800/1*Lht0UtmOI0Er_-nrsJKnig.png"></figure><h3 name="58a7" id="58a7" class="graf graf--h3 graf-after--figure">設定密碼的規則</h3><p name="3fec" id="3fec" class="graf graf--p graf-after--h3">從 Settings 的 Password Policy 可設定密碼的規則，預設的最小密碼長度是 6 個字。</p><figure name="875b" id="875b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*o8M_qJsmx9M0L1CykvQEJA.png" data-width="2382" data-height="1636" src="https://cdn-images-1.medium.com/max/800/1*o8M_qJsmx9M0L1CykvQEJA.png"></figure><h3 name="96ae" id="96ae" class="graf graf--h3 graf-after--figure">從網頁建立帳號</h3><p name="5fe5" id="5fe5" class="graf graf--p graf-after--h3">切換到 Users 分頁，點選 Add user。</p><figure name="eb0c" id="eb0c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9Ats9Sa68ZqHCP-PEzqJcw.png" data-width="2406" data-height="802" src="https://cdn-images-1.medium.com/max/800/1*9Ats9Sa68ZqHCP-PEzqJcw.png"></figure><p name="a2c0" id="a2c0" class="graf graf--p graf-after--figure">輸入帳密，點選 Add user。</p><figure name="c212" id="c212" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*874lZ1pleHvSx7xhheKH6A.png" data-width="1828" data-height="458" src="https://cdn-images-1.medium.com/max/800/1*874lZ1pleHvSx7xhheKH6A.png"></figure><figure name="1d6c" id="1d6c" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*DpNbVif10kLyU7JrJ-JfqA.png" data-width="2396" data-height="744" src="https://cdn-images-1.medium.com/max/800/1*DpNbVif10kLyU7JrJ-JfqA.png"></figure><h3 name="7730" id="7730" class="graf graf--h3 graf-after--figure">利用 SPM 加入 Firebase 套件的 FirebaseAuth</h3><div name="df5d" id="df5d" class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-spm-%E5%9C%A8-xcode-%E5%B0%88%E6%A1%88%E5%8A%A0%E5%85%A5-firebase-%E5%A5%97%E4%BB%B6-72f935ef337" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-spm-%E5%9C%A8-xcode-%E5%B0%88%E6%A1%88%E5%8A%A0%E5%85%A5-firebase-%E5%A5%97%E4%BB%B6-72f935ef337" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-spm-%E5%9C%A8-xcode-%E5%B0%88%E6%A1%88%E5%8A%A0%E5%85%A5-firebase-%E5%A5%97%E4%BB%B6-72f935ef337"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 SPM 在 Xcode 專案加入 Firebase 套件</strong><br><em class="markup--em markup--mixtapeEmbed-em">Firebase 從 6.31.0 版開始，可以從 Xcode 內建的套件管理工具 SPM 安裝了 ! (須搭配 Xcode 12)</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-spm-%E5%9C%A8-xcode-%E5%B0%88%E6%A1%88%E5%8A%A0%E5%85%A5-firebase-%E5%A5%97%E4%BB%B6-72f935ef337" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ce77fd51fa456034770a6c07e8566042" data-thumbnail-img-id="1*f-i5XYCL12SkMnLdIa4MEQ.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*f-i5XYCL12SkMnLdIa4MEQ.jpeg);"></a></div><h3 name="fb62" id="fb62" class="graf graf--h3 graf-after--mixtapeEmbed">加入登入的 framework</h3><p name="05ab" id="05ab" class="graf graf--p graf-after--h3">撰寫 Firebase 登入程式時，記得先 import FirebaseAuth。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b92f" id="b92f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> FirebaseAuth</span></pre><h3 name="3544" id="3544" class="graf graf--h3 graf-after--pre"><strong class="markup--strong markup--h3-strong">從程式建立帳號</strong></h3><p name="3b13" id="3b13" class="graf graf--p graf-after--h3">呼叫 Auth 物件的 createUser，傳入帳密建立新的使用者，成功時可取得使用者的 email &amp; uid。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="fc4c" id="fc4c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-type">Auth</span>.auth().createUser(withEmail: <span class="hljs-string">&quot;peter@neverland.com&quot;</span>, password: <span class="hljs-string">&quot;123456&quot;</span>) { result, error <span class="hljs-keyword">in</span><br />            <br />     <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> user <span class="hljs-operator">=</span> result<span class="hljs-operator">?</span>.user, <br />           error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> <span class="hljs-keyword">else</span> {<br />         <span class="hljs-built_in">print</span>(error<span class="hljs-operator">?</span>.localizedDescription)<br />         <span class="hljs-keyword">return</span><br />     }<br />     <span class="hljs-built_in">print</span>(user.email, user.uid)<br />}</span></pre><p name="80d4" id="80d4" class="graf graf--p graf-after--pre">建立帳號成功後使用者將是已登入狀態，下次重新啟動 App 也會是已登入狀態。</p><p name="b76e" id="b76e" class="graf graf--p graf-after--p">ps: 若是開發 UIKit App，在 class 裡呼叫 Auth.auth().createUser，可在 closure 裡加上 capture list。</p><div name="a175" id="a175" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-capture-list-%E8%A7%A3%E6%B1%BA-closure-%E5%8F%AF%E8%83%BD%E7%94%A2%E7%94%9F%E7%9A%84%E8%A8%98%E6%86%B6%E9%AB%94%E5%95%8F%E9%A1%8C-a7672fab1d1f" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-capture-list-%E8%A7%A3%E6%B1%BA-closure-%E5%8F%AF%E8%83%BD%E7%94%A2%E7%94%9F%E7%9A%84%E8%A8%98%E6%86%B6%E9%AB%94%E5%95%8F%E9%A1%8C-a7672fab1d1f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-capture-list-%E8%A7%A3%E6%B1%BA-closure-%E5%8F%AF%E8%83%BD%E7%94%A2%E7%94%9F%E7%9A%84%E8%A8%98%E6%86%B6%E9%AB%94%E5%95%8F%E9%A1%8C-a7672fab1d1f"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 capture list 解決 closure 可能產生的記憶體問題</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們時常使用強大的 closure 語法。然而就像 spider man，能力愈大，責任愈大，強大的 closure 有時會產生麻煩的記憶體問題。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-capture-list-%E8%A7%A3%E6%B1%BA-closure-%E5%8F%AF%E8%83%BD%E7%94%A2%E7%94%9F%E7%9A%84%E8%A8%98%E6%86%B6%E9%AB%94%E5%95%8F%E9%A1%8C-a7672fab1d1f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b54c891c1d8272a29fa3de3bfc2ea469" data-thumbnail-img-id="1*WfCoa8r7-CAg6X_Gt8IJ1Q.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*WfCoa8r7-CAg6X_Gt8IJ1Q.png);"></a></div><h3 name="7c0c" id="7c0c" class="graf graf--h3 graf-after--mixtapeEmbed">從 Firebase 查詢使用者清單</h3><p name="d646" id="d646" class="graf graf--p graf-after--h3">從專案 Authentication 頁面的 Users 分頁可看到使用者清單。</p><figure name="b20d" id="b20d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2vwRbFTJESwUxluwEeWXtg.jpeg" data-width="1686" data-height="520" src="https://cdn-images-1.medium.com/max/800/1*2vwRbFTJESwUxluwEeWXtg.jpeg"></figure><h3 name="31e8" id="31e8" class="graf graf--h3 graf-after--figure">帳密登入</h3><p name="a530" id="a530" class="graf graf--p graf-after--h3">呼叫 Auth 物件的 signIn 登入。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3c39" id="3c39" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-type">Auth</span>.auth().signIn(withEmail: <span class="hljs-string">&quot;peter@neverland.com&quot;</span>, password: <span class="hljs-string">&quot;123456&quot;</span>) { result, error <span class="hljs-keyword">in</span><br />     <span class="hljs-keyword">guard</span> error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> <span class="hljs-keyword">else</span> {<br />        <span class="hljs-built_in">print</span>(error<span class="hljs-operator">?</span>.localizedDescription)<br />        <span class="hljs-keyword">return</span><br />     }<br />   <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;success&quot;</span>)<br />}</span></pre><p name="d279" id="d279" class="graf graf--p graf-after--pre">登入後使用者將維持登入狀態，就算我們重新啟動 App ，使用者還是能保持登入。</p><h3 name="e5a9" id="e5a9" class="graf graf--h3 graf-after--p">判斷使用者是否登入</h3><ul class="postList"><li name="39ab" id="39ab" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">方法 1</strong></li></ul><p name="f01a" id="f01a" class="graf graf--p graf-after--li">當 Auth.auth().currentUser 有值時代表使用者已登入。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="1790" id="1790" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> user <span class="hljs-operator">=</span> <span class="hljs-type">Auth</span>.auth().currentUser {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(user.uid)</span> login&quot;</span>)<br />} <span class="hljs-keyword">else</span> {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;not login&quot;</span>)<br />}</span></pre><ul class="postList"><li name="ff5c" id="ff5c" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">方法 2</strong></li></ul><p name="23a9" id="23a9" class="graf graf--p graf-after--li">呼叫 Auth 物件的 addStateDidChangeListener 申請接收登入狀態改變的通知，當使用者登入 / 登出時我們將可收到通知，若 addAuthStateDidChangeListener 的 closure 參數 user 有值即代表使用者已登入。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="8ee2" id="8ee2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-type">Auth</span>.auth().addStateDidChangeListener { auth, user <span class="hljs-keyword">in</span><br />   <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> user {<br />       <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(user.uid)</span> login&quot;</span>)<br />   } <span class="hljs-keyword">else</span> {<br />       <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;not login&quot;</span>)<br />   }<br />}</span></pre><p name="f0e7" id="f0e7" class="graf graf--p graf-after--pre">關於 Firebase 上使用者管理的更多說明，比方設定密碼 &amp; 取得個人 profile 資訊，可進一步參考以下連結。</p><div name="dfaf" id="dfaf" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://firebase.google.com/docs/auth/ios/manage-users" data-href="https://firebase.google.com/docs/auth/ios/manage-users" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://firebase.google.com/docs/auth/ios/manage-users"><strong class="markup--strong markup--mixtapeEmbed-strong">Manage Users in Firebase | Firebase</strong><br><em class="markup--em markup--mixtapeEmbed-em">You create a new user in your Firebase project by calling the createUserWithEmail:password:completion: method or by…</em>firebase.google.com</a><a href="https://firebase.google.com/docs/auth/ios/manage-users" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a87bb56a62a5652a411805ca1df2c836" data-thumbnail-img-id="0*4SY87GyyGfmhnPKi." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*4SY87GyyGfmhnPKi.);"></a></div><h3 name="455a" id="455a" class="graf graf--h3 graf-after--mixtapeEmbed">設定使用者的名字跟照片網址</h3><p name="c356" id="c356" class="graf graf--p graf-after--h3">設定 photoURL &amp; displayName。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="96bc" id="96bc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> changeRequest <span class="hljs-operator">=</span> <span class="hljs-type">Auth</span>.auth().currentUser<span class="hljs-operator">?</span>.createProfileChangeRequest()<br />changeRequest<span class="hljs-operator">?</span>.photoURL <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">&quot;https://images.pexels.com/photos/1170986/pexels-photo-1170986.jpeg&quot;</span>)<br />changeRequest<span class="hljs-operator">?</span>.displayName <span class="hljs-operator">=</span> <span class="hljs-string">&quot;帥哥&quot;</span><br />changeRequest<span class="hljs-operator">?</span>.commitChanges(completion: { error <span class="hljs-keyword">in</span><br />   <span class="hljs-keyword">guard</span> error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> <span class="hljs-keyword">else</span> {<br />       <span class="hljs-built_in">print</span>(error<span class="hljs-operator">?</span>.localizedDescription)<br />       <span class="hljs-keyword">return</span><br />   }<br />                    <br />})</span></pre><h3 name="013c" id="013c" class="graf graf--h3 graf-after--pre">取得使用者的基本資訊</h3><p name="af9c" id="af9c" class="graf graf--p graf-after--h3">取得 id，email，名字和照片網址。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3bcb" id="3bcb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> user <span class="hljs-operator">=</span> <span class="hljs-type">Auth</span>.auth().currentUser {<br />   <span class="hljs-built_in">print</span>(user.uid, user.email, user.displayName, user.photoURL)<br />}</span></pre><h3 name="c292" id="c292" class="graf graf--h3 graf-after--pre">設定使用者的額外資訊和讀取其它使用者的資料</h3><p name="9686" id="9686" class="graf graf--p graf-after--h3">在 Authentication 頁面儲存的使用者列表有以下限制。</p><ul class="postList"><li name="b8b9" id="b8b9" class="graf graf--li graf-after--p">它是不公開的，我們無法從程式讀取其它使用者的資訊。</li><li name="2cbd" id="2cbd" class="graf graf--li graf-after--li">它的欄位是固定的，我們無法新增欄位儲存其它資訊。</li></ul><figure name="6a1f" id="6a1f" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*APG8nmzjdvJcbdniUR07_w.jpeg" data-width="1686" data-height="520" src="https://cdn-images-1.medium.com/max/800/1*APG8nmzjdvJcbdniUR07_w.jpeg"></figure><p name="fc46" id="fc46" class="graf graf--p graf-after--figure">為了儲存其它資訊跟讀取其它使用者的資料，我們必須另外在 FireStore 上儲存使用者資料。</p><div name="5215" id="5215" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebasefirestoreswift-%E5%B0%87-firestore-%E7%9A%84%E8%B3%87%E6%96%99%E8%AE%8A%E6%88%90%E8%87%AA%E8%A8%82%E5%9E%8B%E5%88%A5-89f33c852018" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebasefirestoreswift-%E5%B0%87-firestore-%E7%9A%84%E8%B3%87%E6%96%99%E8%AE%8A%E6%88%90%E8%87%AA%E8%A8%82%E5%9E%8B%E5%88%A5-89f33c852018" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebasefirestoreswift-%E5%B0%87-firestore-%E7%9A%84%E8%B3%87%E6%96%99%E8%AE%8A%E6%88%90%E8%87%AA%E8%A8%82%E5%9E%8B%E5%88%A5-89f33c852018"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 Cloud Firestore 實現資料的建立，讀取，修改 &amp; 刪除</strong><br><em class="markup--em markup--mixtapeEmbed-em">Firebase 提供強大的 Firestore 讓我們上傳和下載資料，不過從前撰寫上傳和下載資料的相關程式時，並不是很方便，因為資料的型別是 [String: Any]，我們需要自己寫程式將它轉換成方便 App 使用的自訂型別。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-firebasefirestoreswift-%E5%B0%87-firestore-%E7%9A%84%E8%B3%87%E6%96%99%E8%AE%8A%E6%88%90%E8%87%AA%E8%A8%82%E5%9E%8B%E5%88%A5-89f33c852018" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f0cab3f368b3c5bb4aa02146a34c3bcc" data-thumbnail-img-id="1*y8kGiRpZtjWxEkogP4KipA.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*y8kGiRpZtjWxEkogP4KipA.jpeg);"></a></div><h3 name="f8fe" id="f8fe" class="graf graf--h3 graf-after--mixtapeEmbed">登出</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8cf7" id="8cf7" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">do</span> {<br />   <span class="hljs-keyword">try</span> <span class="hljs-type">Auth</span>.auth().signOut()<br />} <span class="hljs-keyword">catch</span> {<br />   <span class="hljs-built_in">print</span>(error)<br />}</span></pre><p name="9df9" id="9df9" class="graf graf--p graf-after--pre">實現了最基本的帳密登入功能後，接著讓我們也試試很常見的 FB 登入功能吧。</p><h3 name="228d" id="228d" class="graf graf--h3 graf-after--p">Facebook 登入</h3><p name="bc0b" id="bc0b" class="graf graf--p graf-after--h3">首先照著以下連結的說明實現 iOS App 的 Facebook 登入功能。</p><div name="055f" id="055f" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AF%A6%E4%BD%9C-ios-app-%E7%9A%84-facebook-%E7%99%BB%E5%85%A5%E5%8A%9F%E8%83%BD-96c981d482cc" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AF%A6%E4%BD%9C-ios-app-%E7%9A%84-facebook-%E7%99%BB%E5%85%A5%E5%8A%9F%E8%83%BD-96c981d482cc" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AF%A6%E4%BD%9C-ios-app-%E7%9A%84-facebook-%E7%99%BB%E5%85%A5%E5%8A%9F%E8%83%BD-96c981d482cc"><strong class="markup--strong markup--mixtapeEmbed-strong">實作 iOS App 的 Facebook 登入功能</strong><br><em class="markup--em markup--mixtapeEmbed-em">在這個幾乎人人都有 FB 帳號的時代，很多 iOS App 都有 FB 登入功能，讓使用者不用再麻煩地註冊帳號密碼。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%AF%A6%E4%BD%9C-ios-app-%E7%9A%84-facebook-%E7%99%BB%E5%85%A5%E5%8A%9F%E8%83%BD-96c981d482cc" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="3f3a4c2a3b8c3ea294319c6fea772d5e" data-thumbnail-img-id="1*7plV8apGYd6SrH_MGGyQWg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*7plV8apGYd6SrH_MGGyQWg.png);"></a></div><p name="45bc" id="45bc" class="graf graf--p graf-after--mixtapeEmbed">依據以上連結操作，我們的 App 已經可以 FB 登入，但是它跟 Firebase 完全沒關聯。我們想要的是 FB 登入的使用者能成為 Firebase 上的使用者，因此請進入 Firebase 專案的 Authentication 頁面，切換到 Sign-in method 分頁，點選 Add new provider。</p><figure name="b255" id="b255" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*oo1EJFKuVkgTVJ2-FocDqg.png" data-width="2102" data-height="548" src="https://cdn-images-1.medium.com/max/800/1*oo1EJFKuVkgTVJ2-FocDqg.png"></figure><p name="9c3c" id="9c3c" class="graf graf--p graf-after--figure">點選 Facebook 新增 FB 登入。</p><figure name="fa95" id="fa95" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*bqTprXYoWTsIUoRPH2Cqdw.png" data-width="1592" data-height="832" src="https://cdn-images-1.medium.com/max/800/1*bqTprXYoWTsIUoRPH2Cqdw.png"></figure><p name="698e" id="698e" class="graf graf--p graf-after--figure">此時我們需輸入 FB 開發網站上 App 的 App ID &amp; App secret，我們可從 FB 網站上 App 的 Settings &gt; Basic 頁面查詢 App 的 App ID &amp; App secret。</p><figure name="afcd" id="afcd" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PwAVyGa-yiQ6Ay0wHGTzGg.jpeg" data-width="1918" data-height="958" src="https://cdn-images-1.medium.com/max/800/1*PwAVyGa-yiQ6Ay0wHGTzGg.jpeg"></figure><figure name="fdf1" id="fdf1" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*qigtqJx0ZL4nNmcZxflECw.jpeg" data-width="2400" data-height="508" src="https://cdn-images-1.medium.com/max/800/1*qigtqJx0ZL4nNmcZxflECw.jpeg"></figure><p name="a1fc" id="a1fc" class="graf graf--p graf-after--figure">在 Firebase Sign-in method 的 FB 設定裡輸入 App ID &amp; App secret，然後點選右下方的 Save。</p><figure name="b8d0" id="b8d0" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*aUqwFpSJj4z8OPxmDLuNNw.jpeg" data-width="1826" data-height="876" src="https://cdn-images-1.medium.com/max/800/1*aUqwFpSJj4z8OPxmDLuNNw.jpeg"></figure><p name="5c70" id="5c70" class="graf graf--p graf-after--figure">ps: 圖片裡還有個 OAuth redirect URI 需設定 ，不過目前測試後沒有設定並不影響 FB 登入功能。</p><figure name="2db8" id="2db8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*GUnGg5JqNmmI70sMlA4bwQ.jpeg" data-width="1250" data-height="814" src="https://cdn-images-1.medium.com/max/800/1*GUnGg5JqNmmI70sMlA4bwQ.jpeg"></figure><p name="ce49" id="ce49" class="graf graf--p graf-after--figure">以下為 FB 登入的相關程式，主要分為兩個步驟，先用 LoginManager 的 logIn 登入 FB，然後再用 AccessToken.current!.tokenString 產生 Firebase 登入需要的 credential，然後以 Auth.auth().signIn 登入。</p><h4 name="72a7" id="72a7" class="graf graf--h4 graf-after--p">SwiftUI 版本</h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="3578" id="3578" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">login</span>() {<br />    <span class="hljs-keyword">let</span> manager <span class="hljs-operator">=</span> <span class="hljs-type">LoginManager</span>()<br />    manager.logIn { result <span class="hljs-keyword">in</span><br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> <span class="hljs-type">LoginResult</span>.success(granted: <span class="hljs-keyword">_</span>, declined: <span class="hljs-keyword">_</span>, token: <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> result {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;fb login ok&quot;</span>)<br />            <br />            <span class="hljs-keyword">let</span> credential <span class="hljs-operator">=</span>  <span class="hljs-type">FacebookAuthProvider</span>.credential(withAccessToken: token<span class="hljs-operator">!</span>.tokenString)<br />            <span class="hljs-type">Auth</span>.auth().signIn(with: credential) { result, error <span class="hljs-keyword">in</span><br />                <span class="hljs-keyword">guard</span> error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> <span class="hljs-keyword">else</span> {<br />                    <span class="hljs-built_in">print</span>(error<span class="hljs-operator">?</span>.localizedDescription)<br />                    <span class="hljs-keyword">return</span><br />                }<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;login ok&quot;</span>)<br />            }<br />            <br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;login fail&quot;</span>)<br />        }<br />    }<br />}</span></pre><h4 name="f52b" id="f52b" class="graf graf--h4 graf-after--pre">UIKit 版本</h4><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="e657" id="e657" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content"><span class="hljs-keyword">func</span> <span class="hljs-title function_">login</span>() {<br />    <span class="hljs-keyword">let</span> manager <span class="hljs-operator">=</span> <span class="hljs-type">LoginManager</span>()<br />    manager.logIn(permissions: [.publicProfile], viewController: <span class="hljs-keyword">self</span>) { result <span class="hljs-keyword">in</span><br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> <span class="hljs-type">LoginResult</span>.success(granted: <span class="hljs-keyword">_</span>, declined: <span class="hljs-keyword">_</span>, token: <span class="hljs-keyword">let</span> token) <span class="hljs-operator">=</span> result {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;fb login ok&quot;</span>)<br />            <br />            <span class="hljs-keyword">let</span> credential <span class="hljs-operator">=</span>  <span class="hljs-type">FacebookAuthProvider</span>.credential(withAccessToken: token<span class="hljs-operator">!</span>.tokenString)<br />            <span class="hljs-type">Auth</span>.auth().signIn(with: credential) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] result, error <span class="hljs-keyword">in</span><br />                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }<br />                <span class="hljs-keyword">guard</span> error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> <span class="hljs-keyword">else</span> {<br />                    <span class="hljs-built_in">print</span>(error<span class="hljs-operator">?</span>.localizedDescription)<br />                    <span class="hljs-keyword">return</span><br />                }<br />                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;login ok&quot;</span>)<br />            }<br />            <br />        } <span class="hljs-keyword">else</span> {<br />            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;login fail&quot;</span>)<br />        }<br />    }<br />}</span></pre><p name="500a" id="500a" class="graf graf--p graf-after--pre">成功登入後在 Firebase 的 Authentication &gt; Users 分頁可看到 FB 登入的使用者。</p><figure name="adc4" id="adc4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZfGTZp2QZ1IHxV-8CCwbzQ.jpeg" data-width="2108" data-height="792" src="https://cdn-images-1.medium.com/max/800/1*ZfGTZp2QZ1IHxV-8CCwbzQ.jpeg"></figure><p name="f440" id="f440" class="graf graf--p graf-after--figure">我們也可以從 Auth.auth().currentUser 的 providerData 進一步取得從 FB 等第三方平台登入的相關資訊。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="eaca" id="eaca" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> user <span class="hljs-operator">=</span> <span class="hljs-type">Auth</span>.auth().currentUser {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;<span class="hljs-subst">\(user.providerID)</span> login&quot;</span>)<br />    <span class="hljs-keyword">if</span> user.providerData.count <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> {<br />        <span class="hljs-keyword">let</span> userInfo <span class="hljs-operator">=</span> user.providerData[<span class="hljs-number">0</span>]<br />        <span class="hljs-built_in">print</span>(userInfo.providerID, userInfo.displayName, userInfo.photoURL)<br />    }<br />} <span class="hljs-keyword">else</span> {<br />    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;not login&quot;</span>)<br />}</span></pre><p name="4f63" id="4f63" class="graf graf--p graf-after--pre">比方彼得潘以 FB 登入後，以上程式列印的 userInfo 如下:</p><pre name="dc13" id="dc13" class="graf graf--pre graf-after--p">facebook.com Optional(&quot;Deeplove Pan&quot;) Optional(<a href="https://graph.facebook.com/10214280447396741/picture" data-href="https://graph.facebook.com/10214280447396741/picture" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://graph.facebook.com/10214280447396741/picture</a>)</pre><p name="1530" id="1530" class="graf graf--p graf-after--pre">對官方說明有興趣的朋友，可進一步參考以下連結。</p><div name="f7d8" id="f7d8" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://firebase.google.com/docs/auth/ios/facebook-login" data-href="https://firebase.google.com/docs/auth/ios/facebook-login" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://firebase.google.com/docs/auth/ios/facebook-login"><strong class="markup--strong markup--mixtapeEmbed-strong">Authenticate Using Facebook Login on iOS | Firebase</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can let your users authenticate with Firebase using their Facebook accounts by integrating Facebook Login into your…</em>firebase.google.com</a><a href="https://firebase.google.com/docs/auth/ios/facebook-login" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ba1b68d425f20eb1ae953d7ee35e4b7e" data-thumbnail-img-id="0*XDWiiwDzOmq4hpCw." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*XDWiiwDzOmq4hpCw.);"></a></div><h3 name="da74" id="da74" class="graf graf--h3 graf-after--mixtapeEmbed">Google 登入</h3><p name="f3a1" id="f3a1" class="graf graf--p graf-after--h3">可參考可愛同學 Cathie 的學習筆記。</p><div name="20dd" id="20dd" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E5%AF%A6%E4%BD%9Cgoogle%E7%99%BB%E5%85%A5-e50c11ae56cd" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E5%AF%A6%E4%BD%9Cgoogle%E7%99%BB%E5%85%A5-e50c11ae56cd" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E5%AF%A6%E4%BD%9Cgoogle%E7%99%BB%E5%85%A5-e50c11ae56cd"><strong class="markup--strong markup--mixtapeEmbed-strong">＃學習筆記 實作Google登入</strong><br><em class="markup--em markup--mixtapeEmbed-em">一、準備登入畫面</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E5%AF%A6%E4%BD%9Cgoogle%E7%99%BB%E5%85%A5-e50c11ae56cd" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ac5a7fb2908cd2a2341d796316261477" data-thumbnail-img-id="1*IPFxbPUCdtcmeeSQoqcGug.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*IPFxbPUCdtcmeeSQoqcGug.png);"></a></div><h3 name="b74c" id="b74c" class="graf graf--h3 graf-after--mixtapeEmbed">Apple ID 登入</h3><p name="bfd2" id="bfd2" class="graf graf--p graf-after--h3">現在 iOS App 上最好的登入方式非 Apple ID 登入莫屬，對這部份有興趣的可參考以下連結。</p><div name="25ec" id="25ec" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://firebase.google.com/docs/auth/ios/apple" data-href="https://firebase.google.com/docs/auth/ios/apple" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://firebase.google.com/docs/auth/ios/apple"><strong class="markup--strong markup--mixtapeEmbed-strong">Authenticate Using Apple on iOS | Firebase</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can let your users authenticate with Firebase using their Apple ID by using the Firebase SDK to carry out the…</em>firebase.google.com</a><a href="https://firebase.google.com/docs/auth/ios/apple" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="1ca88b1b0430023cc5e5cda22db09da0"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/cf1795ccec00"><time class="dt-published" datetime="2019-11-18T04:19:52.164Z">November 18, 2019</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-firebase-%E5%AF%A6%E7%8F%BE-ios-app-%E7%9A%84%E7%99%BB%E5%85%A5%E5%8A%9F%E8%83%BD-cf1795ccec00" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>