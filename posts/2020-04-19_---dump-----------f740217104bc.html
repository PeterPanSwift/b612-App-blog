<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>利用 dump 美美地階層列印東西</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">利用 dump 美美地階層列印東西</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們時常利用 print 印出東西的內容，不過有時它印出的內容實在不太好看，此時我們可改用 dump 讓它變得美美的階層列印。
</section>
<section data-field="body" class="e-content">
<section name="fe23" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6a32" id="6a32" class="graf graf--h3 graf--leading graf--title">利用 dump 美美地階層列印東西</h3><p name="1179" id="1179" class="graf graf--p graf-after--h3">開發 iOS App 時，我們時常在 debug 時利用 print 列印東西的內容，不過有時它印出的內容實在不太好看，此時我們可改用 dump 讓它變得美美的階層列印。</p><p name="7a8b" id="7a8b" class="graf graf--p graf-after--p">接下來讓我們看看 print &amp; dump 列印以下 6 種東西的大 PK</p><ul class="postList"><li name="1ebf" id="1ebf" class="graf graf--li graf-after--p">struct</li><li name="35b8" id="35b8" class="graf graf--li graf-after--li">class</li><li name="5f80" id="5f80" class="graf graf--li graf-after--li">array</li><li name="9799" id="9799" class="graf graf--li graf-after--li">dictionary</li><li name="824a" id="824a" class="graf graf--li graf-after--li">optional</li><li name="8ba6" id="8ba6" class="graf graf--li graf-after--li">JSON Decodable</li></ul><h3 name="230e" id="230e" class="graf graf--h3 graf-after--li"><strong class="markup--strong markup--h3-strong">列印 struct</strong></h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="afd2" id="afd2" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Dog</span> {<br />    <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;小白&quot;</span><br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Baby</span> {<br />    <span class="hljs-keyword">var</span> age <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;peter&quot;</span><br />    <span class="hljs-keyword">var</span> pet <span class="hljs-operator">=</span> <span class="hljs-type">Dog</span>()<br />}<br /><br /><span class="hljs-keyword">let</span> cuteBaby <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-built_in">print</span>(cuteBaby)</span></pre><p name="92d9" id="92d9" class="graf graf--p graf-after--pre">print 可將 struct 的 property 一一印出，不過它全都擠在一起，不太容易閱讀。</p><figure name="bede" id="bede" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*g2SofB4iD2SnkPN6_hAuPA.jpeg" data-width="1718" data-height="164" src="https://cdn-images-1.medium.com/max/800/1*g2SofB4iD2SnkPN6_hAuPA.jpeg"></figure><p name="0099" id="0099" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">dump(cuteBaby) </strong></code>將讓內容美美地階層展開。</p><figure name="04ae" id="04ae" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*yQjyqeONLMC2-2vmDXx3Lg.jpeg" data-width="720" data-height="310" src="https://cdn-images-1.medium.com/max/800/1*yQjyqeONLMC2-2vmDXx3Lg.jpeg"></figure><h3 name="f51a" id="f51a" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">列印 class</strong></h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="dace" id="dace" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> {<br />    <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;小白&quot;</span><br />}<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">Baby</span> {<br />    <span class="hljs-keyword">var</span> age <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;peter&quot;</span><br />    <span class="hljs-keyword">var</span> pet <span class="hljs-operator">=</span> <span class="hljs-type">Dog</span>()<br />}<br /><br /><span class="hljs-keyword">let</span> cuteBaby <span class="hljs-operator">=</span> <span class="hljs-type">Baby</span>()<br /><span class="hljs-built_in">print</span>(cuteBaby)</span></pre><p name="7c27" id="7c27" class="graf graf--p graf-after--pre">print 列印 class 時更慘，完全看不到它的 property，只印出 class 的型別名字。</p><figure name="fa2a" id="fa2a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*uUB_S_qy-9OS8m-BdKyxxg.jpeg" data-width="516" data-height="154" src="https://cdn-images-1.medium.com/max/800/1*uUB_S_qy-9OS8m-BdKyxxg.jpeg"></figure><p name="ade7" id="ade7" class="graf graf--p graf-after--figure">class 一樣難不倒 dump，它完美地階層展開 class 的 property。</p><figure name="9e74" id="9e74" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rizwmnB1Sw31bz8OafCOQw.jpeg" data-width="800" data-height="348" src="https://cdn-images-1.medium.com/max/800/1*rizwmnB1Sw31bz8OafCOQw.jpeg"></figure><h3 name="f91e" id="f91e" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">列印 array</strong></h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="0faa" id="0faa" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Baby</span> {<br />    <span class="hljs-keyword">var</span> age <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br />    <span class="hljs-keyword">var</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;peter&quot;</span><br />}<br /><br /><span class="hljs-keyword">var</span> array <span class="hljs-operator">=</span> [<br />    <span class="hljs-type">Baby</span>(age: <span class="hljs-number">18</span>, name: <span class="hljs-string">&quot;peter&quot;</span>),<br />    <span class="hljs-type">Baby</span>(age: <span class="hljs-number">30</span>, name: <span class="hljs-string">&quot;hook&quot;</span>)<br />]<br /><span class="hljs-built_in">print</span>(array)</span></pre><p name="96d9" id="96d9" class="graf graf--p graf-after--pre">array 的內容全都擠在一起，不太容易閱讀，而且無法一眼看出 array 的數量。</p><figure name="5e7b" id="5e7b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*EZBvls-KMJD3BvEoveY6oA.jpeg" data-width="1880" data-height="222" src="https://cdn-images-1.medium.com/max/800/1*EZBvls-KMJD3BvEoveY6oA.jpeg"></figure><p name="b987" id="b987" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">dump(array) </strong></code>清楚呈現 array 的數量(2 elements)和內容。</p><figure name="ef3b" id="ef3b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*RfhmoR8t7sUDOmUqC4RQjg.jpeg" data-width="634" data-height="458" src="https://cdn-images-1.medium.com/max/800/1*RfhmoR8t7sUDOmUqC4RQjg.jpeg"></figure><h3 name="6466" id="6466" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">列印 dictionary</strong></h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="96d4" id="96d4" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> dic: [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;peter&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">18</span>, <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">180</span>, <span class="hljs-string">&quot;star&quot;</span>: <span class="hljs-string">&quot;水瓶&quot;</span>, <span class="hljs-string">&quot;language&quot;</span>: <span class="hljs-string">&quot;Swift&quot;</span>, <span class="hljs-string">&quot;gender&quot;</span>: <span class="hljs-string">&quot;真男人&quot;</span>]<br /><span class="hljs-built_in">print</span>(dic)</span></pre><p name="654c" id="654c" class="graf graf--p graf-after--pre">dictionary 的內容全都擠在一起，不太容易閱讀。</p><figure name="4ef2" id="4ef2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8sDnDjl5ZtRI6aarNu_drw.jpeg" data-width="1658" data-height="220" src="https://cdn-images-1.medium.com/max/800/1*8sDnDjl5ZtRI6aarNu_drw.jpeg"></figure><p name="877d" id="877d" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">dump(dic)</strong></code>清楚呈現 dictionary 的內容。</p><figure name="7073" id="7073" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*eDNgW_ET7V_BqJ1rJTMSbQ.jpeg" data-width="810" data-height="1056" src="https://cdn-images-1.medium.com/max/800/1*eDNgW_ET7V_BqJ1rJTMSbQ.jpeg"></figure><h3 name="9965" id="9965" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">列印 optional</strong></h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="8763" id="8763" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">var</span> age: <span class="hljs-type">Int</span>? <span class="hljs-operator">=</span> <span class="hljs-number">18</span><br /><span class="hljs-built_in">print</span>(age)</span></pre><p name="e819" id="e819" class="graf graf--p graf-after--pre">當 print 直接列印 optional 時將印出 Optional( ) ，而且還會有令人心煩的黃色警告。</p><figure name="ede5" id="ede5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*6NprGr_f0M57oLJViV2iJQ.jpeg" data-width="356" data-height="152" src="https://cdn-images-1.medium.com/max/800/1*6NprGr_f0M57oLJViV2iJQ.jpeg"></figure><figure name="b944" id="b944" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*RuRgRNA5asbenKjfZjrAQg.jpeg" data-width="1420" data-height="186" src="https://cdn-images-1.medium.com/max/800/1*RuRgRNA5asbenKjfZjrAQg.jpeg"></figure><p name="df6a" id="df6a" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">dump(age)</strong></code>不會有黃色警告，並以階層呈現 optional 的內容。由於 Optional 是 Enum 型別，當它有值時內容儲存在 case some，因此印出時它的內容將顯示在 some: 之後。</p><figure name="cf53" id="cf53" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*svIG5H_xQKzU3QRm0k3fEQ.jpeg" data-width="372" data-height="188" src="https://cdn-images-1.medium.com/max/800/1*svIG5H_xQKzU3QRm0k3fEQ.jpeg"></figure><p name="407c" id="407c" class="graf graf--p graf-after--figure">當 optional 無值時，dump 列印的結果如下:</p><figure name="cf52" id="cf52" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TclQcm-x3nnrkt-md3qWtg.jpeg" data-width="222" data-height="138" src="https://cdn-images-1.medium.com/max/800/1*TclQcm-x3nnrkt-md3qWtg.jpeg"></figure><h3 name="2aa6" id="2aa6" class="graf graf--h3 graf-after--figure"><strong class="markup--strong markup--h3-strong">列印 JSON 解析後的 Decodable 型別</strong></h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="065e" id="065e" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SongResults</span>: <span class="hljs-title class_">Decodable</span> {<br />   <span class="hljs-keyword">let</span> resultCount: <span class="hljs-type">Int</span><br />   <span class="hljs-keyword">let</span> results: [<span class="hljs-type">Song</span>]<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Song</span>: <span class="hljs-title class_">Codable</span> {<br />   <span class="hljs-keyword">let</span> artistName: <span class="hljs-type">String</span><br />   <span class="hljs-keyword">let</span> trackName: <span class="hljs-type">String</span><br />   <span class="hljs-keyword">let</span> collectionName: <span class="hljs-type">String</span>?<br />   <span class="hljs-keyword">let</span> previewUrl: <span class="hljs-type">URL</span><br />   <span class="hljs-keyword">let</span> artworkUrl100: <span class="hljs-type">URL</span><br />   <span class="hljs-keyword">let</span> trackPrice: <span class="hljs-type">Double</span>?<br />   <span class="hljs-keyword">let</span> releaseDate: <span class="hljs-type">Date</span><br />   <span class="hljs-keyword">let</span> isStreamable: <span class="hljs-type">Bool</span>?<br />}<br /><br /><span class="hljs-keyword">let</span> urlString <span class="hljs-operator">=</span> <span class="hljs-string">&quot;https://itunes.apple.com/search?term=beatles&amp;media=music&quot;</span><br /><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: urlString) {<br />    <span class="hljs-type">URLSession</span>.shared.dataTask(with: url) { data, response, error <span class="hljs-keyword">in</span><br />        <span class="hljs-keyword">let</span> decoder <span class="hljs-operator">=</span> <span class="hljs-type">JSONDecoder</span>()<br />        decoder.dateDecodingStrategy <span class="hljs-operator">=</span> .iso8601<br />        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> data, <br />           <span class="hljs-keyword">let</span> songResults <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> decoder.decode(<span class="hljs-type">SongResults</span>.<span class="hljs-keyword">self</span>, from: data) {<br />            <span class="hljs-built_in">print</span>(songResults)<br />        }<br />    }.resume()<br />}</span></pre><p name="dd4b" id="dd4b" class="graf graf--p graf-after--pre">print 列印的結果全都擠在一起，讓人看了心好累。</p><figure name="c797" id="c797" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*EFsMDKWz2An_LUju3iQDhQ.jpeg" data-width="1926" data-height="654" src="https://cdn-images-1.medium.com/max/800/1*EFsMDKWz2An_LUju3iQDhQ.jpeg"></figure><p name="ecc0" id="ecc0" class="graf graf--p graf-after--figure"><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">dump(songResults)</strong></code>列印時將 Decodable 型別的內容美美地階層展開。</p><figure name="9e0d" id="9e0d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XgRnoTt3Jacm8rNB4nNG8A.jpeg" data-width="1924" data-height="1036" src="https://cdn-images-1.medium.com/max/800/1*XgRnoTt3Jacm8rNB4nNG8A.jpeg"></figure><p name="fc2a" id="fc2a" class="graf graf--p graf-after--figure">讀取 JSON 資料時，有時我們想先印出抓到的第一筆資料，透過 <code class="markup--code markup--p-code">dump(songResults.results.first)</code> 即可將抓到的第一首歌清楚呈現。</p><figure name="fcca" id="fcca" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*rUmltqf9TA0suCMu6zDJqg.jpeg" data-width="1912" data-height="1224" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*rUmltqf9TA0suCMu6zDJqg.jpeg"></figure><p name="9f8b" id="9f8b" class="graf graf--p graf-after--figure">相反的，當我們用 print 列印 songResults.results.first 時，不只不易閱讀，還會出現討厭的黃色警告。</p><figure name="118e" id="118e" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*dBWDOCp4VMimmzeRs-jazA.jpeg" data-width="1158" data-height="524" src="https://cdn-images-1.medium.com/max/800/1*dBWDOCp4VMimmzeRs-jazA.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/f740217104bc"><time class="dt-published" datetime="2020-04-19T08:26:49.297Z">April 19, 2020</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%88%A9%E7%94%A8-dump-%E7%BE%8E%E7%BE%8E%E5%9C%B0%E9%9A%8E%E5%B1%A4%E5%88%97%E5%8D%B0%E6%9D%B1%E8%A5%BF-f740217104bc" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>