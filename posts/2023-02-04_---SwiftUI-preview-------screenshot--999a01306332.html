<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>產生 SwiftUI preview 的螢幕截圖(screenshot)</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">產生 SwiftUI preview 的螢幕截圖(screenshot)</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 SwiftUI App 時，因為有方便的 preview，我們大部分的時間都在 preview 操作 App。既然平常都在 preview 操作，是否能將 preview 畫面螢幕截圖呢 ? 這樣就不用為了截圖麻煩地啟動模擬器。
</section>
<section data-field="body" class="e-content">
<section name="7277" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="c4d7" id="c4d7" class="graf graf--h3 graf--leading graf--title">產生 SwiftUI preview 的螢幕截圖(screenshot)</h3><p name="622f" id="622f" class="graf graf--p graf-after--h3">Xcode 從 15.3 開始內建 preview 截圖的功能。</p><div name="f040" id="f040" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BE%9E-xcode-%E8%BC%B8%E5%87%BA%E5%92%8C%E8%A4%87%E8%A3%BD-preview-screenshot-xcode-15-3-%E6%96%B0%E5%8A%9F%E8%83%BD-d6b0bd6bc3cb" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BE%9E-xcode-%E8%BC%B8%E5%87%BA%E5%92%8C%E8%A4%87%E8%A3%BD-preview-screenshot-xcode-15-3-%E6%96%B0%E5%8A%9F%E8%83%BD-d6b0bd6bc3cb" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BE%9E-xcode-%E8%BC%B8%E5%87%BA%E5%92%8C%E8%A4%87%E8%A3%BD-preview-screenshot-xcode-15-3-%E6%96%B0%E5%8A%9F%E8%83%BD-d6b0bd6bc3cb"><strong class="markup--strong markup--mixtapeEmbed-strong">從 Xcode 輸出和複製 preview screenshot — Xcode 15.3 新功能</strong><br><em class="markup--em markup--mixtapeEmbed-em">最近 Xcode 15.3 推出了彼得潘夢寐以求的新功能 ! 現在我們可以從 Xcode 輸出和複製 preview screenshot，彼得潘在製作教材時終於可以方便地一邊修改程式，一邊生成螢幕截圖。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BE%9E-xcode-%E8%BC%B8%E5%87%BA%E5%92%8C%E8%A4%87%E8%A3%BD-preview-screenshot-xcode-15-3-%E6%96%B0%E5%8A%9F%E8%83%BD-d6b0bd6bc3cb" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="670e1724e77ab8ffc614b1395773c002" data-thumbnail-img-id="1*m3c9u_FqC0QXh_LEQxeYZw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*m3c9u_FqC0QXh_LEQxeYZw.png);"></a></div><p name="4baf" id="4baf" class="graf graf--p graf-after--mixtapeEmbed">以下介紹舊版 Xcode 實現 preview 截圖的方法。</p><p name="f659" id="f659" class="graf graf--p graf-after--p">開發 SwiftUI App 時，因為有方便的 preview，我們大部分的時間都在 preview 操作 App。既然平常都在 preview 操作，是否能將 preview 畫面螢幕截圖呢 ? 這樣就不用為了截圖麻煩地啟動模擬器。</p><p name="2ea0" id="2ea0" class="graf graf--p graf-after--p">很遺憾的，目前只有模擬器有截圖功能，因此之前彼得潘想截取 preview 的畫面只能另外使用 Mac 的螢幕截圖功能。</p><p name="e0e0" id="e0e0" class="graf graf--p graf-after--p">為了節省時間，彼得潘研究了一下，發現 preview 和模擬器都可以自由存取 Mac 路徑，因此我們可以將 App 產生的檔案存到 Mac。</p><p name="1e5a" id="1e5a" class="graf graf--p graf-after--p">以下彼得潘寫了一個產生 preview screenshot 的 modifier。之後只要在 SwiftUI preview 的畫面呼叫 previewScreenshot，即可在 preview 點擊三下產生存在 Mac 桌面的 screenshot。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="1324" id="1324" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PreviewScreenshotModifier</span>: <span class="hljs-title class_">ViewModifier</span> {<br />    <span class="hljs-keyword">let</span> screenshotDirectoryURL <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(filePath: <span class="hljs-string">&quot;/Users/peterpan/Desktop/preview/&quot;</span>)<br />    <span class="hljs-keyword">let</span> tapCount <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br /><br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">body</span>(<span class="hljs-params">content</span>: <span class="hljs-type">Content</span>) -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        content<br />            .onTapGesture(count: tapCount, perform: {<br />                <span class="hljs-keyword">let</span> scene <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.connectedScenes.first <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span><br />                <span class="hljs-keyword">let</span> window <span class="hljs-operator">=</span> scene<span class="hljs-operator">?</span>.keyWindow <span class="hljs-operator">??</span> <span class="hljs-type">UIWindow</span>(frame: .zero)<br />                <span class="hljs-keyword">let</span> renderer <span class="hljs-operator">=</span> <span class="hljs-type">UIGraphicsImageRenderer</span>(size: window.bounds.size)<br />                <span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> renderer.image { context <span class="hljs-keyword">in</span><br />                    window.drawHierarchy(in: window.bounds, afterScreenUpdates: <span class="hljs-literal">true</span>)<br />                }<br />                <span class="hljs-keyword">let</span> pngData <span class="hljs-operator">=</span> image.pngData()<br />                <span class="hljs-keyword">let</span> screenshotURL <span class="hljs-operator">=</span> screenshotDirectoryURL.appending(path: <span class="hljs-string">&quot;<span class="hljs-subst">\(UUID())</span>&quot;</span>).appendingPathExtension(for: .png)<br />                <span class="hljs-keyword">try?</span> image.pngData()<span class="hljs-operator">?</span>.write(to: screenshotURL)<br />             })<br />    }<br />}<br /><br /><span class="hljs-keyword">extension</span> <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">func</span> <span class="hljs-title function_">previewScreenshot</span>() -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        modifier(<span class="hljs-type">PreviewScreenshotModifier</span>())<br />    }<br />}</span></pre><p name="f3f7" id="f3f7" class="graf graf--p graf-after--pre">程式說明</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="bff7" id="bff7" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PreviewScreenshotModifier</span>: <span class="hljs-title class_">ViewModifier</span> {</span></pre><p name="96b3" id="96b3" class="graf graf--p graf-after--pre">定義產生 preview screenshot 的 modifier，自訂 ViewModifier 的說明可參考以下連結。</p><div name="f6f1" id="f6f1" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B0%A1%E5%8C%96%E5%A4%A7%E9%87%8F-modifier-%E7%A8%8B%E5%BC%8F%E7%9A%84-swiftui-viewmodifier-30c70d057a2c" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B0%A1%E5%8C%96%E5%A4%A7%E9%87%8F-modifier-%E7%A8%8B%E5%BC%8F%E7%9A%84-swiftui-viewmodifier-30c70d057a2c" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B0%A1%E5%8C%96%E5%A4%A7%E9%87%8F-modifier-%E7%A8%8B%E5%BC%8F%E7%9A%84-swiftui-viewmodifier-30c70d057a2c"><strong class="markup--strong markup--mixtapeEmbed-strong">簡化大量 modifier 程式的兩個方法，自訂組合 modifier 的 function 和透過 ViewModifier 實作 custom modifier</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 SwiftUI App 時，我們時常透過大量的 modifier 客製元件，將畫面變成賞心悅目的樣子。不過 App 裡很多元件的都是類似的設計，比方以下 SongList &amp; LyricsView 裡的文字都是白色粗體加陰影，透過…</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E7%B0%A1%E5%8C%96%E5%A4%A7%E9%87%8F-modifier-%E7%A8%8B%E5%BC%8F%E7%9A%84-swiftui-viewmodifier-30c70d057a2c" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b743dc17273fd827abf562d371203d60" data-thumbnail-img-id="1*2IWh7pkwHdNeywuIxv4p3Q.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*2IWh7pkwHdNeywuIxv4p3Q.jpeg);"></a></div><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="7d0a" id="7d0a" class="graf graf--pre graf-after--mixtapeEmbed graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> screenshotDirectoryURL <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(filePath: <span class="hljs-string">&quot;/Users/peterpan/Desktop/preview/&quot;</span>)</span></pre><p name="7caa" id="7caa" class="graf graf--p graf-after--pre">screenshotDirectoryURL 設定 preview 截圖儲存的位置，彼得潘事先在 Mac 桌面建立 preview 資料夾，因此這裡設定 <code class="markup--code markup--p-code">/Users/peterpan/Desktop/preview/</code>，之後產生的截圖將存到 preview 資料夾。</p><p name="4bce" id="4bce" class="graf graf--p graf-after--p">值得注意的，如果 screenshotDirectoryURL 設定的資料夾不存在，圖片將無法儲存。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="f13c" id="f13c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">.onTapGesture(count: tapCount, perform: {</span></pre><p name="c1fa" id="c1fa" class="graf graf--p graf-after--pre">tapCount 設為 3，因此點三下將觸發 perform 的程式產生 preview 的截圖。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="9f00" id="9f00" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> scene <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.connectedScenes.first <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span><br /><span class="hljs-keyword">let</span> window <span class="hljs-operator">=</span> scene<span class="hljs-operator">?</span>.keyWindow <span class="hljs-operator">??</span> <span class="hljs-type">UIWindow</span>(frame: .zero)<br /><span class="hljs-keyword">let</span> renderer <span class="hljs-operator">=</span> <span class="hljs-type">UIGraphicsImageRenderer</span>(size: window.bounds.size)<br /><span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> renderer.image { context <span class="hljs-keyword">in</span><br />    window.drawHierarchy(in: window.bounds, afterScreenUpdates: <span class="hljs-literal">true</span>)<br />}</span></pre><p name="359c" id="359c" class="graf graf--p graf-after--pre">使用 UIGraphicsImageRenderer 產生截圖。iOS 16 可用 ImageRenderer 產生截圖，不過彼得潘沒有試出使用它產生 preview 截圖的方法，因此改用 UIGraphicsImageRenderer。</p><div name="a27c" id="a27c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uigraphicsimagerenderer-%E5%B0%87-view-%E8%AE%8A%E6%88%90%E5%9C%96%E7%89%87-41d00c568903" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uigraphicsimagerenderer-%E5%B0%87-view-%E8%AE%8A%E6%88%90%E5%9C%96%E7%89%87-41d00c568903" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uigraphicsimagerenderer-%E5%B0%87-view-%E8%AE%8A%E6%88%90%E5%9C%96%E7%89%87-41d00c568903"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 UIGraphicsImageRenderer 將 view 變成圖片(包含只擷取 view 的部分區塊）</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，有時我們想要截取畫面裡的某個區塊，將它變成圖片儲存或分享。這樣的功能要如何實現呢 ？</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-uigraphicsimagerenderer-%E5%B0%87-view-%E8%AE%8A%E6%88%90%E5%9C%96%E7%89%87-41d00c568903" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="4f7f504261acebb5c335704d9930cbae" data-thumbnail-img-id="1*0dZWtWapGOTlZg7xXSb1wA.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*0dZWtWapGOTlZg7xXSb1wA.jpeg);"></a></div><p name="6c68" id="6c68" class="graf graf--p graf-after--mixtapeEmbed">接著我們建立一個全新專案，試試點三下產生 preview screenshot 的神奇功能吧。</p><h3 name="8a8e" id="8a8e" class="graf graf--h3 graf-after--p">設計顯示書本資訊的 BookRow</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="016a" id="016a" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BookRow</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> book: <span class="hljs-type">String</span><br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">HStack</span> {<br />            <span class="hljs-type">Image</span>(book)<br />                .resizable()<br />                .scaledToFit()<br />                .frame(width: <span class="hljs-number">100</span>)<br />            <span class="hljs-type">Text</span>(book)<br />        }<br />    }<br />}</span></pre><h3 name="2eeb" id="2eeb" class="graf graf--h3 graf-after--pre">設計顯示書本清單的 BookList</h3><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="swift" name="149a" id="149a" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BookList</span>: <span class="hljs-title class_">View</span> {<br />    <span class="hljs-keyword">let</span> books <span class="hljs-operator">=</span> [<br />        <span class="hljs-string">&quot;Asynchronous Programming with SwiftUI and Combine&quot;</span>,<br />        <span class="hljs-string">&quot;SwiftUI Animations by Tutorials&quot;</span>,<br />        <span class="hljs-string">&quot;Starting Chess&quot;</span><br />    ]<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">NavigationStack</span> {<br />            <span class="hljs-type">List</span>(books, id: \.<span class="hljs-keyword">self</span>) { book <span class="hljs-keyword">in</span><br />                <span class="hljs-type">BookRow</span>(book: book)<br />            }<br />            .navigationTitle(<span class="hljs-string">&quot;希望今年看完的書&quot;</span>)<br />        }<br />    }<br />}<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BookList_Previews</span>: <span class="hljs-title class_">PreviewProvider</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">BookList</span>()<br />    }<br />}</span></pre><figure name="89c2" id="89c2" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*YACMY6_kD2RKc-utB56mfQ.png" data-width="638" data-height="1098" src="https://cdn-images-1.medium.com/max/800/1*YACMY6_kD2RKc-utB56mfQ.png"></figure><h3 name="17a7" id="17a7" class="graf graf--h3 graf-after--figure">在 Preview Content 下新增 PreviewScreenshotModifier.swift</h3><p name="9e4f" id="9e4f" class="graf graf--p graf-after--h3">previewScreenshot 只會在 preview 用到，因此我們將它加在 Preview Content 下，讓 PreviewScreenshotModifier.swift 不會出現在上架的 App。</p><figure name="d226" id="d226" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*siQQAGfhKEY8LfIQMvVX_Q.png" data-width="2356" data-height="1234" src="https://cdn-images-1.medium.com/max/800/1*siQQAGfhKEY8LfIQMvVX_Q.png"></figure><div name="c793" id="c793" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E5%AD%98%E6%94%BE%E6%B8%AC%E8%A9%A6%E6%AA%94%E6%A1%88%E7%9A%84-xcode-development-assets-5f0f7647423b" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E5%AD%98%E6%94%BE%E6%B8%AC%E8%A9%A6%E6%AA%94%E6%A1%88%E7%9A%84-xcode-development-assets-5f0f7647423b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E5%AD%98%E6%94%BE%E6%B8%AC%E8%A9%A6%E6%AA%94%E6%A1%88%E7%9A%84-xcode-development-assets-5f0f7647423b"><strong class="markup--strong markup--mixtapeEmbed-strong">方便存放測試檔案的 Xcode development assets</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 iOS App 時，我們時常會在專案裡準備一些方便測試的圖片或 JSON 檔，這樣當後台還不能串接或是彼得潘回 Neverland 過年沒有網路時，依然可以測試 App。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E6%96%B9%E4%BE%BF%E5%AD%98%E6%94%BE%E6%B8%AC%E8%A9%A6%E6%AA%94%E6%A1%88%E7%9A%84-xcode-development-assets-5f0f7647423b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a2325e83a03a3d6934dc395a5d445a43" data-thumbnail-img-id="1*141f5MtCi6ifx780I674dA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*141f5MtCi6ifx780I674dA.png);"></a></div><h3 name="f9eb" id="f9eb" class="graf graf--h3 graf-after--mixtapeEmbed">在 BookList_Previews 呼叫 previewScreenshot</h3><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="2669" id="2669" class="graf graf--pre graf-after--h3 graf--preV2"><span class="pre--content"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BookList_Previews</span>: <span class="hljs-title class_">PreviewProvider</span> {<br />    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">BookList</span>()<br />            .previewScreenshot()<br />    }<br />}</span></pre><h3 name="6d7c" id="6d7c" class="graf graf--h3 graf-after--pre">點三下 preview</h3><p name="8365" id="8365" class="graf graf--p graf-after--h3">Cool，Mac 桌面的 preview 資料夾出現了 SwiftUI preview 的截圖。</p><figure name="e961" id="e961" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZBvO4BZkI_9mxEHdzg2o7w.png" data-width="1358" data-height="378" src="https://cdn-images-1.medium.com/max/800/1*ZBvO4BZkI_9mxEHdzg2o7w.png"></figure><figure name="3056" id="3056" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*r1l_hHG10bEWn1LTgkcgLQ.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*r1l_hHG10bEWn1LTgkcgLQ.png"></figure><h3 name="1d0a" id="1d0a" class="graf graf--h3 graf-after--figure">將 modifier previewScreenshot 加到 Modifiers library</h3><p name="5178" id="5178" class="graf graf--p graf-after--h3">如果想讓 modifier previewScreenshot 出現在 Modifiers library，我們也可以加入以下程式，定義遵從 LibraryContentProvider 的型別。</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="scss" name="0fa5" id="0fa5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">struct Previews_PreviewScreenshotModifier_LibraryContent: LibraryContentProvider {<br />    <br />    func <span class="hljs-built_in">modifiers</span>(base: any View) -&gt; <span class="hljs-selector-attr">[LibraryItem]</span> {<br />        <span class="hljs-built_in">LibraryItem</span>(base.previewScreenshot())<br />    }<br />}</span></pre><figure name="ee52" id="ee52" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*l3XXoPG1W0RVyQTJnIAYzQ.png" data-width="1722" data-height="908" src="https://cdn-images-1.medium.com/max/800/1*l3XXoPG1W0RVyQTJnIAYzQ.png"></figure><div name="dec5" id="dec5" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E8%87%AA%E8%A8%82%E7%9A%84-swiftui-view-%E5%8A%A0%E5%88%B0-view-library-%E7%9A%84-librarycontentprovider-3b9393247334" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E8%87%AA%E8%A8%82%E7%9A%84-swiftui-view-%E5%8A%A0%E5%88%B0-view-library-%E7%9A%84-librarycontentprovider-3b9393247334" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E8%87%AA%E8%A8%82%E7%9A%84-swiftui-view-%E5%8A%A0%E5%88%B0-view-library-%E7%9A%84-librarycontentprovider-3b9393247334"><strong class="markup--strong markup--mixtapeEmbed-strong">將自訂的 SwiftUI view &amp; modifier 加到 Views library &amp; Modifier library</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 SwiftUI App 時，我們可以打開 Library window，從它的 Views library 頁面拖曳加入元件，省下手打程式的辛苦。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%B0%87%E8%87%AA%E8%A8%82%E7%9A%84-swiftui-view-%E5%8A%A0%E5%88%B0-view-library-%E7%9A%84-librarycontentprovider-3b9393247334" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="88538d4a170bc541b14347c607ceb481" data-thumbnail-img-id="1*6Kn0iScu-uNWWeSDcx7wFQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*6Kn0iScu-uNWWeSDcx7wFQ.png);"></a></div><h3 name="9240" id="9240" class="graf graf--h3 graf-after--mixtapeEmbed">GitHub 專案</h3><div name="f762" id="f762" class="graf graf--mixtapeEmbed graf-after--h3 graf--trailing"><a href="https://github.com/AppPeterPan/PreviewScreenshot" data-href="https://github.com/AppPeterPan/PreviewScreenshot" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/AppPeterPan/PreviewScreenshot"><strong class="markup--strong markup--mixtapeEmbed-strong">GitHub - AppPeterPan/PreviewScreenshot</strong><br><em class="markup--em markup--mixtapeEmbed-em">You can&#39;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or…</em>github.com</a><a href="https://github.com/AppPeterPan/PreviewScreenshot" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e2c091c3273de547f4c6404c70b16a51" data-thumbnail-img-id="0*8h7DEzlW281ylyAC" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*8h7DEzlW281ylyAC);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/999a01306332"><time class="dt-published" datetime="2023-02-04T11:47:12.731Z">February 4, 2023</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E7%94%A2%E7%94%9F-swiftui-preview-%E7%9A%84%E8%9E%A2%E5%B9%95%E6%88%AA%E5%9C%96-screenshot-999a01306332" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>