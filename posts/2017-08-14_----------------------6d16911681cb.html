<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>將特別的字串定義成常數，避免打錯字成千古恨</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">將特別的字串定義成常數，避免打錯字成千古恨</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 Swift iOS App 時，總有某些東西是我們無法避免，必須以字串輸入的，比方 segue ID，cell ID，storyboard ID 等。然而只要你一不小心打錯，將產生非常可怕的後果，輕則功能失效，重則讓 App 閃退，地球毀滅 ！
</section>
<section data-field="body" class="e-content">
<section name="7ade" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="36ea" id="36ea" class="graf graf--h3 graf--leading graf--title">將特別的字串定義成常數，避免打錯字成千古恨</h3><p name="5299" id="5299" class="graf graf--p graf-after--h3">開發 Swift iOS App 時，總有某些東西是我們無法避免，必須以字串輸入的，比方 segue ID，cell ID，storyboard ID 等。然而只要你一不小心打錯，將產生非常可怕的後果，輕則功能失效，重則讓 App 閃退，地球毀滅 ！</p><p name="58f8" id="58f8" class="graf graf--p graf-after--p">因此，不妨參考 Apple 官方範例的做法，將這些字串定義成常數，到時輸入時 Xcode 將幫我們自動完成，一輩子都不會打錯。</p><p name="466e" id="466e" class="graf graf--p graf-after--p">讓我們看看以下幾個例子:</p><p name="bd45" id="bd45" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">1 segue ID 和 cell ID</strong></p><p name="b98a" id="b98a" class="graf graf--p graf-after--p">參考 App Development with Swift 的 4.3 Model View Controller</p><div name="c837" id="c837" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" data-href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11"><strong class="markup--strong markup--mixtapeEmbed-strong">App Development with Swift by Apple Education on iBooks</strong><br><em class="markup--em markup--mixtapeEmbed-em">Read a free sample or buy App Development with Swift by Apple Education. You can read this book with iBooks on your…</em>itunes.apple.com</a><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7657203ffb30b7a4c37ce544f41bec87" data-thumbnail-img-id="0*V7PAviquALyGAOIf." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*V7PAviquALyGAOIf.);"></a></div><p name="196f" id="196f" class="graf graf--p graf-after--mixtapeEmbed">在 controller 裡以 struct 定義型別 PropertyKeys，以 static 宣告常數儲存 segue ID 和 cell ID。</p><pre name="bd99" id="bd99" class="graf graf--pre graf-after--p">class AthleteTableViewController: UITableViewController {</pre><pre name="ef64" id="ef64" class="graf graf--pre graf-after--pre">    struct PropertyKeys {</pre><pre name="9148" id="9148" class="graf graf--pre graf-after--pre">        static let athleteCell = &quot;AthleteCell&quot;</pre><pre name="fc18" id="fc18" class="graf graf--pre graf-after--pre">        static let addAthleteSegue = &quot;AddAthlete&quot;</pre><pre name="17a0" id="17a0" class="graf graf--pre graf-after--pre">        static let editAthleteSegue = &quot;EditAthlete&quot;</pre><pre name="7e96" id="7e96" class="graf graf--pre graf-after--pre">    }</pre><p name="d58d" id="d58d" class="graf graf--p graf-after--pre">參考</p><div name="49ca" id="49ca" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" data-href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html"><strong class="markup--strong markup--mixtapeEmbed-strong">CloudKit Share: Building CloudKit local cache and using CloudKit share APIs</strong><br><em class="markup--em markup--mixtapeEmbed-em">This sample demonstrates how to use CloudKit share APIs to share private data across different iCloud accounts. It also…</em>developer.apple.com</a><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="7f0dadb3ab3f92f550182c9d8eb80ce5"></a></div><p name="cf59" id="cf59" class="graf graf--p graf-after--mixtapeEmbed">以 struct 定義型別 SegueID 儲存 segue ID。</p><pre name="6643" id="6643" class="graf graf--pre graf-after--p">struct SegueID {</pre><pre name="3e09" id="3e09" class="graf graf--pre graf-after--pre">    static let topicPicker = &quot;TopicPickerController&quot;</pre><pre name="446c" id="446c" class="graf graf--pre graf-after--pre">    static let mainShowDetail = &quot;ShowDetail&quot;</pre><pre name="cf68" id="cf68" class="graf graf--pre graf-after--pre">    static let mainAddNew = &quot;AddNew&quot;</pre><pre name="7594" id="7594" class="graf graf--pre graf-after--pre">}</pre><p name="b52a" id="b52a" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">2 storyboard ID</strong></p><p name="381b" id="381b" class="graf graf--p graf-after--p">參考</p><div name="ead4" id="ead4" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" data-href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html"><strong class="markup--strong markup--mixtapeEmbed-strong">CloudKit Share: Building CloudKit local cache and using CloudKit share APIs</strong><br><em class="markup--em markup--mixtapeEmbed-em">This sample demonstrates how to use CloudKit share APIs to share private data across different iCloud accounts. It also…</em>developer.apple.com</a><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="7f0dadb3ab3f92f550182c9d8eb80ce5"></a></div><p name="4ce0" id="4ce0" class="graf graf--p graf-after--mixtapeEmbed">以 struct 定義型別 StoryboardID 儲存 storyboard ID。</p><pre name="94a6" id="94a6" class="graf graf--pre graf-after--p">struct StoryboardID {</pre><pre name="2db8" id="2db8" class="graf graf--pre graf-after--pre">    static let main = &quot;Main&quot;</pre><pre name="ab08" id="ab08" class="graf graf--pre graf-after--pre">    static let mainNC = &quot;MainNC&quot;</pre><pre name="8aee" id="8aee" class="graf graf--pre graf-after--pre">    static let zoneNC = &quot;ZoneNC&quot;</pre><pre name="1a98" id="1a98" class="graf graf--pre graf-after--pre">    static let note = &quot;Note&quot;</pre><pre name="aa39" id="aa39" class="graf graf--pre graf-after--pre">    static let noteNC = &quot;NoteNC&quot;</pre><pre name="6578" id="6578" class="graf graf--pre graf-after--pre">}</pre><p name="5519" id="5519" class="graf graf--p graf-after--pre">參考</p><div name="3986" id="3986" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/library/content/samplecode/IceCreamBuilder/Introduction/Intro.html" data-href="https://developer.apple.com/library/content/samplecode/IceCreamBuilder/Introduction/Intro.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/library/content/samplecode/IceCreamBuilder/Introduction/Intro.html"><strong class="markup--strong markup--mixtapeEmbed-strong">Ice Cream Builder: A simple Messages app extension</strong><br><em class="markup--em markup--mixtapeEmbed-em">This sample is a simple example of building an app extension that interacts with the Messages app and lets users send…</em>developer.apple.com</a><a href="https://developer.apple.com/library/content/samplecode/IceCreamBuilder/Introduction/Intro.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="29b4ad95fb83557624d9fb502fa640fb"></a></div><p name="dca3" id="dca3" class="graf graf--p graf-after--mixtapeEmbed">在 controller 裡宣告常數 storyboardIdentifier 儲存它的 storyboard ID。</p><pre name="a2ee" id="a2ee" class="graf graf--pre graf-after--p">class BuildIceCreamViewController: UIViewController {</pre><pre name="4ad3" id="4ad3" class="graf graf--pre graf-after--pre">    static let storyboardIdentifier = &quot;BuildIceCreamViewController&quot;</pre><p name="5357" id="5357" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">3 notification name。</strong></p><p name="5280" id="5280" class="graf graf--p graf-after--p">參考 Apple 官方的 notifcation name 生成方式。</p><p name="d989" id="d989" class="graf graf--p graf-after--p">定義 Notification.Name 的 extension，在裡面宣告常數儲存自訂的通知名稱。</p><pre name="4ac5" id="4ac5" class="graf graf--pre graf-after--p">extension Notification.Name {</pre><pre name="b873" id="b873" class="graf graf--pre graf-after--pre">    static let zoneCacheDidChange =     <br>           Notification.Name(&quot;zoneCacheDidChange&quot;)</pre><pre name="36b5" id="36b5" class="graf graf--pre graf-after--pre">    static let topicCacheDidChange =   <br>           Notification.Name(&quot;topicCacheDidChange&quot;)</pre><pre name="c93f" id="c93f" class="graf graf--pre graf-after--pre">}</pre><p name="0e66" id="0e66" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">4 dictionary 的 key。</strong></p><p name="a0f5" id="a0f5" class="graf graf--p graf-after--p">參考</p><div name="f2c9" id="f2c9" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" data-href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html"><strong class="markup--strong markup--mixtapeEmbed-strong">CloudKit Share: Building CloudKit local cache and using CloudKit share APIs</strong><br><em class="markup--em markup--mixtapeEmbed-em">This sample demonstrates how to use CloudKit share APIs to share private data across different iCloud accounts. It also…</em>developer.apple.com</a><a href="https://developer.apple.com/library/content/samplecode/CloudKitShare/Introduction/Intro.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="7f0dadb3ab3f92f550182c9d8eb80ce5"></a></div><p name="a685" id="a685" class="graf graf--p graf-after--mixtapeEmbed">以 struct 定義型別 NotificationObjectKey，儲存 Notification 的 userInfo 裡自訂的 key。</p><pre name="77fc" id="77fc" class="graf graf--pre graf-after--p">struct NotificationObjectKey {</pre><pre name="8e4f" id="8e4f" class="graf graf--pre graf-after--pre">    static let reason = &quot;reason&quot;</pre><pre name="4841" id="4841" class="graf graf--pre graf-after--pre">    static let recordIDsDeleted = &quot;recordIDsDeleted&quot;</pre><pre name="22c4" id="22c4" class="graf graf--pre graf-after--pre">    static let recordsChanged = &quot;recordsChanged&quot;</pre><pre name="0ff7" id="0ff7" class="graf graf--pre graf-after--pre">    static let newNote = &quot;newNote&quot;</pre><pre name="a580" id="a580" class="graf graf--pre graf-after--pre">}</pre><p name="41ec" id="41ec" class="graf graf--p graf-after--pre">參考 App Development with Swift 的 4.7 Saving Data。</p><div name="36df" id="36df" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" data-href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11"><strong class="markup--strong markup--mixtapeEmbed-strong">App Development with Swift by Apple Education on iBooks</strong><br><em class="markup--em markup--mixtapeEmbed-em">Read a free sample or buy App Development with Swift by Apple Education. You can read this book with iBooks on your…</em>itunes.apple.com</a><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7657203ffb30b7a4c37ce544f41bec87" data-thumbnail-img-id="0*V7PAviquALyGAOIf." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*V7PAviquALyGAOIf.);"></a></div><p name="89af" id="89af" class="graf graf--p graf-after--mixtapeEmbed">在 Note 裡以 struct 定義型別 PropertyKey，將想要寫檔的欄位字串定義成常數。</p><pre name="b0a3" id="b0a3" class="graf graf--pre graf-after--p">class Note: NSObject, NSCoding {</pre><pre name="0358" id="0358" class="graf graf--pre graf-after--pre">    let title: String</pre><pre name="9285" id="9285" class="graf graf--pre graf-after--pre">    let text: String</pre><pre name="8664" id="8664" class="graf graf--pre graf-after--pre">    let timestamp: Date</pre><pre name="1f6b" id="1f6b" class="graf graf--pre graf-after--pre">  <br>    struct PropertyKey {</pre><pre name="e532" id="e532" class="graf graf--pre graf-after--pre">        static let title = &quot;title&quot;</pre><pre name="bdbe" id="bdbe" class="graf graf--pre graf-after--pre">        static let text = &quot;text&quot;</pre><pre name="82f7" id="82f7" class="graf graf--pre graf-after--pre graf--trailing">        static let timestamp = &quot;timestamp&quot;</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/6d16911681cb"><time class="dt-published" datetime="2017-08-14T15:33:48.508Z">August 14, 2017</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%B0%87%E7%89%B9%E5%88%A5%E7%9A%84%E5%AD%97%E4%B8%B2%E5%AE%9A%E7%BE%A9%E6%88%90%E5%B8%B8%E6%95%B8-%E9%81%BF%E5%85%8D%E6%89%93%E9%8C%AF%E5%AD%97%E6%88%90%E5%8D%83%E5%8F%A4%E6%81%A8-6d16911681cb" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>