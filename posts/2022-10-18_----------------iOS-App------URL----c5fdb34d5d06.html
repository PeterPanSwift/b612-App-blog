<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>將音樂，影片，文字檔等素材加到 iOS App，然後透過 URL 讀取</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">將音樂，影片，文字檔等素材加到 iOS App，然後透過 URL 讀取</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們時常需要將音樂，影片，文字檔等素材加到專案，然後再透過檔案的 URL 讀取內容。接下來讓我們以加入 Hebe 小幸運的 mp3 為例說明。
</section>
<section data-field="body" class="e-content">
<section name="0467" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="cef8" id="cef8" class="graf graf--h3 graf--leading graf--title">將音樂，影片，文字檔等素材加到 iOS App，然後透過 URL 讀取</h3><p name="e41a" id="e41a" class="graf graf--p graf-after--h3">開發 iOS App 時，我們時常需要將音樂，影片，文字檔等素材加到專案，然後再透過檔案的 URL 讀取內容。接下來讓我們加入 Hebe 小幸運的 mp3 說明。</p><h3 name="261a" id="261a" class="graf graf--h3 graf-after--p">將小幸運.mp3 加到 project navigator</h3><ul class="postList"><li name="0b03" id="0b03" class="graf graf--li graf-after--h3">方法 1: 按下 cmd + c 和 cmd + v 將檔案複製貼上加到 project navigator。</li></ul><p name="a0ec" id="a0ec" class="graf graf--p graf-after--li">先按 cmd + c 複製檔案，然後點選 Project navigator 按 cmd + v 貼上檔案。</p><figure name="81ec" id="81ec" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gC3nJQXWw-fISWmn-GMTBg.png" data-width="2268" data-height="1622" src="https://cdn-images-1.medium.com/max/800/1*gC3nJQXWw-fISWmn-GMTBg.png"></figure><ul class="postList"><li name="4ce4" id="4ce4" class="graf graf--li graf-after--figure">方法 2: 將檔案拖曳到 project navigator。</li></ul><figure name="88fb" id="88fb" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*Asydn6pBFtFQt5tOkouNyA.png" data-width="596" data-height="370" src="https://cdn-images-1.medium.com/max/800/1*Asydn6pBFtFQt5tOkouNyA.png"></figure><p name="902c" id="902c" class="graf graf--p graf-after--figure">選擇 Copy files &amp; 勾選 Targets，Copy files to destination 會將檔案複製一份，存到專案的資料夾下。勾選 Targets Demo 表示生成的 App Demo 會將檔案加入，若是忘了勾選，生成的 App 將不會包含此檔案，程式將讀取不到檔案。</p><figure name="60ba" id="60ba" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tjJ1ht7NhmoQbcZie_SKXw.png" data-width="1320" data-height="996" src="https://cdn-images-1.medium.com/max/800/1*tjJ1ht7NhmoQbcZie_SKXw.png"></figure><figure name="39ca" id="39ca" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*gC3nJQXWw-fISWmn-GMTBg.png" data-width="2268" data-height="1622" src="https://cdn-images-1.medium.com/max/800/1*gC3nJQXWw-fISWmn-GMTBg.png"></figure><p name="2cd7" id="2cd7" class="graf graf--p graf-after--figure">ps: 若是忘了勾選 Targets，會發生很可怕的事。之後從程式讀取檔案的 URL 時將得到 nil，出現以下錯誤。</p><figure name="60a7" id="60a7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9ZmQGhTc8NMKfcVCQHWZ3w.png" data-width="1782" data-height="164" src="https://cdn-images-1.medium.com/max/800/1*9ZmQGhTc8NMKfcVCQHWZ3w.png"></figure><p name="8c5f" id="8c5f" class="graf graf--p graf-after--figure">別擔心，可參考以下方法補救。</p><div name="048c" id="048c" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BF%98%E4%BA%86%E5%B0%87%E6%AA%94%E6%A1%88%E5%8A%A0%E5%85%A5-target-a3b148c0afdc" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BF%98%E4%BA%86%E5%B0%87%E6%AA%94%E6%A1%88%E5%8A%A0%E5%85%A5-target-a3b148c0afdc" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BF%98%E4%BA%86%E5%B0%87%E6%AA%94%E6%A1%88%E5%8A%A0%E5%85%A5-target-a3b148c0afdc"><strong class="markup--strong markup--mixtapeEmbed-strong">忘了將檔案加入 target</strong><br><em class="markup--em markup--mixtapeEmbed-em">開發 App 時，App 使用到的檔案必須加入代表 App 的 target，如此 App 才能讀取到。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%BF%98%E4%BA%86%E5%B0%87%E6%AA%94%E6%A1%88%E5%8A%A0%E5%85%A5-target-a3b148c0afdc" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="9820fadf4acf90cd737ac1d655e5a955" data-thumbnail-img-id="1*8Vk7NCW_Guq_5oUQ15zMSA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*8Vk7NCW_Guq_5oUQ15zMSA.png);"></a></div><h3 name="3f21" id="3f21" class="graf graf--h3 graf-after--mixtapeEmbed">取得檔案的 URL</h3><p name="9bf9" id="9bf9" class="graf graf--p graf-after--h3">我們開發生成的 App 其實是一個資料夾，資料夾下將包含 App 的執行檔和 project navigator 下的素材檔。如下圖所示，小幸運.mp3 出現在 App 的資料夾裡。</p><figure name="fae6" id="fae6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*e96JOhqhLxwgVzV0KIJrqA.png" data-width="1840" data-height="872" src="https://cdn-images-1.medium.com/max/800/1*e96JOhqhLxwgVzV0KIJrqA.png"></figure><p name="dc5f" id="dc5f" class="graf graf--p graf-after--figure">查看 App 資料夾的相關說明可參考以下連結。</p><div name="2596" id="2596" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-show-build-folder-in-finder-%E6%9F%A5%E8%A9%A2-ios-app-%E7%9A%84%E5%85%A7%E5%AE%B9-fc5e0d34557" data-href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-show-build-folder-in-finder-%E6%9F%A5%E8%A9%A2-ios-app-%E7%9A%84%E5%85%A7%E5%AE%B9-fc5e0d34557" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-show-build-folder-in-finder-%E6%9F%A5%E8%A9%A2-ios-app-%E7%9A%84%E5%85%A7%E5%AE%B9-fc5e0d34557"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 Show Build Folder in Finder 查詢 iOS App 的內容</strong><br><em class="markup--em markup--mixtapeEmbed-em">當我們使用 Xcode 開發 iOS App 時，生成的 iOS App 將存在 Mac 的某個資料夾裡，我們可利用 Show Build Folder in Finder 打開它。</em>medium.com</a><a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E5%88%A9%E7%94%A8-show-build-folder-in-finder-%E6%9F%A5%E8%A9%A2-ios-app-%E7%9A%84%E5%85%A7%E5%AE%B9-fc5e0d34557" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="c49bb4980132bda77ac622dc9dc6d707" data-thumbnail-img-id="1*_ZY6qrD87d7ieDnkwrAEmg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*_ZY6qrD87d7ieDnkwrAEmg.png);"></a></div><p name="ca24" id="ca24" class="graf graf--p graf-after--mixtapeEmbed">讀取 App 資料夾下的檔案，可透過代表 App 資料夾的 main bundle。</p><div name="f21d" id="f21d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.apple.com/documentation/foundation/bundle/1410786-main" data-href="https://developer.apple.com/documentation/foundation/bundle/1410786-main" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.apple.com/documentation/foundation/bundle/1410786-main"><strong class="markup--strong markup--mixtapeEmbed-strong">main | Apple Developer Documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">Returns the bundle object that contains the current executable.</em>developer.apple.com</a><a href="https://developer.apple.com/documentation/foundation/bundle/1410786-main" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="cde85c68ec269ed55e8e5c5db996057f" data-thumbnail-img-id="0*PABUFz1vh_jFD1V9" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*PABUFz1vh_jFD1V9);"></a></div><p name="edee" id="edee" class="graf graf--p graf-after--mixtapeEmbed">先利用 Bundle.main 得到 main bundle，然後再呼叫 function url(forResource:withExtension:) 取得檔案的 URL。參數 forResource 傳入檔案的名字，withExtension 傳入附檔名。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="b6ac" id="b6ac" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">Bundle</span>.main.url(forResource: <span class="hljs-string">&quot;小幸運&quot;</span>, withExtension: <span class="hljs-string">&quot;mp3&quot;</span>)</span></pre><p name="521c" id="521c" class="graf graf--p graf-after--pre">以上程式在模擬器執行時，印出的路徑如下，檔案將存在 Containers/Bundle 下。另外有一點值得注意的，Containers/Bundle 下的檔案是唯讀的，它只能讀取，不能修改。</p><pre data-code-block-mode="0" spellcheck="false" name="ff49" id="ff49" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">file:///Users/peterpan/Library/Developer/CoreSimulator/Devices/41332752-EE96-43DA-97B6-BF73AB98CA91/data/Containers/Bundle/Application/BE8B9F83-9C87-49C0-8133-334B701950FD/Demo.app/%E5%B0%8F%E5%B9%B8%E9%81%8B.mp3</span></pre><figure name="d08f" id="d08f" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*fmFRuB-pKRL3MBzeHGSERg.png" data-width="1468" data-height="1170" src="https://cdn-images-1.medium.com/max/800/1*fmFRuB-pKRL3MBzeHGSERg.png"></figure><p name="da2c" id="da2c" class="graf graf--p graf-after--figure">如果傳入的檔案找不到，將得到 nil，比方以下例子將找不到大幸運.mp3。</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="873f" id="873f" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">Bundle</span>.main.url(forResource: <span class="hljs-string">&quot;大幸運&quot;</span>, withExtension: <span class="hljs-string">&quot;mp3&quot;</span>)</span></pre><h3 name="6767" id="6767" class="graf graf--h3 graf-after--pre">範例: 透過音檔的 URL 播放音樂</h3><ul class="postList"><li name="fbfc" id="fbfc" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">SwiftUI</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="6363" id="6363" class="graf graf--pre graf-after--li graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> SwiftUI<br /><span class="hljs-keyword">import</span> AVFoundation<br /><br /><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {<br />    <br />    <span class="hljs-keyword">let</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>()<br />    <br />    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {<br />        <span class="hljs-type">VStack</span> {<br />            <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;heart.circle.fill&quot;</span>)<br />                .resizable()<br />                .scaledToFit()<br />                .foregroundStyle(.pink)<br />            <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;原來你是我最想留住的幸運&quot;</span>)<br />                .font(.largeTitle)<br />        }<br />        .padding()<br />        .onAppear {<br />            <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">Bundle</span>.main.url(forResource: <span class="hljs-string">&quot;小幸運&quot;</span>, withExtension: <span class="hljs-string">&quot;mp3&quot;</span>)<span class="hljs-operator">!</span><br />            <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url: url)<br />            player.replaceCurrentItem(with: playerItem)<br />            player.play()<br />        }<br />    }<br />}</span></pre><figure name="06eb" id="06eb" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*sdnD7qmlgGQrBLP-j1Gffg.png" data-width="1179" data-height="2556" src="https://cdn-images-1.medium.com/max/800/1*sdnD7qmlgGQrBLP-j1Gffg.png"></figure><ul class="postList"><li name="b837" id="b837" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">UIKit</strong></li></ul><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="swift" name="59ff" id="59ff" class="graf graf--pre graf-after--li graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">import</span> UIKit<br /><span class="hljs-keyword">import</span> AVFoundation<br /><br /><span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {<br />    <br />    <span class="hljs-keyword">let</span> player <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayer</span>()<br />    <br />    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {<br />        <span class="hljs-keyword">super</span>.viewDidLoad()<br />        <br />        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">Bundle</span>.main.url(forResource: <span class="hljs-string">&quot;小幸運&quot;</span>, withExtension: <span class="hljs-string">&quot;mp3&quot;</span>)<span class="hljs-operator">!</span><br />        <span class="hljs-keyword">let</span> playerItem <span class="hljs-operator">=</span> <span class="hljs-type">AVPlayerItem</span>(url: url)<br />        player.replaceCurrentItem(with: playerItem)<br />        player.play()<br />    }<br />}</span></pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/c5fdb34d5d06"><time class="dt-published" datetime="2022-10-18T06:09:53.545Z">October 18, 2022</time></a>.</p><p><a href="https://medium.com/@apppeterpan/%E5%B0%87%E9%9F%B3%E6%A8%82-%E5%BD%B1%E7%89%87-%E6%96%87%E5%AD%97%E6%AA%94%E7%AD%89%E7%B4%A0%E6%9D%90%E5%8A%A0%E5%88%B0-project-navigator-c5fdb34d5d06" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 17, 2025.</p></footer></article></body></html>