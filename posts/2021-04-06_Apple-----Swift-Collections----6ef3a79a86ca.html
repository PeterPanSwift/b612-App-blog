<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Apple 官方的 Swift Collections 套件</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Apple 官方的 Swift Collections 套件</h1>
</header>
<section data-field="subtitle" class="p-summary">
開發 iOS App 時，我們時常使用 Array，Set &amp; Dictionary 等集合元件。不過在處理某些問題時，我們有時需要更複雜的集合元件，比方排序的 Set。
</section>
<section data-field="body" class="e-content">
<section name="63ac" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7d3d" id="7d3d" class="graf graf--h3 graf--leading graf--title">Apple 官方的 Swift Collections 套件</h3><figure name="38d6" id="38d6" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*EoVcRaeMZ3Xuk_DT_KJnOQ.png" data-width="2588" data-height="1268" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*EoVcRaeMZ3Xuk_DT_KJnOQ.png"></figure><p name="05d4" id="05d4" class="graf graf--p graf-after--figure">開發 iOS App 時，我們時常使用 Array，Set &amp; Dictionary 等集合元件。不過在處理某些問題時，我們有時需要更複雜的集合元件，比方排序的 Set。</p><p name="5236" id="5236" class="graf graf--p graf-after--p">因此 Apple 新推出了 Swift Collections 套件，目前包含了 Deque，OrderedSet &amp; OrderedDictionary 三種集合，接下來讓我們參考 Apple 官方的程式範例，實際測試看看吧。</p><div name="ea15" id="ea15" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://swift.org/blog/swift-collections/" data-href="https://swift.org/blog/swift-collections/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://swift.org/blog/swift-collections/"><strong class="markup--strong markup--mixtapeEmbed-strong">Introducing Swift Collections</strong><br><em class="markup--em markup--mixtapeEmbed-em">I&#39;m thrilled to announce Swift Collections, a new open-source package focused on extending the set of available Swift…</em>swift.org</a><a href="https://swift.org/blog/swift-collections/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="781c89f816e2ed09b499645c9a8f7c88"></a></div><h3 name="ef78" id="ef78" class="graf graf--h3 graf-after--mixtapeEmbed">使用 SPM 安裝 Swift Collections</h3><p name="9c80" id="9c80" class="graf graf--p graf-after--h3">輸入以下網址安裝。</p><pre name="86bd" id="86bd" class="graf graf--pre graf-after--p"><a href="https://github.com/apple/swift-collections" data-href="https://github.com/apple/swift-collections" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://github.com/apple/swift-collections</a></pre><figure name="38eb" id="38eb" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*00qV1FT_IXkOIrJ3X8TORg.png" data-width="1418" data-height="836" src="https://cdn-images-1.medium.com/max/800/1*00qV1FT_IXkOIrJ3X8TORg.png"></figure><figure name="ddab" id="ddab" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*4d6AA0d5rwDoG63qkxXG0Q.png" data-width="1428" data-height="844" src="https://cdn-images-1.medium.com/max/800/1*4d6AA0d5rwDoG63qkxXG0Q.png"></figure><figure name="f2ee" id="f2ee" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*uGIW1iNZc3gsYNzwWIjCDQ.png" data-width="1422" data-height="848" src="https://cdn-images-1.medium.com/max/800/1*uGIW1iNZc3gsYNzwWIjCDQ.png"></figure><h3 name="8c7f" id="8c7f" class="graf graf--h3 graf-after--figure">Deque</h3><p name="3d6c" id="3d6c" class="graf graf--p graf-after--h3">類似 array，不過在以下幾種 case 有更好的效能。</p><ul class="postList"><li name="5017" id="5017" class="graf graf--li graf-after--p">新增東西到第一個或最後一個位置。</li><li name="29f3" id="29f3" class="graf graf--li graf-after--li">移除第一個或最後一個位置的東西。</li></ul><pre name="3a43" id="3a43" class="graf graf--pre graf-after--li">import SwiftUI</pre><pre name="f67d" id="f67d" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">import DequeModule</strong></pre><pre name="77f7" id="77f7" class="graf graf--pre graf-after--pre">struct ContentView: View {<br>    var body: some View {</pre><pre name="5f20" id="5f20" class="graf graf--pre graf-after--pre">        Button(action: {<br>            <strong class="markup--strong markup--pre-strong">var colors: Deque = [&quot;red&quot;, &quot;yellow&quot;, &quot;blue&quot;]<br>            colors.prepend(&quot;green&quot;)<br>            colors.append(&quot;orange&quot;)<br>            print(colors)<br>            var popColor = colors.popFirst()<br>            print(popColor ?? &quot;&quot;)<br>            popColor = colors.popLast()<br>            print(popColor ?? &quot;&quot;)<br>            print(colors)</strong><br>        }, label: {<br>            Text(&quot;測試 Deque&quot;)<br>        })<br>    }<br>}</pre><p name="1094" id="1094" class="graf graf--p graf-after--pre">說明:</p><ul class="postList"><li name="185d" id="185d" class="graf graf--li graf-after--p">prepend : 將東西加到第一個位置。</li><li name="b142" id="b142" class="graf graf--li graf-after--li">append: 將東西加到最後一個位置。</li><li name="d565" id="d565" class="graf graf--li graf-after--li">popFirst: 移除第一個東西。</li><li name="3923" id="3923" class="graf graf--li graf-after--li">popLast: 移除最後一個東西。</li></ul><p name="4595" id="4595" class="graf graf--p graf-after--li">結果</p><pre name="2c72" id="2c72" class="graf graf--pre graf-after--p">[green, red, yellow, blue, orange]<br>green<br>orange<br>[red, yellow, blue]</pre><h3 name="1809" id="1809" class="graf graf--h3 graf-after--pre">OrderedSet</h3><p name="316b" id="316b" class="graf graf--p graf-after--h3">排序的 Set，可像 Array 一樣用 index 存取，而且保證成員不會重覆。</p><pre name="519d" id="519d" class="graf graf--pre graf-after--p">import SwiftUI<br><strong class="markup--strong markup--pre-strong">import OrderedCollections</strong></pre><pre name="a9c4" id="a9c4" class="graf graf--pre graf-after--pre">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            <strong class="markup--strong markup--pre-strong">var buildingMaterials: OrderedSet = [&quot;straw&quot;, &quot;sticks&quot;, &quot;bricks&quot;]<br>            for i in 0 ..&lt; buildingMaterials.count {<br>                print(&quot;Little piggie #\(i) built a house of \(buildingMaterials[i])&quot;)<br>            }<br>            buildingMaterials.append(&quot;straw&quot;)<br>            buildingMaterials.append(&quot;glass&quot;)<br>            print(buildingMaterials)</strong><br>        }, label: {<br>            Text(&quot;測試 OrderedSet&quot;)<br>        })<br>    }<br>}</pre><p name="00b3" id="00b3" class="graf graf--p graf-after--pre">結果</p><pre name="a918" id="a918" class="graf graf--pre graf-after--p">Little piggie #0 built a house of straw<br>Little piggie #1 built a house of sticks<br>Little piggie #2 built a house of bricks<br>[straw, sticks, bricks, glass]</pre><h3 name="fb59" id="fb59" class="graf graf--h3 graf-after--pre">OrderedDictionary</h3><p name="0476" id="0476" class="graf graf--p graf-after--h3">排序的 Dictionary，依據成員加入的順序排序。</p><pre name="8a52" id="8a52" class="graf graf--pre graf-after--p">import SwiftUI<br><strong class="markup--strong markup--pre-strong">import OrderedCollections</strong></pre><pre name="abd3" id="abd3" class="graf graf--pre graf-after--pre">struct ContentView: View {<br>    var body: some View {<br>        Button(action: {<br>            <strong class="markup--strong markup--pre-strong">var responses: OrderedDictionary = [<br>                200: &quot;OK&quot;,<br>                403: &quot;Forbidden&quot;,<br>                404: &quot;Not Found&quot;,<br>            ]<br>            responses[500] = &quot;Internal Server Error&quot;<br>            for (code, phrase) in responses {<br>                print(&quot;\(code) (\(phrase))&quot;)<br>            }<br>            print(responses.elements[0], responses.elements[0].key, responses.elements[0].value)<br>            print(responses[200])</strong><br>        }, label: {<br>            Text(&quot;測試 OrderedDictionary&quot;)<br>        })<br>    }<br>}</pre><p name="ba80" id="ba80" class="graf graf--p graf-after--pre">說明</p><p name="8100" id="8100" class="graf graf--p graf-after--p">OrderedDictionary 將依成員加入的順序排序，透過它的 elements property 可傳入 index 存取成員。</p><p name="8796" id="8796" class="graf graf--p graf-after--p">結果</p><pre name="99d3" id="99d3" class="graf graf--pre graf-after--p graf--trailing">200 (OK)<br>403 (Forbidden)<br>404 (Not Found)<br>500 (Internal Server Error)<br>(key: 200, value: &quot;OK&quot;) 200 OK<br>Optional(&quot;OK&quot;)</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@apppeterpan" class="p-author h-card">彼得潘的 iOS App Neverland</a> on <a href="https://medium.com/p/6ef3a79a86ca"><time class="dt-published" datetime="2021-04-06T15:47:59.669Z">April 6, 2021</time></a>.</p><p><a href="https://medium.com/@apppeterpan/apple-%E5%AE%98%E6%96%B9%E7%9A%84-swift-collections-%E5%A5%97%E4%BB%B6-6ef3a79a86ca" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 16, 2025.</p></footer></article></body></html>